(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();function $f(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var ho={exports:{}},hl={},po={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su;function Af(){if(su)return Ve;su=1;var f=Symbol.for("react.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),x=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),M=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function D(p){return p===null||typeof p!="object"?null:(p=S&&p[S]||p["@@iterator"],typeof p=="function"?p:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,I={};function j(p,z,F){this.props=p,this.context=z,this.refs=I,this.updater=F||X}j.prototype.isReactComponent={},j.prototype.setState=function(p,z){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,z,"setState")},j.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function C(p,z,F){this.props=p,this.context=z,this.refs=I,this.updater=F||X}var B=C.prototype=new Y;B.constructor=C,V(B,j.prototype),B.isPureReactComponent=!0;var b=Array.isArray,U=Object.prototype.hasOwnProperty,ee={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function te(p,z,F){var oe,ce={},ue=null,Ae=null;if(z!=null)for(oe in z.ref!==void 0&&(Ae=z.ref),z.key!==void 0&&(ue=""+z.key),z)U.call(z,oe)&&!W.hasOwnProperty(oe)&&(ce[oe]=z[oe]);var Ce=arguments.length-2;if(Ce===1)ce.children=F;else if(1<Ce){for(var Qe=Array(Ce),We=0;We<Ce;We++)Qe[We]=arguments[We+2];ce.children=Qe}if(p&&p.defaultProps)for(oe in Ce=p.defaultProps,Ce)ce[oe]===void 0&&(ce[oe]=Ce[oe]);return{$$typeof:f,type:p,key:ue,ref:Ae,props:ce,_owner:ee.current}}function me(p,z){return{$$typeof:f,type:p.type,key:z,ref:p.ref,props:p.props,_owner:p._owner}}function he(p){return typeof p=="object"&&p!==null&&p.$$typeof===f}function ge(p){var z={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(F){return z[F]})}var Ee=/\/+/g;function Ie(p,z){return typeof p=="object"&&p!==null&&p.key!=null?ge(""+p.key):z.toString(36)}function H(p,z,F,oe,ce){var ue=typeof p;(ue==="undefined"||ue==="boolean")&&(p=null);var Ae=!1;if(p===null)Ae=!0;else switch(ue){case"string":case"number":Ae=!0;break;case"object":switch(p.$$typeof){case f:case c:Ae=!0}}if(Ae)return Ae=p,ce=ce(Ae),p=oe===""?"."+Ie(Ae,0):oe,b(ce)?(F="",p!=null&&(F=p.replace(Ee,"$&/")+"/"),H(ce,z,F,"",function(We){return We})):ce!=null&&(he(ce)&&(ce=me(ce,F+(!ce.key||Ae&&Ae.key===ce.key?"":(""+ce.key).replace(Ee,"$&/")+"/")+p)),z.push(ce)),1;if(Ae=0,oe=oe===""?".":oe+":",b(p))for(var Ce=0;Ce<p.length;Ce++){ue=p[Ce];var Qe=oe+Ie(ue,Ce);Ae+=H(ue,z,F,Qe,ce)}else if(Qe=D(p),typeof Qe=="function")for(p=Qe.call(p),Ce=0;!(ue=p.next()).done;)ue=ue.value,Qe=oe+Ie(ue,Ce++),Ae+=H(ue,z,F,Qe,ce);else if(ue==="object")throw z=String(p),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Ae}function Me(p,z,F){if(p==null)return p;var oe=[],ce=0;return H(p,oe,"","",function(ue){return z.call(F,ue,ce++)}),oe}function Le(p){if(p._status===-1){var z=p._result;z=z(),z.then(function(F){(p._status===0||p._status===-1)&&(p._status=1,p._result=F)},function(F){(p._status===0||p._status===-1)&&(p._status=2,p._result=F)}),p._status===-1&&(p._status=0,p._result=z)}if(p._status===1)return p._result.default;throw p._result}var _e={current:null},L={transition:null},O={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:L,ReactCurrentOwner:ee};function P(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Me,forEach:function(p,z,F){Me(p,function(){z.apply(this,arguments)},F)},count:function(p){var z=0;return Me(p,function(){z++}),z},toArray:function(p){return Me(p,function(z){return z})||[]},only:function(p){if(!he(p))throw Error("React.Children.only expected to receive a single React element child.");return p}},Ve.Component=j,Ve.Fragment=o,Ve.Profiler=u,Ve.PureComponent=C,Ve.StrictMode=d,Ve.Suspense=g,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,Ve.act=P,Ve.cloneElement=function(p,z,F){if(p==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+p+".");var oe=V({},p.props),ce=p.key,ue=p.ref,Ae=p._owner;if(z!=null){if(z.ref!==void 0&&(ue=z.ref,Ae=ee.current),z.key!==void 0&&(ce=""+z.key),p.type&&p.type.defaultProps)var Ce=p.type.defaultProps;for(Qe in z)U.call(z,Qe)&&!W.hasOwnProperty(Qe)&&(oe[Qe]=z[Qe]===void 0&&Ce!==void 0?Ce[Qe]:z[Qe])}var Qe=arguments.length-2;if(Qe===1)oe.children=F;else if(1<Qe){Ce=Array(Qe);for(var We=0;We<Qe;We++)Ce[We]=arguments[We+2];oe.children=Ce}return{$$typeof:f,type:p.type,key:ce,ref:ue,props:oe,_owner:Ae}},Ve.createContext=function(p){return p={$$typeof:x,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},p.Provider={$$typeof:h,_context:p},p.Consumer=p},Ve.createElement=te,Ve.createFactory=function(p){var z=te.bind(null,p);return z.type=p,z},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(p){return{$$typeof:v,render:p}},Ve.isValidElement=he,Ve.lazy=function(p){return{$$typeof:_,_payload:{_status:-1,_result:p},_init:Le}},Ve.memo=function(p,z){return{$$typeof:M,type:p,compare:z===void 0?null:z}},Ve.startTransition=function(p){var z=L.transition;L.transition={};try{p()}finally{L.transition=z}},Ve.unstable_act=P,Ve.useCallback=function(p,z){return _e.current.useCallback(p,z)},Ve.useContext=function(p){return _e.current.useContext(p)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(p){return _e.current.useDeferredValue(p)},Ve.useEffect=function(p,z){return _e.current.useEffect(p,z)},Ve.useId=function(){return _e.current.useId()},Ve.useImperativeHandle=function(p,z,F){return _e.current.useImperativeHandle(p,z,F)},Ve.useInsertionEffect=function(p,z){return _e.current.useInsertionEffect(p,z)},Ve.useLayoutEffect=function(p,z){return _e.current.useLayoutEffect(p,z)},Ve.useMemo=function(p,z){return _e.current.useMemo(p,z)},Ve.useReducer=function(p,z,F){return _e.current.useReducer(p,z,F)},Ve.useRef=function(p){return _e.current.useRef(p)},Ve.useState=function(p){return _e.current.useState(p)},Ve.useSyncExternalStore=function(p,z,F){return _e.current.useSyncExternalStore(p,z,F)},Ve.useTransition=function(){return _e.current.useTransition()},Ve.version="18.3.1",Ve}var ou;function So(){return ou||(ou=1,po.exports=Af()),po.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au;function Bf(){if(au)return hl;au=1;var f=So(),c=Symbol.for("react.element"),o=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,u=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function x(v,g,M){var _,S={},D=null,X=null;M!==void 0&&(D=""+M),g.key!==void 0&&(D=""+g.key),g.ref!==void 0&&(X=g.ref);for(_ in g)d.call(g,_)&&!h.hasOwnProperty(_)&&(S[_]=g[_]);if(v&&v.defaultProps)for(_ in g=v.defaultProps,g)S[_]===void 0&&(S[_]=g[_]);return{$$typeof:c,type:v,key:D,ref:X,props:S,_owner:u.current}}return hl.Fragment=o,hl.jsx=x,hl.jsxs=x,hl}var cu;function Of(){return cu||(cu=1,ho.exports=Bf()),ho.exports}var l=Of(),R=So();const Ru=$f(R);var ki={},mo={exports:{}},Ht={},xo={exports:{}},go={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu;function Uf(){return uu||(uu=1,(function(f){function c(L,O){var P=L.length;L.push(O);e:for(;0<P;){var p=P-1>>>1,z=L[p];if(0<u(z,O))L[p]=O,L[P]=z,P=p;else break e}}function o(L){return L.length===0?null:L[0]}function d(L){if(L.length===0)return null;var O=L[0],P=L.pop();if(P!==O){L[0]=P;e:for(var p=0,z=L.length,F=z>>>1;p<F;){var oe=2*(p+1)-1,ce=L[oe],ue=oe+1,Ae=L[ue];if(0>u(ce,P))ue<z&&0>u(Ae,ce)?(L[p]=Ae,L[ue]=P,p=ue):(L[p]=ce,L[oe]=P,p=oe);else if(ue<z&&0>u(Ae,P))L[p]=Ae,L[ue]=P,p=ue;else break e}}return O}function u(L,O){var P=L.sortIndex-O.sortIndex;return P!==0?P:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;f.unstable_now=function(){return h.now()}}else{var x=Date,v=x.now();f.unstable_now=function(){return x.now()-v}}var g=[],M=[],_=1,S=null,D=3,X=!1,V=!1,I=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(L){for(var O=o(M);O!==null;){if(O.callback===null)d(M);else if(O.startTime<=L)d(M),O.sortIndex=O.expirationTime,c(g,O);else break;O=o(M)}}function b(L){if(I=!1,B(L),!V)if(o(g)!==null)V=!0,Le(U);else{var O=o(M);O!==null&&_e(b,O.startTime-L)}}function U(L,O){V=!1,I&&(I=!1,Y(te),te=-1),X=!0;var P=D;try{for(B(O),S=o(g);S!==null&&(!(S.expirationTime>O)||L&&!ge());){var p=S.callback;if(typeof p=="function"){S.callback=null,D=S.priorityLevel;var z=p(S.expirationTime<=O);O=f.unstable_now(),typeof z=="function"?S.callback=z:S===o(g)&&d(g),B(O)}else d(g);S=o(g)}if(S!==null)var F=!0;else{var oe=o(M);oe!==null&&_e(b,oe.startTime-O),F=!1}return F}finally{S=null,D=P,X=!1}}var ee=!1,W=null,te=-1,me=5,he=-1;function ge(){return!(f.unstable_now()-he<me)}function Ee(){if(W!==null){var L=f.unstable_now();he=L;var O=!0;try{O=W(!0,L)}finally{O?Ie():(ee=!1,W=null)}}else ee=!1}var Ie;if(typeof C=="function")Ie=function(){C(Ee)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Me=H.port2;H.port1.onmessage=Ee,Ie=function(){Me.postMessage(null)}}else Ie=function(){j(Ee,0)};function Le(L){W=L,ee||(ee=!0,Ie())}function _e(L,O){te=j(function(){L(f.unstable_now())},O)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(L){L.callback=null},f.unstable_continueExecution=function(){V||X||(V=!0,Le(U))},f.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<L?Math.floor(1e3/L):5},f.unstable_getCurrentPriorityLevel=function(){return D},f.unstable_getFirstCallbackNode=function(){return o(g)},f.unstable_next=function(L){switch(D){case 1:case 2:case 3:var O=3;break;default:O=D}var P=D;D=O;try{return L()}finally{D=P}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var P=D;D=L;try{return O()}finally{D=P}},f.unstable_scheduleCallback=function(L,O,P){var p=f.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?p+P:p):P=p,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=P+z,L={id:_++,callback:O,priorityLevel:L,startTime:P,expirationTime:z,sortIndex:-1},P>p?(L.sortIndex=P,c(M,L),o(g)===null&&L===o(M)&&(I?(Y(te),te=-1):I=!0,_e(b,P-p))):(L.sortIndex=z,c(g,L),V||X||(V=!0,Le(U))),L},f.unstable_shouldYield=ge,f.unstable_wrapCallback=function(L){var O=D;return function(){var P=D;D=O;try{return L.apply(this,arguments)}finally{D=P}}}})(go)),go}var du;function Hf(){return du||(du=1,xo.exports=Uf()),xo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu;function Qf(){if(fu)return Ht;fu=1;var f=So(),c=Hf();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,u={};function h(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(u[e]=t,e=0;e<t.length;e++)d.add(t[e])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,M=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function D(e){return g.call(S,e)?!0:g.call(_,e)?!1:M.test(e)?S[e]=!0:(_[e]=!0,!1)}function X(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V(e,t,n,r){if(t===null||typeof t>"u"||X(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function I(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new I(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y,C);j[t]=new I(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y,C);j[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y,C);j[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,t,n,r){var i=j.hasOwnProperty(t)?j[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V(t,n,i,r)&&(n=null),r||i===null?D(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var b=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),ee=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),ge=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),L=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var P=Object.assign,p;function z(e){if(p===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);p=t&&t[1]||""}return`
`+p+e}var F=!1;function oe(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var r=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){r=T}e.call(t.prototype)}else{try{throw Error()}catch(T){r=T}e()}}catch(T){if(T&&r&&typeof T.stack=="string"){for(var i=T.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,m=s.length-1;1<=a&&0<=m&&i[a]!==s[m];)m--;for(;1<=a&&0<=m;a--,m--)if(i[a]!==s[m]){if(a!==1||m!==1)do if(a--,m--,0>m||i[a]!==s[m]){var w=`
`+i[a].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=a&&0<=m);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function ce(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ee:return"Portal";case me:return"Profiler";case te:return"StrictMode";case Ie:return"Suspense";case H:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ge:return(e.displayName||"Context")+".Consumer";case he:return(e._context.displayName||"Context")+".Provider";case Ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Me:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case Le:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function Ae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function We(e){var t=Qe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function it(e){e._valueTracker||(e._valueTracker=We(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Q(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function J(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function re(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ce(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function be(e,t){t=t.checked,t!=null&&B(e,"checked",t,!1)}function ze(e,t){be(e,t);var n=Ce(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?De(e,t.type,n):t.hasOwnProperty("defaultValue")&&De(e,t.type,Ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function De(e,t,n){(t!=="number"||Q(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ye=Array.isArray;function nt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ce(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ae(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(Ye(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ce(n)}}function ie(e,t){var n=Ce(t.value),r=Ce(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function de(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ye,qe=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xe=["Webkit","ms","Moz","O"];Object.keys(Fe).forEach(function(e){Xe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fe[t]=Fe[e]})});function Ue(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fe.hasOwnProperty(e)&&Fe[e]?(""+t).trim():t+"px"}function Ge(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ue(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var rt=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(e,t){if(t){if(rt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Ct(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var et=null;function wt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gt=null,xt=null,Pt=null;function fe(e){if(e=Jr(e)){if(typeof Gt!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Fl(t),Gt(e.stateNode,e.type,t))}}function Oe(e){xt?Pt?Pt.push(e):Pt=[e]:xt=e}function He(){if(xt){var e=xt,t=Pt;if(Pt=xt=null,fe(e),t)for(e=0;e<t.length;e++)fe(t[e])}}function Be(e,t){return e(t)}function A(){}var se=!1;function le(e,t,n){if(se)return e(t,n);se=!0;try{return Be(e,t,n)}finally{se=!1,(xt!==null||Pt!==null)&&(A(),He())}}function Pe(e,t){var n=e.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var st=!1;if(v)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){st=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{st=!1}function Ft(e,t,n,r,i,s,a,m,w){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(K){this.onError(K)}}var bt=!1,jn=null,zn=!1,Nn=null,xl={onError:function(e){bt=!0,jn=e}};function _i(e,t,n,r,i,s,a,m,w){bt=!1,jn=null,Ft.apply(xl,arguments)}function Wu(e,t,n,r,i,s,a,m,w){if(_i.apply(this,arguments),bt){if(bt){var T=jn;bt=!1,jn=null}else throw Error(o(198));zn||(zn=!0,Nn=T)}}function Vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Po(e){if(Vn(e)!==e)throw Error(o(188))}function Xu(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Po(i),e;if(s===r)return Po(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,m=i.child;m;){if(m===n){a=!0,n=i,r=s;break}if(m===r){a=!0,r=i,n=s;break}m=m.sibling}if(!a){for(m=s.child;m;){if(m===n){a=!0,n=s,r=i;break}if(m===r){a=!0,r=s,n=i;break}m=m.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function _o(e){return e=Xu(e),e!==null?Io(e):null}function Io(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Io(e);if(t!==null)return t;e=e.sibling}return null}var To=c.unstable_scheduleCallback,Ro=c.unstable_cancelCallback,Gu=c.unstable_shouldYield,qu=c.unstable_requestPaint,gt=c.unstable_now,Ku=c.unstable_getCurrentPriorityLevel,Ii=c.unstable_ImmediatePriority,Lo=c.unstable_UserBlockingPriority,gl=c.unstable_NormalPriority,Yu=c.unstable_LowPriority,Do=c.unstable_IdlePriority,vl=null,un=null;function Ju(e){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:td,Zu=Math.log,ed=Math.LN2;function td(e){return e>>>=0,e===0?32:31-(Zu(e)/ed|0)|0}var yl=64,wl=4194304;function Rr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var m=a&~i;m!==0?r=Rr(m):(s&=a,s!==0&&(r=Rr(s)))}else a=n&~i,a!==0?r=Rr(a):s!==0&&(r=Rr(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tn(t),i=1<<n,r|=e[n],t&=~i;return r}function nd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-tn(s),m=1<<a,w=i[a];w===-1?((m&n)===0||(m&r)!==0)&&(i[a]=nd(m,t)):w<=t&&(e.expiredLanes|=m),s&=~m}}function Ti(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fo(){var e=yl;return yl<<=1,(yl&4194240)===0&&(yl=64),e}function Ri(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function ld(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Li(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tt=0;function $o(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ao,Di,Bo,Oo,Uo,Fi=!1,kl=[],Sn=null,Cn=null,En=null,Dr=new Map,Fr=new Map,Mn=[],id="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ho(e,t){switch(e){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function $r(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Jr(t),t!==null&&Di(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sd(e,t,n,r,i){switch(t){case"focusin":return Sn=$r(Sn,e,t,n,r,i),!0;case"dragenter":return Cn=$r(Cn,e,t,n,r,i),!0;case"mouseover":return En=$r(En,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dr.set(s,$r(Dr.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fr.set(s,$r(Fr.get(s)||null,e,t,n,r,i)),!0}return!1}function Qo(e){var t=Wn(e.target);if(t!==null){var n=Vn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mo(n),t!==null){e.blockedOn=t,Uo(e.priority,function(){Bo(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ai(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);et=r,n.target.dispatchEvent(r),et=null}else return t=Jr(n),t!==null&&Di(t),e.blockedOn=n,!1;t.shift()}return!0}function Vo(e,t,n){jl(e)&&n.delete(t)}function od(){Fi=!1,Sn!==null&&jl(Sn)&&(Sn=null),Cn!==null&&jl(Cn)&&(Cn=null),En!==null&&jl(En)&&(En=null),Dr.forEach(Vo),Fr.forEach(Vo)}function Ar(e,t){e.blockedOn===t&&(e.blockedOn=null,Fi||(Fi=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,od)))}function Br(e){function t(i){return Ar(i,e)}if(0<kl.length){Ar(kl[0],e);for(var n=1;n<kl.length;n++){var r=kl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sn!==null&&Ar(Sn,e),Cn!==null&&Ar(Cn,e),En!==null&&Ar(En,e),Dr.forEach(t),Fr.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Qo(n),n.blockedOn===null&&Mn.shift()}var sr=b.ReactCurrentBatchConfig,zl=!0;function ad(e,t,n,r){var i=tt,s=sr.transition;sr.transition=null;try{tt=1,$i(e,t,n,r)}finally{tt=i,sr.transition=s}}function cd(e,t,n,r){var i=tt,s=sr.transition;sr.transition=null;try{tt=4,$i(e,t,n,r)}finally{tt=i,sr.transition=s}}function $i(e,t,n,r){if(zl){var i=Ai(e,t,n,r);if(i===null)ns(e,t,r,Nl,n),Ho(e,r);else if(sd(i,e,t,n,r))r.stopPropagation();else if(Ho(e,r),t&4&&-1<id.indexOf(e)){for(;i!==null;){var s=Jr(i);if(s!==null&&Ao(s),s=Ai(e,t,n,r),s===null&&ns(e,t,r,Nl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ns(e,t,r,null,n)}}var Nl=null;function Ai(e,t,n,r){if(Nl=null,e=wt(r),e=Wn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mo(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nl=e,null}function Wo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ku()){case Ii:return 1;case Lo:return 4;case gl:case Yu:return 16;case Do:return 536870912;default:return 16}default:return 16}}var Pn=null,Bi=null,Sl=null;function Xo(){if(Sl)return Sl;var e,t=Bi,n=t.length,r,i="value"in Pn?Pn.value:Pn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Sl=i.slice(e,1<r?1-r:void 0)}function Cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function Go(){return!1}function Qt(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(s):s[m]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?El:Go,this.isPropagationStopped=Go,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Qt(or),Or=P({},or,{view:0,detail:0}),ud=Qt(Or),Ui,Hi,Ur,Ml=P({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Ui=e.screenX-Ur.screenX,Hi=e.screenY-Ur.screenY):Hi=Ui=0,Ur=e),Ui)},movementY:function(e){return"movementY"in e?e.movementY:Hi}}),qo=Qt(Ml),dd=P({},Ml,{dataTransfer:0}),fd=Qt(dd),hd=P({},Or,{relatedTarget:0}),Qi=Qt(hd),pd=P({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),md=Qt(pd),xd=P({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gd=Qt(xd),vd=P({},or,{data:0}),Ko=Qt(vd),yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bd[e])?!!t[e]:!1}function Vi(){return kd}var jd=P({},Or,{key:function(e){if(e.key){var t=yd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(e){return e.type==="keypress"?Cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zd=Qt(jd),Nd=P({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Qt(Nd),Sd=P({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),Cd=Qt(Sd),Ed=P({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Md=Qt(Ed),Pd=P({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_d=Qt(Pd),Id=[9,13,27,32],Wi=v&&"CompositionEvent"in window,Hr=null;v&&"documentMode"in document&&(Hr=document.documentMode);var Td=v&&"TextEvent"in window&&!Hr,Jo=v&&(!Wi||Hr&&8<Hr&&11>=Hr),Zo=" ",ea=!1;function ta(e,t){switch(e){case"keyup":return Id.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function Rd(e,t){switch(e){case"compositionend":return na(t);case"keypress":return t.which!==32?null:(ea=!0,Zo);case"textInput":return e=t.data,e===Zo&&ea?null:e;default:return null}}function Ld(e,t){if(ar)return e==="compositionend"||!Wi&&ta(e,t)?(e=Xo(),Sl=Bi=Pn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jo&&t.locale!=="ko"?null:t.data;default:return null}}var Dd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dd[e.type]:t==="textarea"}function la(e,t,n,r){Oe(r),t=Rl(t,"onChange"),0<t.length&&(n=new Oi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qr=null,Vr=null;function Fd(e){ka(e,0)}function Pl(e){var t=hr(e);if(G(t))return e}function $d(e,t){if(e==="change")return t}var ia=!1;if(v){var Xi;if(v){var Gi="oninput"in document;if(!Gi){var sa=document.createElement("div");sa.setAttribute("oninput","return;"),Gi=typeof sa.oninput=="function"}Xi=Gi}else Xi=!1;ia=Xi&&(!document.documentMode||9<document.documentMode)}function oa(){Qr&&(Qr.detachEvent("onpropertychange",aa),Vr=Qr=null)}function aa(e){if(e.propertyName==="value"&&Pl(Vr)){var t=[];la(t,Vr,e,wt(e)),le(Fd,t)}}function Ad(e,t,n){e==="focusin"?(oa(),Qr=t,Vr=n,Qr.attachEvent("onpropertychange",aa)):e==="focusout"&&oa()}function Bd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(Vr)}function Od(e,t){if(e==="click")return Pl(t)}function Ud(e,t){if(e==="input"||e==="change")return Pl(t)}function Hd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:Hd;function Wr(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g.call(t,i)||!nn(e[i],t[i]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var n=ca(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ca(n)}}function da(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?da(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fa(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Q(e.document)}return t}function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qd(e){var t=fa(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(r!==null&&qi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ua(n,s);var a=ua(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vd=v&&"documentMode"in document&&11>=document.documentMode,cr=null,Ki=null,Xr=null,Yi=!1;function ha(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yi||cr==null||cr!==Q(r)||(r=cr,"selectionStart"in r&&qi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xr&&Wr(Xr,r)||(Xr=r,r=Rl(Ki,"onSelect"),0<r.length&&(t=new Oi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function _l(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},Ji={},pa={};v&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Il(e){if(Ji[e])return Ji[e];if(!ur[e])return e;var t=ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pa)return Ji[e]=t[n];return e}var ma=Il("animationend"),xa=Il("animationiteration"),ga=Il("animationstart"),va=Il("transitionend"),ya=new Map,wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){ya.set(e,t),h(t,[e])}for(var Zi=0;Zi<wa.length;Zi++){var es=wa[Zi],Wd=es.toLowerCase(),Xd=es[0].toUpperCase()+es.slice(1);_n(Wd,"on"+Xd)}_n(ma,"onAnimationEnd"),_n(xa,"onAnimationIteration"),_n(ga,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(va,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function ba(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wu(r,t,void 0,e),e.currentTarget=null}function ka(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var m=r[a],w=m.instance,T=m.currentTarget;if(m=m.listener,w!==s&&i.isPropagationStopped())break e;ba(i,m,T),s=w}else for(a=0;a<r.length;a++){if(m=r[a],w=m.instance,T=m.currentTarget,m=m.listener,w!==s&&i.isPropagationStopped())break e;ba(i,m,T),s=w}}}if(zn)throw e=Nn,zn=!1,Nn=null,e}function ct(e,t){var n=t[as];n===void 0&&(n=t[as]=new Set);var r=e+"__bubble";n.has(r)||(ja(t,e,2,!1),n.add(r))}function ts(e,t,n){var r=0;t&&(r|=4),ja(n,e,r,t)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Tl]){e[Tl]=!0,d.forEach(function(n){n!=="selectionchange"&&(Gd.has(n)||ts(n,!1,e),ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tl]||(t[Tl]=!0,ts("selectionchange",!1,t))}}function ja(e,t,n,r){switch(Wo(t)){case 1:var i=ad;break;case 4:i=cd;break;default:i=$i}n=i.bind(null,t,n,e),i=void 0,!st||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ns(e,t,n,r,i){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var m=r.stateNode.containerInfo;if(m===i||m.nodeType===8&&m.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var w=a.tag;if((w===3||w===4)&&(w=a.stateNode.containerInfo,w===i||w.nodeType===8&&w.parentNode===i))return;a=a.return}for(;m!==null;){if(a=Wn(m),a===null)return;if(w=a.tag,w===5||w===6){r=s=a;continue e}m=m.parentNode}}r=r.return}le(function(){var T=s,K=wt(n),Z=[];e:{var q=ya.get(e);if(q!==void 0){var pe=Oi,we=e;switch(e){case"keypress":if(Cl(n)===0)break e;case"keydown":case"keyup":pe=zd;break;case"focusin":we="focus",pe=Qi;break;case"focusout":we="blur",pe=Qi;break;case"beforeblur":case"afterblur":pe=Qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Cd;break;case ma:case xa:case ga:pe=md;break;case va:pe=Md;break;case"scroll":pe=ud;break;case"wheel":pe=_d;break;case"copy":case"cut":case"paste":pe=gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Yo}var je=(t&4)!==0,vt=!je&&e==="scroll",N=je?q!==null?q+"Capture":null:q;je=[];for(var k=T,E;k!==null;){E=k;var ne=E.stateNode;if(E.tag===5&&ne!==null&&(E=ne,N!==null&&(ne=Pe(k,N),ne!=null&&je.push(Kr(k,ne,E)))),vt)break;k=k.return}0<je.length&&(q=new pe(q,we,null,n,K),Z.push({event:q,listeners:je}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",q&&n!==et&&(we=n.relatedTarget||n.fromElement)&&(Wn(we)||we[mn]))break e;if((pe||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,pe?(we=n.relatedTarget||n.toElement,pe=T,we=we?Wn(we):null,we!==null&&(vt=Vn(we),we!==vt||we.tag!==5&&we.tag!==6)&&(we=null)):(pe=null,we=T),pe!==we)){if(je=qo,ne="onMouseLeave",N="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(je=Yo,ne="onPointerLeave",N="onPointerEnter",k="pointer"),vt=pe==null?q:hr(pe),E=we==null?q:hr(we),q=new je(ne,k+"leave",pe,n,K),q.target=vt,q.relatedTarget=E,ne=null,Wn(K)===T&&(je=new je(N,k+"enter",we,n,K),je.target=E,je.relatedTarget=vt,ne=je),vt=ne,pe&&we)t:{for(je=pe,N=we,k=0,E=je;E;E=dr(E))k++;for(E=0,ne=N;ne;ne=dr(ne))E++;for(;0<k-E;)je=dr(je),k--;for(;0<E-k;)N=dr(N),E--;for(;k--;){if(je===N||N!==null&&je===N.alternate)break t;je=dr(je),N=dr(N)}je=null}else je=null;pe!==null&&za(Z,q,pe,je,!1),we!==null&&vt!==null&&za(Z,vt,we,je,!0)}}e:{if(q=T?hr(T):window,pe=q.nodeName&&q.nodeName.toLowerCase(),pe==="select"||pe==="input"&&q.type==="file")var Ne=$d;else if(ra(q))if(ia)Ne=Ud;else{Ne=Bd;var Te=Ad}else(pe=q.nodeName)&&pe.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(Ne=Od);if(Ne&&(Ne=Ne(e,T))){la(Z,Ne,n,K);break e}Te&&Te(e,q,T),e==="focusout"&&(Te=q._wrapperState)&&Te.controlled&&q.type==="number"&&De(q,"number",q.value)}switch(Te=T?hr(T):window,e){case"focusin":(ra(Te)||Te.contentEditable==="true")&&(cr=Te,Ki=T,Xr=null);break;case"focusout":Xr=Ki=cr=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":Yi=!1,ha(Z,n,K);break;case"selectionchange":if(Vd)break;case"keydown":case"keyup":ha(Z,n,K)}var Re;if(Wi)e:{switch(e){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ar?ta(e,n)&&($e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($e="onCompositionStart");$e&&(Jo&&n.locale!=="ko"&&(ar||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ar&&(Re=Xo()):(Pn=K,Bi="value"in Pn?Pn.value:Pn.textContent,ar=!0)),Te=Rl(T,$e),0<Te.length&&($e=new Ko($e,e,null,n,K),Z.push({event:$e,listeners:Te}),Re?$e.data=Re:(Re=na(n),Re!==null&&($e.data=Re)))),(Re=Td?Rd(e,n):Ld(e,n))&&(T=Rl(T,"onBeforeInput"),0<T.length&&(K=new Ko("onBeforeInput","beforeinput",null,n,K),Z.push({event:K,listeners:T}),K.data=Re))}ka(Z,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pe(e,n),s!=null&&r.unshift(Kr(e,s,i)),s=Pe(e,t),s!=null&&r.push(Kr(e,s,i))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function za(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var m=n,w=m.alternate,T=m.stateNode;if(w!==null&&w===r)break;m.tag===5&&T!==null&&(m=T,i?(w=Pe(n,s),w!=null&&a.unshift(Kr(n,w,m))):i||(w=Pe(n,s),w!=null&&a.push(Kr(n,w,m)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var qd=/\r\n?/g,Kd=/\u0000|\uFFFD/g;function Na(e){return(typeof e=="string"?e:""+e).replace(qd,`
`).replace(Kd,"")}function Ll(e,t,n){if(t=Na(t),Na(e)!==t&&n)throw Error(o(425))}function Dl(){}var rs=null,ls=null;function is(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ss=typeof setTimeout=="function"?setTimeout:void 0,Yd=typeof clearTimeout=="function"?clearTimeout:void 0,Sa=typeof Promise=="function"?Promise:void 0,Jd=typeof queueMicrotask=="function"?queueMicrotask:typeof Sa<"u"?function(e){return Sa.resolve(null).then(e).catch(Zd)}:ss;function Zd(e){setTimeout(function(){throw e})}function os(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Br(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Br(t)}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ca(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fr=Math.random().toString(36).slice(2),dn="__reactFiber$"+fr,Yr="__reactProps$"+fr,mn="__reactContainer$"+fr,as="__reactEvents$"+fr,ef="__reactListeners$"+fr,tf="__reactHandles$"+fr;function Wn(e){var t=e[dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ca(e);e!==null;){if(n=e[dn])return n;e=Ca(e)}return t}e=n,n=e.parentNode}return null}function Jr(e){return e=e[dn]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Fl(e){return e[Yr]||null}var cs=[],pr=-1;function Tn(e){return{current:e}}function ut(e){0>pr||(e.current=cs[pr],cs[pr]=null,pr--)}function ot(e,t){pr++,cs[pr]=e.current,e.current=t}var Rn={},_t=Tn(Rn),$t=Tn(!1),Xn=Rn;function mr(e,t){var n=e.type.contextTypes;if(!n)return Rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function At(e){return e=e.childContextTypes,e!=null}function $l(){ut($t),ut(_t)}function Ea(e,t,n){if(_t.current!==Rn)throw Error(o(168));ot(_t,t),ot($t,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(o(108,Ae(e)||"Unknown",i));return P({},n,r)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rn,Xn=_t.current,ot(_t,e),ot($t,$t.current),!0}function Pa(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ma(e,t,Xn),r.__reactInternalMemoizedMergedChildContext=e,ut($t),ut(_t),ot(_t,e)):ut($t),ot($t,n)}var xn=null,Bl=!1,us=!1;function _a(e){xn===null?xn=[e]:xn.push(e)}function nf(e){Bl=!0,_a(e)}function Ln(){if(!us&&xn!==null){us=!0;var e=0,t=tt;try{var n=xn;for(tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xn=null,Bl=!1}catch(i){throw xn!==null&&(xn=xn.slice(e+1)),To(Ii,Ln),i}finally{tt=t,us=!1}}return null}var xr=[],gr=0,Ol=null,Ul=0,qt=[],Kt=0,Gn=null,gn=1,vn="";function qn(e,t){xr[gr++]=Ul,xr[gr++]=Ol,Ol=e,Ul=t}function Ia(e,t,n){qt[Kt++]=gn,qt[Kt++]=vn,qt[Kt++]=Gn,Gn=e;var r=gn;e=vn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var s=32-tn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,gn=1<<32-tn(t)+i|n<<i|r,vn=s+e}else gn=1<<s|n<<i|r,vn=e}function ds(e){e.return!==null&&(qn(e,1),Ia(e,1,0))}function fs(e){for(;e===Ol;)Ol=xr[--gr],xr[gr]=null,Ul=xr[--gr],xr[gr]=null;for(;e===Gn;)Gn=qt[--Kt],qt[Kt]=null,vn=qt[--Kt],qt[Kt]=null,gn=qt[--Kt],qt[Kt]=null}var Vt=null,Wt=null,dt=!1,rn=null;function Ta(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vt=e,Wt=In(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vt=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:gn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vt=e,Wt=null,!0):!1;default:return!1}}function hs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ps(e){if(dt){var t=Wt;if(t){var n=t;if(!Ra(e,t)){if(hs(e))throw Error(o(418));t=In(n.nextSibling);var r=Vt;t&&Ra(e,t)?Ta(r,n):(e.flags=e.flags&-4097|2,dt=!1,Vt=e)}}else{if(hs(e))throw Error(o(418));e.flags=e.flags&-4097|2,dt=!1,Vt=e}}}function La(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function Hl(e){if(e!==Vt)return!1;if(!dt)return La(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!is(e.type,e.memoizedProps)),t&&(t=Wt)){if(hs(e))throw Da(),Error(o(418));for(;t;)Ta(e,t),t=In(t.nextSibling)}if(La(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wt=In(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=Vt?In(e.stateNode.nextSibling):null;return!0}function Da(){for(var e=Wt;e;)e=In(e.nextSibling)}function vr(){Wt=Vt=null,dt=!1}function ms(e){rn===null?rn=[e]:rn.push(e)}var rf=b.ReactCurrentBatchConfig;function Zr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var m=i.refs;a===null?delete m[s]:m[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ql(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fa(e){var t=e._init;return t(e._payload)}function $a(e){function t(N,k){if(e){var E=N.deletions;E===null?(N.deletions=[k],N.flags|=16):E.push(k)}}function n(N,k){if(!e)return null;for(;k!==null;)t(N,k),k=k.sibling;return null}function r(N,k){for(N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function i(N,k){return N=Hn(N,k),N.index=0,N.sibling=null,N}function s(N,k,E){return N.index=E,e?(E=N.alternate,E!==null?(E=E.index,E<k?(N.flags|=2,k):E):(N.flags|=2,k)):(N.flags|=1048576,k)}function a(N){return e&&N.alternate===null&&(N.flags|=2),N}function m(N,k,E,ne){return k===null||k.tag!==6?(k=so(E,N.mode,ne),k.return=N,k):(k=i(k,E),k.return=N,k)}function w(N,k,E,ne){var Ne=E.type;return Ne===W?K(N,k,E.props.children,ne,E.key):k!==null&&(k.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Le&&Fa(Ne)===k.type)?(ne=i(k,E.props),ne.ref=Zr(N,k,E),ne.return=N,ne):(ne=pi(E.type,E.key,E.props,null,N.mode,ne),ne.ref=Zr(N,k,E),ne.return=N,ne)}function T(N,k,E,ne){return k===null||k.tag!==4||k.stateNode.containerInfo!==E.containerInfo||k.stateNode.implementation!==E.implementation?(k=oo(E,N.mode,ne),k.return=N,k):(k=i(k,E.children||[]),k.return=N,k)}function K(N,k,E,ne,Ne){return k===null||k.tag!==7?(k=rr(E,N.mode,ne,Ne),k.return=N,k):(k=i(k,E),k.return=N,k)}function Z(N,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return k=so(""+k,N.mode,E),k.return=N,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case U:return E=pi(k.type,k.key,k.props,null,N.mode,E),E.ref=Zr(N,null,k),E.return=N,E;case ee:return k=oo(k,N.mode,E),k.return=N,k;case Le:var ne=k._init;return Z(N,ne(k._payload),E)}if(Ye(k)||O(k))return k=rr(k,N.mode,E,null),k.return=N,k;Ql(N,k)}return null}function q(N,k,E,ne){var Ne=k!==null?k.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return Ne!==null?null:m(N,k,""+E,ne);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case U:return E.key===Ne?w(N,k,E,ne):null;case ee:return E.key===Ne?T(N,k,E,ne):null;case Le:return Ne=E._init,q(N,k,Ne(E._payload),ne)}if(Ye(E)||O(E))return Ne!==null?null:K(N,k,E,ne,null);Ql(N,E)}return null}function pe(N,k,E,ne,Ne){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return N=N.get(E)||null,m(k,N,""+ne,Ne);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case U:return N=N.get(ne.key===null?E:ne.key)||null,w(k,N,ne,Ne);case ee:return N=N.get(ne.key===null?E:ne.key)||null,T(k,N,ne,Ne);case Le:var Te=ne._init;return pe(N,k,E,Te(ne._payload),Ne)}if(Ye(ne)||O(ne))return N=N.get(E)||null,K(k,N,ne,Ne,null);Ql(k,ne)}return null}function we(N,k,E,ne){for(var Ne=null,Te=null,Re=k,$e=k=0,St=null;Re!==null&&$e<E.length;$e++){Re.index>$e?(St=Re,Re=null):St=Re.sibling;var Je=q(N,Re,E[$e],ne);if(Je===null){Re===null&&(Re=St);break}e&&Re&&Je.alternate===null&&t(N,Re),k=s(Je,k,$e),Te===null?Ne=Je:Te.sibling=Je,Te=Je,Re=St}if($e===E.length)return n(N,Re),dt&&qn(N,$e),Ne;if(Re===null){for(;$e<E.length;$e++)Re=Z(N,E[$e],ne),Re!==null&&(k=s(Re,k,$e),Te===null?Ne=Re:Te.sibling=Re,Te=Re);return dt&&qn(N,$e),Ne}for(Re=r(N,Re);$e<E.length;$e++)St=pe(Re,N,$e,E[$e],ne),St!==null&&(e&&St.alternate!==null&&Re.delete(St.key===null?$e:St.key),k=s(St,k,$e),Te===null?Ne=St:Te.sibling=St,Te=St);return e&&Re.forEach(function(Qn){return t(N,Qn)}),dt&&qn(N,$e),Ne}function je(N,k,E,ne){var Ne=O(E);if(typeof Ne!="function")throw Error(o(150));if(E=Ne.call(E),E==null)throw Error(o(151));for(var Te=Ne=null,Re=k,$e=k=0,St=null,Je=E.next();Re!==null&&!Je.done;$e++,Je=E.next()){Re.index>$e?(St=Re,Re=null):St=Re.sibling;var Qn=q(N,Re,Je.value,ne);if(Qn===null){Re===null&&(Re=St);break}e&&Re&&Qn.alternate===null&&t(N,Re),k=s(Qn,k,$e),Te===null?Ne=Qn:Te.sibling=Qn,Te=Qn,Re=St}if(Je.done)return n(N,Re),dt&&qn(N,$e),Ne;if(Re===null){for(;!Je.done;$e++,Je=E.next())Je=Z(N,Je.value,ne),Je!==null&&(k=s(Je,k,$e),Te===null?Ne=Je:Te.sibling=Je,Te=Je);return dt&&qn(N,$e),Ne}for(Re=r(N,Re);!Je.done;$e++,Je=E.next())Je=pe(Re,N,$e,Je.value,ne),Je!==null&&(e&&Je.alternate!==null&&Re.delete(Je.key===null?$e:Je.key),k=s(Je,k,$e),Te===null?Ne=Je:Te.sibling=Je,Te=Je);return e&&Re.forEach(function(Ff){return t(N,Ff)}),dt&&qn(N,$e),Ne}function vt(N,k,E,ne){if(typeof E=="object"&&E!==null&&E.type===W&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case U:e:{for(var Ne=E.key,Te=k;Te!==null;){if(Te.key===Ne){if(Ne=E.type,Ne===W){if(Te.tag===7){n(N,Te.sibling),k=i(Te,E.props.children),k.return=N,N=k;break e}}else if(Te.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Le&&Fa(Ne)===Te.type){n(N,Te.sibling),k=i(Te,E.props),k.ref=Zr(N,Te,E),k.return=N,N=k;break e}n(N,Te);break}else t(N,Te);Te=Te.sibling}E.type===W?(k=rr(E.props.children,N.mode,ne,E.key),k.return=N,N=k):(ne=pi(E.type,E.key,E.props,null,N.mode,ne),ne.ref=Zr(N,k,E),ne.return=N,N=ne)}return a(N);case ee:e:{for(Te=E.key;k!==null;){if(k.key===Te)if(k.tag===4&&k.stateNode.containerInfo===E.containerInfo&&k.stateNode.implementation===E.implementation){n(N,k.sibling),k=i(k,E.children||[]),k.return=N,N=k;break e}else{n(N,k);break}else t(N,k);k=k.sibling}k=oo(E,N.mode,ne),k.return=N,N=k}return a(N);case Le:return Te=E._init,vt(N,k,Te(E._payload),ne)}if(Ye(E))return we(N,k,E,ne);if(O(E))return je(N,k,E,ne);Ql(N,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,k!==null&&k.tag===6?(n(N,k.sibling),k=i(k,E),k.return=N,N=k):(n(N,k),k=so(E,N.mode,ne),k.return=N,N=k),a(N)):n(N,k)}return vt}var yr=$a(!0),Aa=$a(!1),Vl=Tn(null),Wl=null,wr=null,xs=null;function gs(){xs=wr=Wl=null}function vs(e){var t=Vl.current;ut(Vl),e._currentValue=t}function ys(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function br(e,t){Wl=e,xs=wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Bt=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(xs!==e)if(e={context:e,memoizedValue:t,next:null},wr===null){if(Wl===null)throw Error(o(308));wr=e,Wl.dependencies={lanes:0,firstContext:e}}else wr=wr.next=e;return t}var Kn=null;function ws(e){Kn===null?Kn=[e]:Kn.push(e)}function Ba(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ws(t)):(n.next=i.next,i.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dn=!1;function bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ke&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yn(e,n)}return i=r.interleaved,i===null?(t.next=t,ws(r)):(t.next=i.next,i.next=t),r.interleaved=t,yn(e,n)}function Xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Li(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gl(e,t,n,r){var i=e.updateQueue;Dn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,m=i.shared.pending;if(m!==null){i.shared.pending=null;var w=m,T=w.next;w.next=null,a===null?s=T:a.next=T,a=w;var K=e.alternate;K!==null&&(K=K.updateQueue,m=K.lastBaseUpdate,m!==a&&(m===null?K.firstBaseUpdate=T:m.next=T,K.lastBaseUpdate=w))}if(s!==null){var Z=i.baseState;a=0,K=T=w=null,m=s;do{var q=m.lane,pe=m.eventTime;if((r&q)===q){K!==null&&(K=K.next={eventTime:pe,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var we=e,je=m;switch(q=t,pe=n,je.tag){case 1:if(we=je.payload,typeof we=="function"){Z=we.call(pe,Z,q);break e}Z=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=je.payload,q=typeof we=="function"?we.call(pe,Z,q):we,q==null)break e;Z=P({},Z,q);break e;case 2:Dn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,q=i.effects,q===null?i.effects=[m]:q.push(m))}else pe={eventTime:pe,lane:q,tag:m.tag,payload:m.payload,callback:m.callback,next:null},K===null?(T=K=pe,w=Z):K=K.next=pe,a|=q;if(m=m.next,m===null){if(m=i.shared.pending,m===null)break;q=m,m=q.next,q.next=null,i.lastBaseUpdate=q,i.shared.pending=null}}while(!0);if(K===null&&(w=Z),i.baseState=w,i.firstBaseUpdate=T,i.lastBaseUpdate=K,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Zn|=a,e.lanes=a,e.memoizedState=Z}}function Ha(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(o(191,i));i.call(r)}}}var el={},fn=Tn(el),tl=Tn(el),nl=Tn(el);function Yn(e){if(e===el)throw Error(o(174));return e}function ks(e,t){switch(ot(nl,t),ot(tl,e),ot(fn,el),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Se(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Se(t,e)}ut(fn),ot(fn,t)}function kr(){ut(fn),ut(tl),ut(nl)}function Qa(e){Yn(nl.current);var t=Yn(fn.current),n=Se(t,e.type);t!==n&&(ot(tl,e),ot(fn,n))}function js(e){tl.current===e&&(ut(fn),ut(tl))}var ft=Tn(0);function ql(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=[];function Ns(){for(var e=0;e<zs.length;e++)zs[e]._workInProgressVersionPrimary=null;zs.length=0}var Kl=b.ReactCurrentDispatcher,Ss=b.ReactCurrentBatchConfig,Jn=0,ht=null,kt=null,zt=null,Yl=!1,rl=!1,ll=0,lf=0;function It(){throw Error(o(321))}function Cs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nn(e[n],t[n]))return!1;return!0}function Es(e,t,n,r,i,s){if(Jn=s,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kl.current=e===null||e.memoizedState===null?cf:uf,e=n(r,i),rl){s=0;do{if(rl=!1,ll=0,25<=s)throw Error(o(301));s+=1,zt=kt=null,t.updateQueue=null,Kl.current=df,e=n(r,i)}while(rl)}if(Kl.current=ei,t=kt!==null&&kt.next!==null,Jn=0,zt=kt=ht=null,Yl=!1,t)throw Error(o(300));return e}function Ms(){var e=ll!==0;return ll=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ht.memoizedState=zt=e:zt=zt.next=e,zt}function Jt(){if(kt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=zt===null?ht.memoizedState:zt.next;if(t!==null)zt=t,kt=e;else{if(e===null)throw Error(o(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},zt===null?ht.memoizedState=zt=e:zt=zt.next=e}return zt}function il(e,t){return typeof t=="function"?t(e):t}function Ps(e){var t=Jt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var m=a=null,w=null,T=s;do{var K=T.lane;if((Jn&K)===K)w!==null&&(w=w.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),r=T.hasEagerState?T.eagerState:e(r,T.action);else{var Z={lane:K,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};w===null?(m=w=Z,a=r):w=w.next=Z,ht.lanes|=K,Zn|=K}T=T.next}while(T!==null&&T!==s);w===null?a=r:w.next=m,nn(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=w,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ht.lanes|=s,Zn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=Jt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);nn(s,t.memoizedState)||(Bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Va(){}function Wa(e,t){var n=ht,r=Jt(),i=t(),s=!nn(r.memoizedState,i);if(s&&(r.memoizedState=i,Bt=!0),r=r.queue,Is(qa.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,sl(9,Ga.bind(null,n,r,i,t),void 0,null),Nt===null)throw Error(o(349));(Jn&30)!==0||Xa(n,t,i)}return i}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ga(e,t,n,r){t.value=n,t.getSnapshot=r,Ka(t)&&Ya(e)}function qa(e,t,n){return n(function(){Ka(t)&&Ya(e)})}function Ka(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nn(e,n)}catch{return!0}}function Ya(e){var t=yn(e,1);t!==null&&an(t,e,1,-1)}function Ja(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t.queue=e,e=e.dispatch=af.bind(null,ht,e),[t.memoizedState,e]}function sl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Za(){return Jt().memoizedState}function Jl(e,t,n,r){var i=hn();ht.flags|=e,i.memoizedState=sl(1|t,n,void 0,r===void 0?null:r)}function Zl(e,t,n,r){var i=Jt();r=r===void 0?null:r;var s=void 0;if(kt!==null){var a=kt.memoizedState;if(s=a.destroy,r!==null&&Cs(r,a.deps)){i.memoizedState=sl(t,n,s,r);return}}ht.flags|=e,i.memoizedState=sl(1|t,n,s,r)}function ec(e,t){return Jl(8390656,8,e,t)}function Is(e,t){return Zl(2048,8,e,t)}function tc(e,t){return Zl(4,2,e,t)}function nc(e,t){return Zl(4,4,e,t)}function rc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lc(e,t,n){return n=n!=null?n.concat([e]):null,Zl(4,4,rc.bind(null,t,e),n)}function Ts(){}function ic(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sc(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oc(e,t,n){return(Jn&21)===0?(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=n):(nn(n,t)||(n=Fo(),ht.lanes|=n,Zn|=n,e.baseState=!0),t)}function sf(e,t){var n=tt;tt=n!==0&&4>n?n:4,e(!0);var r=Ss.transition;Ss.transition={};try{e(!1),t()}finally{tt=n,Ss.transition=r}}function ac(){return Jt().memoizedState}function of(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cc(e))uc(t,n);else if(n=Ba(e,t,n,r),n!==null){var i=Dt();an(n,e,r,i),dc(n,t,r)}}function af(e,t,n){var r=On(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cc(e))uc(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,m=s(a,n);if(i.hasEagerState=!0,i.eagerState=m,nn(m,a)){var w=t.interleaved;w===null?(i.next=i,ws(t)):(i.next=w.next,w.next=i),t.interleaved=i;return}}catch{}finally{}n=Ba(e,t,i,r),n!==null&&(i=Dt(),an(n,e,r,i),dc(n,t,r))}}function cc(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function uc(e,t){rl=Yl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dc(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Li(e,n)}}var ei={readContext:Yt,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},cf={readContext:Yt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:ec,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jl(4194308,4,rc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jl(4,2,e,t)},useMemo:function(e,t){var n=hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=of.bind(null,ht,e),[r.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:Ja,useDebugValue:Ts,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Ja(!1),t=e[0];return e=sf.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ht,i=hn();if(dt){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Nt===null)throw Error(o(349));(Jn&30)!==0||Xa(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ec(qa.bind(null,r,s,e),[e]),r.flags|=2048,sl(9,Ga.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=hn(),t=Nt.identifierPrefix;if(dt){var n=vn,r=gn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ll++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uf={readContext:Yt,useCallback:ic,useContext:Yt,useEffect:Is,useImperativeHandle:lc,useInsertionEffect:tc,useLayoutEffect:nc,useMemo:sc,useReducer:Ps,useRef:Za,useState:function(){return Ps(il)},useDebugValue:Ts,useDeferredValue:function(e){var t=Jt();return oc(t,kt.memoizedState,e)},useTransition:function(){var e=Ps(il)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Va,useSyncExternalStore:Wa,useId:ac,unstable_isNewReconciler:!1},df={readContext:Yt,useCallback:ic,useContext:Yt,useEffect:Is,useImperativeHandle:lc,useInsertionEffect:tc,useLayoutEffect:nc,useMemo:sc,useReducer:_s,useRef:Za,useState:function(){return _s(il)},useDebugValue:Ts,useDeferredValue:function(e){var t=Jt();return kt===null?t.memoizedState=e:oc(t,kt.memoizedState,e)},useTransition:function(){var e=_s(il)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Va,useSyncExternalStore:Wa,useId:ac,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=P({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:P({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ti={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dt(),i=On(e),s=wn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Fn(e,s,i),t!==null&&(an(t,e,i,r),Xl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dt(),i=On(e),s=wn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Fn(e,s,i),t!==null&&(an(t,e,i,r),Xl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dt(),r=On(e),i=wn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fn(e,i,r),t!==null&&(an(t,e,r,n),Xl(t,e,r))}};function fc(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Wr(n,r)||!Wr(i,s):!0}function hc(e,t,n){var r=!1,i=Rn,s=t.contextType;return typeof s=="object"&&s!==null?s=Yt(s):(i=At(t)?Xn:_t.current,r=t.contextTypes,s=(r=r!=null)?mr(e,i):Rn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ti,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function pc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ti.enqueueReplaceState(t,t.state,null)}function Ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},bs(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Yt(s):(s=At(t)?Xn:_t.current,i.context=mr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Rs(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ti.enqueueReplaceState(i,i.state,null),Gl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=ce(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ds(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ff=typeof WeakMap=="function"?WeakMap:Map;function mc(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ai||(ai=!0,Js=r),Fs(e,t)},n}function xc(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fs(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fs(e,t),typeof r!="function"&&(An===null?An=new Set([this]):An.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function gc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ff;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sf.bind(null,e,t,n),t.then(e,e))}function vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yc(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var hf=b.ReactCurrentOwner,Bt=!1;function Lt(e,t,n,r){t.child=e===null?Aa(t,null,n,r):yr(t,e.child,n,r)}function wc(e,t,n,r,i){n=n.render;var s=t.ref;return br(t,i),r=Es(e,t,n,r,s,i),n=Ms(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(dt&&n&&ds(t),t.flags|=1,Lt(e,t,r,i),t.child)}function bc(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!io(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,kc(e,t,s,r,i)):(e=pi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&i)===0){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wr,n(a,r)&&e.ref===t.ref)return bn(e,t,i)}return t.flags|=1,e=Hn(s,r),e.ref=t.ref,e.return=t,t.child=e}function kc(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Wr(s,r)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,bn(e,t,i)}return $s(e,t,n,r,i)}function jc(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Nr,Xt),Xt|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(Nr,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ot(Nr,Xt),Xt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ot(Nr,Xt),Xt|=r;return Lt(e,t,i,n),t.child}function zc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $s(e,t,n,r,i){var s=At(n)?Xn:_t.current;return s=mr(t,s),br(t,i),n=Es(e,t,n,r,s,i),r=Ms(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(dt&&r&&ds(t),t.flags|=1,Lt(e,t,n,i),t.child)}function Nc(e,t,n,r,i){if(At(n)){var s=!0;Al(t)}else s=!1;if(br(t,i),t.stateNode===null)ri(e,t),hc(t,n,r),Ls(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,m=t.memoizedProps;a.props=m;var w=a.context,T=n.contextType;typeof T=="object"&&T!==null?T=Yt(T):(T=At(n)?Xn:_t.current,T=mr(t,T));var K=n.getDerivedStateFromProps,Z=typeof K=="function"||typeof a.getSnapshotBeforeUpdate=="function";Z||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(m!==r||w!==T)&&pc(t,a,r,T),Dn=!1;var q=t.memoizedState;a.state=q,Gl(t,r,a,i),w=t.memoizedState,m!==r||q!==w||$t.current||Dn?(typeof K=="function"&&(Rs(t,n,K,r),w=t.memoizedState),(m=Dn||fc(t,n,m,r,q,w,T))?(Z||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=T,r=m):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oa(e,t),m=t.memoizedProps,T=t.type===t.elementType?m:ln(t.type,m),a.props=T,Z=t.pendingProps,q=a.context,w=n.contextType,typeof w=="object"&&w!==null?w=Yt(w):(w=At(n)?Xn:_t.current,w=mr(t,w));var pe=n.getDerivedStateFromProps;(K=typeof pe=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(m!==Z||q!==w)&&pc(t,a,r,w),Dn=!1,q=t.memoizedState,a.state=q,Gl(t,r,a,i);var we=t.memoizedState;m!==Z||q!==we||$t.current||Dn?(typeof pe=="function"&&(Rs(t,n,pe,r),we=t.memoizedState),(T=Dn||fc(t,n,T,r,q,we,w)||!1)?(K||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,we,w),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,we,w)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||m===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=we),a.props=r,a.state=we,a.context=w,r=T):(typeof a.componentDidUpdate!="function"||m===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,s,i)}function As(e,t,n,r,i,s){zc(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Pa(t,n,!1),bn(e,t,s);r=t.stateNode,hf.current=t;var m=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=yr(t,e.child,null,s),t.child=yr(t,null,m,s)):Lt(e,t,m,s),t.memoizedState=r.state,i&&Pa(t,n,!0),t.child}function Sc(e){var t=e.stateNode;t.pendingContext?Ea(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ea(e,t.context,!1),ks(e,t.containerInfo)}function Cc(e,t,n,r,i){return vr(),ms(i),t.flags|=256,Lt(e,t,n,r),t.child}var Bs={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ec(e,t,n){var r=t.pendingProps,i=ft.current,s=!1,a=(t.flags&128)!==0,m;if((m=a)||(m=e!==null&&e.memoizedState===null?!1:(i&2)!==0),m?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ot(ft,i&1),e===null)return ps(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=a):s=mi(a,r,0,null),e=rr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Bs,e):Us(t,a));if(i=e.memoizedState,i!==null&&(m=i.dehydrated,m!==null))return pf(e,t,a,r,m,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,m=i.sibling;var w={mode:"hidden",children:r.children};return(a&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=w,t.deletions=null):(r=Hn(i,w),r.subtreeFlags=i.subtreeFlags&14680064),m!==null?s=Hn(m,s):(s=rr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Os(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Bs,r}return s=e.child,e=s.sibling,r=Hn(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Us(e,t){return t=mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ni(e,t,n,r){return r!==null&&ms(r),yr(t,e.child,null,n),e=Us(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pf(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Ds(Error(o(422))),ni(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=mi({mode:"visible",children:r.children},i,0,null),s=rr(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&yr(t,e.child,null,a),t.child.memoizedState=Os(a),t.memoizedState=Bs,s);if((t.mode&1)===0)return ni(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var m=r.dgst;return r=m,s=Error(o(419)),r=Ds(s,r,void 0),ni(e,t,a,r)}if(m=(a&e.childLanes)!==0,Bt||m){if(r=Nt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|a))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yn(e,i),an(r,e,i,-1))}return lo(),r=Ds(Error(o(421))),ni(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Cf.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Wt=In(i.nextSibling),Vt=t,dt=!0,rn=null,e!==null&&(qt[Kt++]=gn,qt[Kt++]=vn,qt[Kt++]=Gn,gn=e.id,vn=e.overflow,Gn=t),t=Us(t,r.children),t.flags|=4096,t)}function Mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ys(e.return,t,n)}function Hs(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Pc(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(e,t,r.children,n),r=ft.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,n,t);else if(e.tag===19)Mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ot(ft,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ql(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ql(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,s);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mf(e,t,n){switch(t.tag){case 3:Sc(t),vr();break;case 5:Qa(t);break;case 1:At(t.type)&&Al(t);break;case 4:ks(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ot(Vl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ot(ft,ft.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Ec(e,t,n):(ot(ft,ft.current&1),e=bn(e,t,n),e!==null?e.sibling:null);ot(ft,ft.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Pc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(ft,ft.current),r)break;return null;case 22:case 23:return t.lanes=0,jc(e,t,n)}return bn(e,t,n)}var _c,Qs,Ic,Tc;_c=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qs=function(){},Ic=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yn(fn.current);var s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"select":i=P({},i,{value:void 0}),r=P({},r,{value:void 0}),s=[];break;case"textarea":i=ae(e,i),r=ae(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Dl)}at(n,r);var a;n=null;for(T in i)if(!r.hasOwnProperty(T)&&i.hasOwnProperty(T)&&i[T]!=null)if(T==="style"){var m=i[T];for(a in m)m.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(u.hasOwnProperty(T)?s||(s=[]):(s=s||[]).push(T,null));for(T in r){var w=r[T];if(m=i!=null?i[T]:void 0,r.hasOwnProperty(T)&&w!==m&&(w!=null||m!=null))if(T==="style")if(m){for(a in m)!m.hasOwnProperty(a)||w&&w.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in w)w.hasOwnProperty(a)&&m[a]!==w[a]&&(n||(n={}),n[a]=w[a])}else n||(s||(s=[]),s.push(T,n)),n=w;else T==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(s=s||[]).push(T,w)):T==="children"?typeof w!="string"&&typeof w!="number"||(s=s||[]).push(T,""+w):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(u.hasOwnProperty(T)?(w!=null&&T==="onScroll"&&ct("scroll",e),s||m===w||(s=[])):(s=s||[]).push(T,w))}n&&(s=s||[]).push("style",n);var T=s;(t.updateQueue=T)&&(t.flags|=4)}},Tc=function(e,t,n,r){n!==r&&(t.flags|=4)};function ol(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xf(e,t,n){var r=t.pendingProps;switch(fs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return At(t.type)&&$l(),Tt(t),null;case 3:return r=t.stateNode,kr(),ut($t),ut(_t),Ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Hl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rn!==null&&(to(rn),rn=null))),Qs(e,t),Tt(t),null;case 5:js(t);var i=Yn(nl.current);if(n=t.type,e!==null&&t.stateNode!=null)Ic(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Tt(t),null}if(e=Yn(fn.current),Hl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[dn]=t,r[Yr]=s,e=(t.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<Gr.length;i++)ct(Gr[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":re(r,s),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ct("invalid",r);break;case"textarea":y(r,s),ct("invalid",r)}at(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var m=s[a];a==="children"?typeof m=="string"?r.textContent!==m&&(s.suppressHydrationWarning!==!0&&Ll(r.textContent,m,e),i=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(s.suppressHydrationWarning!==!0&&Ll(r.textContent,m,e),i=["children",""+m]):u.hasOwnProperty(a)&&m!=null&&a==="onScroll"&&ct("scroll",r)}switch(n){case"input":it(r),ke(r,s,!0);break;case"textarea":it(r),de(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Dl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[dn]=t,e[Yr]=r,_c(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ct(n,r),n){case"dialog":ct("cancel",e),ct("close",e),i=r;break;case"iframe":case"object":case"embed":ct("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gr.length;i++)ct(Gr[i],e);i=r;break;case"source":ct("error",e),i=r;break;case"img":case"image":case"link":ct("error",e),ct("load",e),i=r;break;case"details":ct("toggle",e),i=r;break;case"input":re(e,r),i=J(e,r),ct("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=P({},r,{value:void 0}),ct("invalid",e);break;case"textarea":y(e,r),i=ae(e,r),ct("invalid",e);break;default:i=r}at(n,i),m=i;for(s in m)if(m.hasOwnProperty(s)){var w=m[s];s==="style"?Ge(e,w):s==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&qe(e,w)):s==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&Ze(e,w):typeof w=="number"&&Ze(e,""+w):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(u.hasOwnProperty(s)?w!=null&&s==="onScroll"&&ct("scroll",e):w!=null&&B(e,s,w,a))}switch(n){case"input":it(e),ke(e,r,!1);break;case"textarea":it(e),de(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ce(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?nt(e,!!r.multiple,s,!1):r.defaultValue!=null&&nt(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Tc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(n=Yn(nl.current),Yn(fn.current),Hl(t)){if(r=t.stateNode,n=t.memoizedProps,r[dn]=t,(s=r.nodeValue!==n)&&(e=Vt,e!==null))switch(e.tag){case 3:Ll(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ll(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dn]=t,t.stateNode=r}return Tt(t),null;case 13:if(ut(ft),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&Wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Da(),vr(),t.flags|=98560,s=!1;else if(s=Hl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[dn]=t}else vr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),s=!1}else rn!==null&&(to(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ft.current&1)!==0?jt===0&&(jt=3):lo())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return kr(),Qs(e,t),e===null&&qr(t.stateNode.containerInfo),Tt(t),null;case 10:return vs(t.type._context),Tt(t),null;case 17:return At(t.type)&&$l(),Tt(t),null;case 19:if(ut(ft),s=t.memoizedState,s===null)return Tt(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)ol(s,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=ql(e),a!==null){for(t.flags|=128,ol(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ot(ft,ft.current&1|2),t.child}e=e.sibling}s.tail!==null&&gt()>Sr&&(t.flags|=128,r=!0,ol(s,!1),t.lanes=4194304)}else{if(!r)if(e=ql(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!dt)return Tt(t),null}else 2*gt()-s.renderingStartTime>Sr&&n!==1073741824&&(t.flags|=128,r=!0,ol(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=gt(),t.sibling=null,n=ft.current,ot(ft,r?n&1|2:n&1),t):(Tt(t),null);case 22:case 23:return ro(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Xt&1073741824)!==0&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function gf(e,t){switch(fs(t),t.tag){case 1:return At(t.type)&&$l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kr(),ut($t),ut(_t),Ns(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return js(t),null;case 13:if(ut(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(ft),null;case 4:return kr(),null;case 10:return vs(t.type._context),null;case 22:case 23:return ro(),null;case 24:return null;default:return null}}var li=!1,Rt=!1,vf=typeof WeakSet=="function"?WeakSet:Set,ve=null;function zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(e,t,r)}else n.current=null}function Vs(e,t,n){try{n()}catch(r){mt(e,t,r)}}var Rc=!1;function yf(e,t){if(rs=zl,e=fa(),qi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,m=-1,w=-1,T=0,K=0,Z=e,q=null;t:for(;;){for(var pe;Z!==n||i!==0&&Z.nodeType!==3||(m=a+i),Z!==s||r!==0&&Z.nodeType!==3||(w=a+r),Z.nodeType===3&&(a+=Z.nodeValue.length),(pe=Z.firstChild)!==null;)q=Z,Z=pe;for(;;){if(Z===e)break t;if(q===n&&++T===i&&(m=a),q===s&&++K===r&&(w=a),(pe=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=pe}n=m===-1||w===-1?null:{start:m,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(ls={focusedElem:e,selectionRange:n},zl=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var we=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var je=we.memoizedProps,vt=we.memoizedState,N=t.stateNode,k=N.getSnapshotBeforeUpdate(t.elementType===t.type?je:ln(t.type,je),vt);N.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ne){mt(t,t.return,ne)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return we=Rc,Rc=!1,we}function al(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vs(t,n,s)}i=i.next}while(i!==r)}}function ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ws(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lc(e){var t=e.alternate;t!==null&&(e.alternate=null,Lc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Yr],delete t[as],delete t[ef],delete t[tf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dc(e){return e.tag===5||e.tag===3||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dl));else if(r!==4&&(e=e.child,e!==null))for(Xs(e,t,n),e=e.sibling;e!==null;)Xs(e,t,n),e=e.sibling}function Gs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gs(e,t,n),e=e.sibling;e!==null;)Gs(e,t,n),e=e.sibling}var Et=null,sn=!1;function $n(e,t,n){for(n=n.child;n!==null;)$c(e,t,n),n=n.sibling}function $c(e,t,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 5:Rt||zr(n,t);case 6:var r=Et,i=sn;Et=null,$n(e,t,n),Et=r,sn=i,Et!==null&&(sn?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(sn?(e=Et,n=n.stateNode,e.nodeType===8?os(e.parentNode,n):e.nodeType===1&&os(e,n),Br(e)):os(Et,n.stateNode));break;case 4:r=Et,i=sn,Et=n.stateNode.containerInfo,sn=!0,$n(e,t,n),Et=r,sn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&((s&2)!==0||(s&4)!==0)&&Vs(n,t,a),i=i.next}while(i!==r)}$n(e,t,n);break;case 1:if(!Rt&&(zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){mt(n,t,m)}$n(e,t,n);break;case 21:$n(e,t,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,$n(e,t,n),Rt=r):$n(e,t,n);break;default:$n(e,t,n)}}function Ac(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vf),t.forEach(function(r){var i=Ef.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,m=a;e:for(;m!==null;){switch(m.tag){case 5:Et=m.stateNode,sn=!1;break e;case 3:Et=m.stateNode.containerInfo,sn=!0;break e;case 4:Et=m.stateNode.containerInfo,sn=!0;break e}m=m.return}if(Et===null)throw Error(o(160));$c(s,a,i),Et=null,sn=!1;var w=i.alternate;w!==null&&(w.return=null),i.return=null}catch(T){mt(i,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bc(t,e),t=t.sibling}function Bc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),pn(e),r&4){try{al(3,e,e.return),ii(3,e)}catch(je){mt(e,e.return,je)}try{al(5,e,e.return)}catch(je){mt(e,e.return,je)}}break;case 1:on(t,e),pn(e),r&512&&n!==null&&zr(n,n.return);break;case 5:if(on(t,e),pn(e),r&512&&n!==null&&zr(n,n.return),e.flags&32){var i=e.stateNode;try{Ze(i,"")}catch(je){mt(e,e.return,je)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,m=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{m==="input"&&s.type==="radio"&&s.name!=null&&be(i,s),Ct(m,a);var T=Ct(m,s);for(a=0;a<w.length;a+=2){var K=w[a],Z=w[a+1];K==="style"?Ge(i,Z):K==="dangerouslySetInnerHTML"?qe(i,Z):K==="children"?Ze(i,Z):B(i,K,Z,T)}switch(m){case"input":ze(i,s);break;case"textarea":ie(i,s);break;case"select":var q=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var pe=s.value;pe!=null?nt(i,!!s.multiple,pe,!1):q!==!!s.multiple&&(s.defaultValue!=null?nt(i,!!s.multiple,s.defaultValue,!0):nt(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yr]=s}catch(je){mt(e,e.return,je)}}break;case 6:if(on(t,e),pn(e),r&4){if(e.stateNode===null)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(je){mt(e,e.return,je)}}break;case 3:if(on(t,e),pn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Br(t.containerInfo)}catch(je){mt(e,e.return,je)}break;case 4:on(t,e),pn(e);break;case 13:on(t,e),pn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ys=gt())),r&4&&Ac(e);break;case 22:if(K=n!==null&&n.memoizedState!==null,e.mode&1?(Rt=(T=Rt)||K,on(t,e),Rt=T):on(t,e),pn(e),r&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!K&&(e.mode&1)!==0)for(ve=e,K=e.child;K!==null;){for(Z=ve=K;ve!==null;){switch(q=ve,pe=q.child,q.tag){case 0:case 11:case 14:case 15:al(4,q,q.return);break;case 1:zr(q,q.return);var we=q.stateNode;if(typeof we.componentWillUnmount=="function"){r=q,n=q.return;try{t=r,we.props=t.memoizedProps,we.state=t.memoizedState,we.componentWillUnmount()}catch(je){mt(r,n,je)}}break;case 5:zr(q,q.return);break;case 22:if(q.memoizedState!==null){Hc(Z);continue}}pe!==null?(pe.return=q,ve=pe):Hc(Z)}K=K.sibling}e:for(K=null,Z=e;;){if(Z.tag===5){if(K===null){K=Z;try{i=Z.stateNode,T?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(m=Z.stateNode,w=Z.memoizedProps.style,a=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=Ue("display",a))}catch(je){mt(e,e.return,je)}}}else if(Z.tag===6){if(K===null)try{Z.stateNode.nodeValue=T?"":Z.memoizedProps}catch(je){mt(e,e.return,je)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===e)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===e)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===e)break e;K===Z&&(K=null),Z=Z.return}K===Z&&(K=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:on(t,e),pn(e),r&4&&Ac(e);break;case 21:break;default:on(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ze(i,""),r.flags&=-33);var s=Fc(e);Gs(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,m=Fc(e);Xs(e,m,a);break;default:throw Error(o(161))}}catch(w){mt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wf(e,t,n){ve=e,Oc(e)}function Oc(e,t,n){for(var r=(e.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||li;if(!a){var m=i.alternate,w=m!==null&&m.memoizedState!==null||Rt;m=li;var T=Rt;if(li=a,(Rt=w)&&!T)for(ve=i;ve!==null;)a=ve,w=a.child,a.tag===22&&a.memoizedState!==null?Qc(i):w!==null?(w.return=a,ve=w):Qc(i);for(;s!==null;)ve=s,Oc(s),s=s.sibling;ve=i,li=m,Rt=T}Uc(e)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,ve=s):Uc(e)}}function Uc(e){for(;ve!==null;){var t=ve;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Rt||ii(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ln(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ha(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ha(t,a,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var K=T.memoizedState;if(K!==null){var Z=K.dehydrated;Z!==null&&Br(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Rt||t.flags&512&&Ws(t)}catch(q){mt(t,t.return,q)}}if(t===e){ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,ve=n;break}ve=t.return}}function Hc(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ve=n;break}ve=t.return}}function Qc(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ii(4,t)}catch(w){mt(t,n,w)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(w){mt(t,i,w)}}var s=t.return;try{Ws(t)}catch(w){mt(t,s,w)}break;case 5:var a=t.return;try{Ws(t)}catch(w){mt(t,a,w)}}}catch(w){mt(t,t.return,w)}if(t===e){ve=null;break}var m=t.sibling;if(m!==null){m.return=t.return,ve=m;break}ve=t.return}}var bf=Math.ceil,si=b.ReactCurrentDispatcher,qs=b.ReactCurrentOwner,Zt=b.ReactCurrentBatchConfig,Ke=0,Nt=null,yt=null,Mt=0,Xt=0,Nr=Tn(0),jt=0,cl=null,Zn=0,oi=0,Ks=0,ul=null,Ot=null,Ys=0,Sr=1/0,kn=null,ai=!1,Js=null,An=null,ci=!1,Bn=null,ui=0,dl=0,Zs=null,di=-1,fi=0;function Dt(){return(Ke&6)!==0?gt():di!==-1?di:di=gt()}function On(e){return(e.mode&1)===0?1:(Ke&2)!==0&&Mt!==0?Mt&-Mt:rf.transition!==null?(fi===0&&(fi=Fo()),fi):(e=tt,e!==0||(e=window.event,e=e===void 0?16:Wo(e.type)),e)}function an(e,t,n,r){if(50<dl)throw dl=0,Zs=null,Error(o(185));Lr(e,n,r),((Ke&2)===0||e!==Nt)&&(e===Nt&&((Ke&2)===0&&(oi|=n),jt===4&&Un(e,Mt)),Ut(e,r),n===1&&Ke===0&&(t.mode&1)===0&&(Sr=gt()+500,Bl&&Ln()))}function Ut(e,t){var n=e.callbackNode;rd(e,t);var r=bl(e,e===Nt?Mt:0);if(r===0)n!==null&&Ro(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ro(n),t===1)e.tag===0?nf(Wc.bind(null,e)):_a(Wc.bind(null,e)),Jd(function(){(Ke&6)===0&&Ln()}),n=null;else{switch($o(r)){case 1:n=Ii;break;case 4:n=Lo;break;case 16:n=gl;break;case 536870912:n=Do;break;default:n=gl}n=eu(n,Vc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vc(e,t){if(di=-1,fi=0,(Ke&6)!==0)throw Error(o(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var r=bl(e,e===Nt?Mt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=hi(e,r);else{t=r;var i=Ke;Ke|=2;var s=Gc();(Nt!==e||Mt!==t)&&(kn=null,Sr=gt()+500,tr(e,t));do try{zf();break}catch(m){Xc(e,m)}while(!0);gs(),si.current=s,Ke=i,yt!==null?t=0:(Nt=null,Mt=0,t=jt)}if(t!==0){if(t===2&&(i=Ti(e),i!==0&&(r=i,t=eo(e,i))),t===1)throw n=cl,tr(e,0),Un(e,r),Ut(e,gt()),n;if(t===6)Un(e,r);else{if(i=e.current.alternate,(r&30)===0&&!kf(i)&&(t=hi(e,r),t===2&&(s=Ti(e),s!==0&&(r=s,t=eo(e,s))),t===1))throw n=cl,tr(e,0),Un(e,r),Ut(e,gt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:nr(e,Ot,kn);break;case 3:if(Un(e,r),(r&130023424)===r&&(t=Ys+500-gt(),10<t)){if(bl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ss(nr.bind(null,e,Ot,kn),t);break}nr(e,Ot,kn);break;case 4:if(Un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-tn(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bf(r/1960))-r,10<r){e.timeoutHandle=ss(nr.bind(null,e,Ot,kn),r);break}nr(e,Ot,kn);break;case 5:nr(e,Ot,kn);break;default:throw Error(o(329))}}}return Ut(e,gt()),e.callbackNode===n?Vc.bind(null,e):null}function eo(e,t){var n=ul;return e.current.memoizedState.isDehydrated&&(tr(e,t).flags|=256),e=hi(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&to(t)),e}function to(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function kf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~Ks,t&=~oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),r=1<<n;e[n]=-1,t&=~r}}function Wc(e){if((Ke&6)!==0)throw Error(o(327));Cr();var t=bl(e,0);if((t&1)===0)return Ut(e,gt()),null;var n=hi(e,t);if(e.tag!==0&&n===2){var r=Ti(e);r!==0&&(t=r,n=eo(e,r))}if(n===1)throw n=cl,tr(e,0),Un(e,t),Ut(e,gt()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,Ot,kn),Ut(e,gt()),null}function no(e,t){var n=Ke;Ke|=1;try{return e(t)}finally{Ke=n,Ke===0&&(Sr=gt()+500,Bl&&Ln())}}function er(e){Bn!==null&&Bn.tag===0&&(Ke&6)===0&&Cr();var t=Ke;Ke|=1;var n=Zt.transition,r=tt;try{if(Zt.transition=null,tt=1,e)return e()}finally{tt=r,Zt.transition=n,Ke=t,(Ke&6)===0&&Ln()}}function ro(){Xt=Nr.current,ut(Nr)}function tr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yd(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(fs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$l();break;case 3:kr(),ut($t),ut(_t),Ns();break;case 5:js(r);break;case 4:kr();break;case 13:ut(ft);break;case 19:ut(ft);break;case 10:vs(r.type._context);break;case 22:case 23:ro()}n=n.return}if(Nt=e,yt=e=Hn(e.current,null),Mt=Xt=t,jt=0,cl=null,Ks=oi=Zn=0,Ot=ul=null,Kn!==null){for(t=0;t<Kn.length;t++)if(n=Kn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Kn=null}return e}function Xc(e,t){do{var n=yt;try{if(gs(),Kl.current=ei,Yl){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yl=!1}if(Jn=0,zt=kt=ht=null,rl=!1,ll=0,qs.current=null,n===null||n.return===null){jt=1,cl=t,yt=null;break}e:{var s=e,a=n.return,m=n,w=t;if(t=Mt,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var T=w,K=m,Z=K.tag;if((K.mode&1)===0&&(Z===0||Z===11||Z===15)){var q=K.alternate;q?(K.updateQueue=q.updateQueue,K.memoizedState=q.memoizedState,K.lanes=q.lanes):(K.updateQueue=null,K.memoizedState=null)}var pe=vc(a);if(pe!==null){pe.flags&=-257,yc(pe,a,m,s,t),pe.mode&1&&gc(s,T,t),t=pe,w=T;var we=t.updateQueue;if(we===null){var je=new Set;je.add(w),t.updateQueue=je}else we.add(w);break e}else{if((t&1)===0){gc(s,T,t),lo();break e}w=Error(o(426))}}else if(dt&&m.mode&1){var vt=vc(a);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),yc(vt,a,m,s,t),ms(jr(w,m));break e}}s=w=jr(w,m),jt!==4&&(jt=2),ul===null?ul=[s]:ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var N=mc(s,w,t);Ua(s,N);break e;case 1:m=w;var k=s.type,E=s.stateNode;if((s.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(An===null||!An.has(E)))){s.flags|=65536,t&=-t,s.lanes|=t;var ne=xc(s,m,t);Ua(s,ne);break e}}s=s.return}while(s!==null)}Kc(n)}catch(Ne){t=Ne,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function Gc(){var e=si.current;return si.current=ei,e===null?ei:e}function lo(){(jt===0||jt===3||jt===2)&&(jt=4),Nt===null||(Zn&268435455)===0&&(oi&268435455)===0||Un(Nt,Mt)}function hi(e,t){var n=Ke;Ke|=2;var r=Gc();(Nt!==e||Mt!==t)&&(kn=null,tr(e,t));do try{jf();break}catch(i){Xc(e,i)}while(!0);if(gs(),Ke=n,si.current=r,yt!==null)throw Error(o(261));return Nt=null,Mt=0,jt}function jf(){for(;yt!==null;)qc(yt)}function zf(){for(;yt!==null&&!Gu();)qc(yt)}function qc(e){var t=Zc(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?Kc(e):yt=t,qs.current=null}function Kc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=xf(n,t,Xt),n!==null){yt=n;return}}else{if(n=gf(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,yt=null;return}}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);jt===0&&(jt=5)}function nr(e,t,n){var r=tt,i=Zt.transition;try{Zt.transition=null,tt=1,Nf(e,t,n,r)}finally{Zt.transition=i,tt=r}return null}function Nf(e,t,n,r){do Cr();while(Bn!==null);if((Ke&6)!==0)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ld(e,s),e===Nt&&(yt=Nt=null,Mt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ci||(ci=!0,eu(gl,function(){return Cr(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Zt.transition,Zt.transition=null;var a=tt;tt=1;var m=Ke;Ke|=4,qs.current=null,yf(e,n),Bc(n,e),Qd(ls),zl=!!rs,ls=rs=null,e.current=n,wf(n),qu(),Ke=m,tt=a,Zt.transition=s}else e.current=n;if(ci&&(ci=!1,Bn=e,ui=i),s=e.pendingLanes,s===0&&(An=null),Ju(n.stateNode),Ut(e,gt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ai)throw ai=!1,e=Js,Js=null,e;return(ui&1)!==0&&e.tag!==0&&Cr(),s=e.pendingLanes,(s&1)!==0?e===Zs?dl++:(dl=0,Zs=e):dl=0,Ln(),null}function Cr(){if(Bn!==null){var e=$o(ui),t=Zt.transition,n=tt;try{if(Zt.transition=null,tt=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,ui=0,(Ke&6)!==0)throw Error(o(331));var i=Ke;for(Ke|=4,ve=e.current;ve!==null;){var s=ve,a=s.child;if((ve.flags&16)!==0){var m=s.deletions;if(m!==null){for(var w=0;w<m.length;w++){var T=m[w];for(ve=T;ve!==null;){var K=ve;switch(K.tag){case 0:case 11:case 15:al(8,K,s)}var Z=K.child;if(Z!==null)Z.return=K,ve=Z;else for(;ve!==null;){K=ve;var q=K.sibling,pe=K.return;if(Lc(K),K===T){ve=null;break}if(q!==null){q.return=pe,ve=q;break}ve=pe}}}var we=s.alternate;if(we!==null){var je=we.child;if(je!==null){we.child=null;do{var vt=je.sibling;je.sibling=null,je=vt}while(je!==null)}}ve=s}}if((s.subtreeFlags&2064)!==0&&a!==null)a.return=s,ve=a;else e:for(;ve!==null;){if(s=ve,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,ve=N;break e}ve=s.return}}var k=e.current;for(ve=k;ve!==null;){a=ve;var E=a.child;if((a.subtreeFlags&2064)!==0&&E!==null)E.return=a,ve=E;else e:for(a=k;ve!==null;){if(m=ve,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:ii(9,m)}}catch(Ne){mt(m,m.return,Ne)}if(m===a){ve=null;break e}var ne=m.sibling;if(ne!==null){ne.return=m.return,ve=ne;break e}ve=m.return}}if(Ke=i,Ln(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(vl,e)}catch{}r=!0}return r}finally{tt=n,Zt.transition=t}}return!1}function Yc(e,t,n){t=jr(n,t),t=mc(e,t,1),e=Fn(e,t,1),t=Dt(),e!==null&&(Lr(e,1,t),Ut(e,t))}function mt(e,t,n){if(e.tag===3)Yc(e,e,n);else for(;t!==null;){if(t.tag===3){Yc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(An===null||!An.has(r))){e=jr(n,e),e=xc(t,e,1),t=Fn(t,e,1),e=Dt(),t!==null&&(Lr(t,1,e),Ut(t,e));break}}t=t.return}}function Sf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(Mt&n)===n&&(jt===4||jt===3&&(Mt&130023424)===Mt&&500>gt()-Ys?tr(e,0):Ks|=n),Ut(e,t)}function Jc(e,t){t===0&&((e.mode&1)===0?t=1:(t=wl,wl<<=1,(wl&130023424)===0&&(wl=4194304)));var n=Dt();e=yn(e,t),e!==null&&(Lr(e,t,n),Ut(e,n))}function Cf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jc(e,n)}function Ef(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}r!==null&&r.delete(t),Jc(e,n)}var Zc;Zc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)Bt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Bt=!1,mf(e,t,n);Bt=(e.flags&131072)!==0}else Bt=!1,dt&&(t.flags&1048576)!==0&&Ia(t,Ul,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ri(e,t),e=t.pendingProps;var i=mr(t,_t.current);br(t,n),i=Es(null,t,r,e,i,n);var s=Ms();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(s=!0,Al(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bs(t),i.updater=ti,t.stateNode=i,i._reactInternals=t,Ls(t,r,e,n),t=As(null,t,r,!0,s,n)):(t.tag=0,dt&&s&&ds(t),Lt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Pf(r),e=ln(r,e),i){case 0:t=$s(null,t,r,e,n);break e;case 1:t=Nc(null,t,r,e,n);break e;case 11:t=wc(null,t,r,e,n);break e;case 14:t=bc(null,t,r,ln(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),$s(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Nc(e,t,r,i,n);case 3:e:{if(Sc(t),e===null)throw Error(o(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Oa(e,t),Gl(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=jr(Error(o(423)),t),t=Cc(e,t,r,n,i);break e}else if(r!==i){i=jr(Error(o(424)),t),t=Cc(e,t,r,n,i);break e}else for(Wt=In(t.stateNode.containerInfo.firstChild),Vt=t,dt=!0,rn=null,n=Aa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vr(),r===i){t=bn(e,t,n);break e}Lt(e,t,r,n)}t=t.child}return t;case 5:return Qa(t),e===null&&ps(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,is(r,i)?a=null:s!==null&&is(r,s)&&(t.flags|=32),zc(e,t),Lt(e,t,a,n),t.child;case 6:return e===null&&ps(t),null;case 13:return Ec(e,t,n);case 4:return ks(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yr(t,null,r,n):Lt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),wc(e,t,r,i,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,ot(Vl,r._currentValue),r._currentValue=a,s!==null)if(nn(s.value,a)){if(s.children===i.children&&!$t.current){t=bn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var m=s.dependencies;if(m!==null){a=s.child;for(var w=m.firstContext;w!==null;){if(w.context===r){if(s.tag===1){w=wn(-1,n&-n),w.tag=2;var T=s.updateQueue;if(T!==null){T=T.shared;var K=T.pending;K===null?w.next=w:(w.next=K.next,K.next=w),T.pending=w}}s.lanes|=n,w=s.alternate,w!==null&&(w.lanes|=n),ys(s.return,n,t),m.lanes|=n;break}w=w.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(o(341));a.lanes|=n,m=a.alternate,m!==null&&(m.lanes|=n),ys(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Lt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,br(t,n),i=Yt(i),r=r(i),t.flags|=1,Lt(e,t,r,n),t.child;case 14:return r=t.type,i=ln(r,t.pendingProps),i=ln(r.type,i),bc(e,t,r,i,n);case 15:return kc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),ri(e,t),t.tag=1,At(r)?(e=!0,Al(t)):e=!1,br(t,n),hc(t,r,i),Ls(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Pc(e,t,n);case 22:return jc(e,t,n)}throw Error(o(156,t.tag))};function eu(e,t){return To(e,t)}function Mf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new Mf(e,t,n,r)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pf(e){if(typeof e=="function")return io(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ee)return 11;if(e===Me)return 14}return 2}function Hn(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pi(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")io(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case W:return rr(n.children,i,s,t);case te:a=8,i|=8;break;case me:return e=en(12,n,t,i|2),e.elementType=me,e.lanes=s,e;case Ie:return e=en(13,n,t,i),e.elementType=Ie,e.lanes=s,e;case H:return e=en(19,n,t,i),e.elementType=H,e.lanes=s,e;case _e:return mi(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case he:a=10;break e;case ge:a=9;break e;case Ee:a=11;break e;case Me:a=14;break e;case Le:a=16,r=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=en(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function rr(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function mi(e,t,n,r){return e=en(22,e,r,t),e.elementType=_e,e.lanes=n,e.stateNode={isHidden:!1},e}function so(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function oo(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _f(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ri(0),this.expirationTimes=Ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ao(e,t,n,r,i,s,a,m,w){return e=new _f(e,t,n,m,w),t===1?(t=1,s===!0&&(t|=8)):t=0,s=en(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bs(s),e}function If(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tu(e){if(!e)return Rn;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(At(n))return Ma(e,n,t)}return t}function nu(e,t,n,r,i,s,a,m,w){return e=ao(n,r,!0,e,i,s,a,m,w),e.context=tu(null),n=e.current,r=Dt(),i=On(n),s=wn(r,i),s.callback=t??null,Fn(n,s,i),e.current.lanes=i,Lr(e,i,r),Ut(e,r),e}function xi(e,t,n,r){var i=t.current,s=Dt(),a=On(i);return n=tu(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(i,t,a),e!==null&&(an(e,i,a,s),Xl(e,i,a)),a}function gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function co(e,t){ru(e,t),(e=e.alternate)&&ru(e,t)}function Tf(){return null}var lu=typeof reportError=="function"?reportError:function(e){console.error(e)};function uo(e){this._internalRoot=e}vi.prototype.render=uo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));xi(e,t,null,null)},vi.prototype.unmount=uo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){xi(null,e,null,null)}),t[mn]=null}};function vi(e){this._internalRoot=e}vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oo();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&Qo(e)}};function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iu(){}function Rf(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var T=gi(a);s.call(T)}}var a=nu(t,r,e,0,null,!1,!1,"",iu);return e._reactRootContainer=a,e[mn]=a.current,qr(e.nodeType===8?e.parentNode:e),er(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var m=r;r=function(){var T=gi(w);m.call(T)}}var w=ao(e,0,!1,null,null,!1,!1,"",iu);return e._reactRootContainer=w,e[mn]=w.current,qr(e.nodeType===8?e.parentNode:e),er(function(){xi(t,w,n,r)}),w}function wi(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var m=i;i=function(){var w=gi(a);m.call(w)}}xi(t,a,e,i)}else a=Rf(n,t,e,i,r);return gi(a)}Ao=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rr(t.pendingLanes);n!==0&&(Li(t,n|1),Ut(t,gt()),(Ke&6)===0&&(Sr=gt()+500,Ln()))}break;case 13:er(function(){var r=yn(e,1);if(r!==null){var i=Dt();an(r,e,1,i)}}),co(e,1)}},Di=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=Dt();an(t,e,134217728,n)}co(e,134217728)}},Bo=function(e){if(e.tag===13){var t=On(e),n=yn(e,t);if(n!==null){var r=Dt();an(n,e,t,r)}co(e,t)}},Oo=function(){return tt},Uo=function(e,t){var n=tt;try{return tt=e,t()}finally{tt=n}},Gt=function(e,t,n){switch(t){case"input":if(ze(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fl(r);if(!i)throw Error(o(90));G(r),ze(r,i)}}}break;case"textarea":ie(e,n);break;case"select":t=n.value,t!=null&&nt(e,!!n.multiple,t,!1)}},Be=no,A=er;var Lf={usingClientEntryPoint:!1,Events:[Jr,hr,Fl,Oe,He,no]},fl={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Df={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_o(e),e===null?null:e.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||Tf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{vl=bi.inject(Df),un=bi}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lf,Ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fo(t))throw Error(o(200));return If(e,t,null,n)},Ht.createRoot=function(e,t){if(!fo(e))throw Error(o(299));var n=!1,r="",i=lu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ao(e,1,!1,null,null,n,!1,r,i),e[mn]=t.current,qr(e.nodeType===8?e.parentNode:e),new uo(t)},Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_o(t),e=e===null?null:e.stateNode,e},Ht.flushSync=function(e){return er(e)},Ht.hydrate=function(e,t,n){if(!yi(t))throw Error(o(200));return wi(null,e,t,!0,n)},Ht.hydrateRoot=function(e,t,n){if(!fo(e))throw Error(o(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=lu;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=nu(t,null,e,1,n??null,i,!1,s,a),e[mn]=t.current,qr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new vi(t)},Ht.render=function(e,t,n){if(!yi(t))throw Error(o(200));return wi(null,e,t,!1,n)},Ht.unmountComponentAtNode=function(e){if(!yi(e))throw Error(o(40));return e._reactRootContainer?(er(function(){wi(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1},Ht.unstable_batchedUpdates=no,Ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yi(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return wi(e,t,n,!1,r)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var hu;function Vf(){if(hu)return mo.exports;hu=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(c){console.error(c)}}return f(),mo.exports=Qf(),mo.exports}var pu;function Wf(){if(pu)return ki;pu=1;var f=Vf();return ki.createRoot=f.createRoot,ki.hydrateRoot=f.hydrateRoot,ki}var Xf=Wf();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=f=>f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lu=(...f)=>f.filter((c,o,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===o).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=R.forwardRef(({color:f="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:h,iconNode:x,...v},g)=>R.createElement("svg",{ref:g,...qf,width:c,height:c,stroke:f,strokeWidth:d?Number(o)*24/Number(c):o,className:Lu("lucide",u),...v},[...x.map(([M,_])=>R.createElement(M,_)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(f,c)=>{const o=R.forwardRef(({className:d,...u},h)=>R.createElement(Kf,{ref:h,iconNode:c,className:Lu(`lucide-${Gf(f)}`,d),...u}));return o.displayName=`${f}`,o};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=xe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=xe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=xe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=xe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=xe("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=xe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=xe("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=xe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=xe("CornerUpLeft",[["polyline",{points:"9 14 4 9 9 4",key:"881910"}],["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=xe("CornerUpRight",[["polyline",{points:"15 14 20 9 15 4",key:"1tbx3s"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=xe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=xe("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=xe("FastForward",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=xe("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=xe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=xe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=xe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=xe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=xe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=xe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=xe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=xe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=xe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=xe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=xe("Rewind",[["polygon",{points:"11 19 2 12 11 5 11 19",key:"14yba5"}],["polygon",{points:"22 19 13 12 22 5 22 19",key:"1pi1cj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=xe("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=xe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=xe("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=xe("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=xe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=xe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=xe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=xe("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),L0=({title:f,onOpenInfo:c,onOpenEdit:o,onOpenMemorize:d,onOpenSettings:u,onOpenImport:h,onOpenExport:x,onOpenGif:v,isMemorizing:g})=>{const[M,_]=R.useState(!1),[S,D]=R.useState(!1),X=R.useRef(null),V=R.useRef(null);R.useEffect(()=>{const C=B=>{X.current&&!X.current.contains(B.target)&&_(!1),V.current&&!V.current.contains(B.target)&&D(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const I="flex items-center gap-2 px-3 py-2 text-sm font-medium text-zinc-300 hover:bg-zinc-800 hover:text-white rounded-md cursor-pointer transition-colors",j="flex items-center gap-2 px-3 py-2 text-sm font-medium bg-amber-600 text-white rounded-md cursor-pointer transition-colors shadow-lg shadow-amber-900/30",Y=C=>{C&&C(),_(!1)};return l.jsxs("header",{className:"w-full bg-zinc-900 border-b border-zinc-800 px-4 h-14 flex items-center justify-between shrink-0 z-50 relative",children:[l.jsxs("div",{className:"flex items-center gap-2 z-10",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-600 to-amber-800 rounded-lg flex items-center justify-center font-bold text-white shadow-inner",children:""}),l.jsx("span",{className:"text-lg font-bold bg-clip-text text-transparent bg-gradient-to-r from-amber-200 to-amber-500 hidden xl:block",children:"Cloud Chess Note"})]}),f&&l.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none w-full flex justify-center px-20",children:l.jsx("span",{className:"text-xl md:text-2xl font-bold text-amber-100/90 tracking-widest shadow-black drop-shadow-md truncate max-w-full",style:{fontFamily:'"KaiTi", "STKaiti", "Microsoft JhengHei", serif'},children:f})}),l.jsxs("nav",{className:"hidden md:flex items-center gap-1 z-10 bg-zinc-900/80 backdrop-blur-sm rounded-lg",children:[l.jsxs("div",{className:"relative",ref:V,children:[l.jsxs("button",{onClick:()=>D(!S),className:I,disabled:g,children:[l.jsx(f0,{size:16}),"  ",l.jsx(Co,{size:14,className:`transition-transform ${S?"rotate-180":""}`})]}),S&&l.jsxs("div",{className:"absolute top-full right-0 mt-1 w-44 bg-zinc-900 border border-zinc-700 rounded-lg shadow-xl py-1 z-50 flex flex-col",children:[l.jsxs("button",{onClick:()=>{h==null||h(),D(!1)},className:"flex items-center gap-2 px-4 py-2 text-sm text-zinc-300 hover:bg-zinc-800 hover:text-white text-left",children:[l.jsx(jo,{size:14})," "]}),l.jsxs("button",{onClick:()=>{x==null||x(),D(!1)},className:"flex items-center gap-2 px-4 py-2 text-sm text-zinc-300 hover:bg-zinc-800 hover:text-white text-left",children:[l.jsx(Pi,{size:14})," "]}),l.jsxs("button",{onClick:()=>{v==null||v(),D(!1)},className:"flex items-center gap-2 px-4 py-2 text-sm text-zinc-300 hover:bg-zinc-800 hover:text-white text-left",children:[l.jsx(ko,{size:14}),"  GIF"]}),l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-sm text-zinc-500 cursor-not-allowed text-left",children:[l.jsx(_r,{size:14})," "]})]})]}),l.jsxs("button",{onClick:c,className:I,disabled:g,children:[l.jsx(wu,{size:16})," "]}),l.jsxs("button",{onClick:o,className:I,disabled:g,children:[l.jsx(ku,{size:16})," "]}),l.jsxs("button",{onClick:d,className:g?j:I,title:g?"":"",children:[l.jsx(Ci,{size:16})," ",g?"":""]}),l.jsxs("button",{onClick:u,className:I,children:[l.jsx(bu,{size:16})," "]})]}),l.jsx("button",{onClick:()=>_(!M),className:"md:hidden p-2 text-zinc-400 hover:text-white active:bg-zinc-800 rounded-lg transition-colors z-10",children:l.jsx(g0,{size:24})}),M&&l.jsxs("div",{ref:X,className:"absolute top-14 right-2 w-48 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl py-2 flex flex-col gap-1 z-[60] animate-in fade-in slide-in-from-top-2 md:hidden",children:[l.jsx("div",{className:"px-4 py-1 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:""}),l.jsxs("button",{onClick:()=>Y(h),className:"flex items-center gap-3 px-4 py-2 text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors text-left",disabled:g,children:[l.jsx(jo,{size:18})," ",l.jsx("span",{children:""})]}),l.jsxs("button",{onClick:()=>Y(x),className:"flex items-center gap-3 px-4 py-2 text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors text-left",disabled:g,children:[l.jsx(Pi,{size:18})," ",l.jsx("span",{children:""})]}),l.jsxs("button",{onClick:()=>Y(v),className:"flex items-center gap-3 px-4 py-2 text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors text-left",disabled:g,children:[l.jsx(ko,{size:18})," ",l.jsx("span",{children:" GIF"})]}),l.jsx("div",{className:"h-px bg-zinc-800 my-1 mx-2"}),l.jsxs("button",{onClick:()=>Y(c),className:"flex items-center gap-3 px-4 py-3 text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors text-left",disabled:g,children:[l.jsx(wu,{size:18})," ",l.jsx("span",{children:""})]}),l.jsxs("button",{onClick:()=>Y(o),className:"flex items-center gap-3 px-4 py-3 text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors text-left",disabled:g,children:[l.jsx(ku,{size:18})," ",l.jsx("span",{children:""})]}),l.jsxs("button",{onClick:()=>Y(d),className:`flex items-center gap-3 px-4 py-3 transition-colors text-left ${g?"text-amber-500 bg-amber-900/20":"text-zinc-300 hover:bg-zinc-800 hover:text-white"}`,children:[l.jsx(Ci,{size:18})," ",l.jsx("span",{children:g?"":""})]}),l.jsx("div",{className:"h-px bg-zinc-800 my-1 mx-2"}),l.jsxs("button",{onClick:()=>Y(u),className:"flex items-center gap-3 px-4 py-3 text-zinc-300 hover:bg-zinc-800 hover:text-white transition-colors text-left",children:[l.jsx(bu,{size:18})," ",l.jsx("span",{children:""})]})]})]})},lt={red:{king:"",advisor:"",elephant:"",horse:"",chariot:"",cannon:"",soldier:""},black:{king:"",advisor:"",elephant:"",horse:"",chariot:"",cannon:"",soldier:""}},Ir=()=>{const f=Array(10).fill(null).map(()=>Array(9).fill(null)),c=(o,d,u)=>{f[o][0]={type:"chariot",color:d,text:u.chariot},f[o][1]={type:"horse",color:d,text:u.horse},f[o][2]={type:"elephant",color:d,text:u.elephant},f[o][3]={type:"advisor",color:d,text:u.advisor},f[o][4]={type:"king",color:d,text:u.king},f[o][5]={type:"advisor",color:d,text:u.advisor},f[o][6]={type:"elephant",color:d,text:u.elephant},f[o][7]={type:"horse",color:d,text:u.horse},f[o][8]={type:"chariot",color:d,text:u.chariot}};c(0,"black",lt.black),f[2][1]={type:"cannon",color:"black",text:lt.black.cannon},f[2][7]={type:"cannon",color:"black",text:lt.black.cannon};for(let o=0;o<9;o+=2)f[3][o]={type:"soldier",color:"black",text:lt.black.soldier};c(9,"red",lt.red),f[7][1]={type:"cannon",color:"red",text:lt.red.cannon},f[7][7]={type:"cannon",color:"red",text:lt.red.cannon};for(let o=0;o<9;o+=2)f[6][o]={type:"soldier",color:"red",text:lt.red.soldier};return f},Mr=(f,c)=>{let o="";for(let d=0;d<10;d++){let u=0;for(let h=0;h<9;h++){const x=f[d][h];x?(u>0&&(o+=u,u=0),o+=D0(x)):u++}u>0&&(o+=u),d<9&&(o+="/")}return o+=` ${c==="red"?"w":"b"}`,o+=" - - 0 1",o},D0=f=>{const o={king:"K",advisor:"A",elephant:"B",horse:"N",chariot:"R",cannon:"C",soldier:"P"}[f.type]||"P";return f.color==="red"?o:o.toLowerCase()},ir=f=>{const c=Array(10).fill(null).map(()=>Array(9).fill(null)),o=f.split(" "),d=o[0],u=o[1]||"w";d.split("/");let h=0,x=0;const v={K:{type:"king",color:"red",text:lt.red.king},A:{type:"advisor",color:"red",text:lt.red.advisor},B:{type:"elephant",color:"red",text:lt.red.elephant},N:{type:"horse",color:"red",text:lt.red.horse},R:{type:"chariot",color:"red",text:lt.red.chariot},C:{type:"cannon",color:"red",text:lt.red.cannon},P:{type:"soldier",color:"red",text:lt.red.soldier},k:{type:"king",color:"black",text:lt.black.king},a:{type:"advisor",color:"black",text:lt.black.advisor},b:{type:"elephant",color:"black",text:lt.black.elephant},n:{type:"horse",color:"black",text:lt.black.horse},r:{type:"chariot",color:"black",text:lt.black.chariot},c:{type:"cannon",color:"black",text:lt.black.cannon},p:{type:"soldier",color:"black",text:lt.black.soldier}};for(let g=0;g<d.length;g++){const M=d[g];if(M==="/")h++,x=0;else if(/\d/.test(M))x+=parseInt(M);else{const _=v[M];_&&h<10&&x<9&&(c[h][x]={type:_.type,color:_.color,text:_.text},x++)}}return{board:c,turn:u==="w"?"red":"black"}},zu=(f,c,o,d)=>f==="king"||f==="advisor"?d<3||d>5?!1:c==="red"?o>=7&&o<=9:o>=0&&o<=2:f==="elephant"?c==="red"?o>=5:o<=4:!0,Er=f=>["","","","","","","","","",""][f],Tr=(f,c)=>{const{from:o,to:d,piece:u}=c,h=u.color==="red",x=h?9-o.c:o.c+1,v=h?9-d.c:d.c+1;let g=u.text,M="",_="";const S=d.r-o.r;if(o.r===d.r)M="",_=h?Er(v):v.toString();else{M=(h?S<0:S>0)?"":"";const V=Math.abs(S);["horse","elephant","advisor"].includes(u.type)?_=h?Er(v):v.toString():_=h?Er(V):V.toString()}const D=h?Er(x):x.toString();return`${g}${D}${M}${_}`},Si=f=>{if(!f||f.length<4)return null;const c=f.charCodeAt(0)-97,o=9-parseInt(f[1]),d=f.charCodeAt(2)-97,u=9-parseInt(f[3]);return{from:{r:o,c},to:{r:u,c:d}}},Uu=async f=>{try{const c=`https://www.chessdb.cn/chessdb.php?action=queryall&board=${encodeURIComponent(f)}&learn=1&showall=1`,o=await fetch(c);if(!o.ok)throw new Error("Network response was not ok");const d=await o.text();return d.startsWith("unknown")||d.startsWith("invalid")?[]:d.split("|").map(h=>{const x=h.split(","),v={};return x.forEach(g=>{const[M,_]=g.split(":");M&&_&&(v[M.trim()]=_.trim())}),{move:v.move,score:parseInt(v.score||"0"),rank:parseInt(v.rank||"0"),winrate:parseFloat(v.winrate||"0"),note:v.note||""}}).filter(h=>h.move)}catch(c){return console.error("Cloud fetch error:",c),[]}},zo=(f,c,o,d,u)=>{const h=f[c][o];if(!h)return!1;const x=f[d][u];if(x&&x.color===h.color)return!1;const v=d-c,g=u-o,M=Math.abs(v),_=Math.abs(g);switch(h.type){case"king":if(x&&x.type==="king"&&o===u){let D=0;for(let X=Math.min(c,d)+1;X<Math.max(c,d);X++)f[X][o]&&D++;return D===0}return M+_===1&&u>=3&&u<=5&&(h.color==="red"?d>=7:d<=2);case"advisor":return M===1&&_===1&&u>=3&&u<=5&&(h.color==="red"?d>=7:d<=2);case"elephant":return M===2&&_===2&&!f[c+v/2][o+g/2]&&(h.color==="red"?d>=5:d<=4);case"horse":return M===2&&_===1&&!f[c+v/2][o]||M===1&&_===2&&!f[c][o+g/2];case"chariot":return c!==d&&o!==u?!1:Nu(f,c,o,d,u)===0;case"cannon":if(c!==d&&o!==u)return!1;let S=Nu(f,c,o,d,u);return x?S===1:S===0;case"soldier":return h.color==="red"?d>c?!1:c>=5?v===-1&&g===0:v===-1&&g===0||v===0&&_===1:d<c?!1:c<=4?v===1&&g===0:v===1&&g===0||v===0&&_===1}return!1},Nu=(f,c,o,d,u)=>{let h=0;if(c===d)for(let x=Math.min(o,u)+1;x<Math.max(o,u);x++)f[c][x]&&h++;else for(let x=Math.min(c,d)+1;x<Math.max(c,d);x++)f[x][o]&&h++;return h},F0=(f,c)=>{let o=null;for(let d=0;d<10;d++){for(let u=0;u<9;u++){const h=f[d][u];if(h&&h.type==="king"&&h.color===c){o={r:d,c:u};break}}if(o)break}if(!o)return!1;for(let d=0;d<10;d++)for(let u=0;u<9;u++){const h=f[d][u];if(h&&h.color!==c&&zo(f,d,u,o.r,o.c))return!0}return!1},Hu=({onMoveMade:f,currentBoard:c,currentTurn:o,lastMove:d,isFlipped:u,isMirrored:h,redName:x,blackName:v,mode:g="play",selectedCoord:M,onSquareClick:_,flashCoord:S,hintMove:D,currentNode:X,onNodeSelect:V,settings:I,shouldAnimate:j=!0})=>{const Y=R.useRef(null),C=R.useRef(null),B=R.useRef(void 0),b=R.useMemo(()=>Math.random().toString(36).substring(2,9),[]),U=`arrowFadeMask-${b}`,ee=`flowPattern-${b}`,W=`fadeGradient-${b}`,te=`arrowhead-blue-${b}`,me=`arrowhead-green-${b}`,[he,ge]=R.useState({board:Ir(),turn:"red",moves:[],selectedPiece:null,lastMove:null}),[Ee,Ie]=R.useState(new Set),H=R.useRef(Ir()),Me=R.useRef(null),Le=R.useRef(null),_e=R.useRef(null),[L,O]=R.useState([]),[P,p]=R.useState([]),[z,F]=R.useState(null),[oe,ce]=R.useState(null);R.useEffect(()=>{if(S){const ae=Date.now();O(y=>[...y,{...S,id:ae}]),setTimeout(()=>{O(y=>y.filter(ie=>ie.id!==ae))},800)}},[S]),R.useEffect(()=>{p([]),ce(null)},[c]),R.useEffect(()=>{if(c){if(d&&(!_e.current||d.from.r!==_e.current.from.r||d.from.c!==_e.current.from.c||d.to.r!==_e.current.to.r||d.to.c!==_e.current.to.c)){if(j){const ie=H.current,de=c[d.to.r][d.to.c],$=(I==null?void 0:I.animationSpeed)??300;if(de&&$>0){let Se=!1;if(de.type==="cannon"){const ye=ie[d.to.r][d.to.c];ye&&ye.color!==de.color&&(Se=!0)}Me.current={active:!0,startTime:Date.now(),duration:$,from:d.from,to:d.to,piece:de,isCannonCapture:Se}}}_e.current=d}else d||(Me.current=null,_e.current=null);const y=o||"black";if(F0(c,y))for(let ie=0;ie<10;ie++)for(let de=0;de<9;de++){const $=c[ie][de];if($&&$.type==="king"&&$.color===y){Le.current={active:!0,startTime:Date.now()+((I==null?void 0:I.animationSpeed)??300),duration:500,r:ie,c:de};break}}else Le.current=null;ge(ie=>({...ie,board:c,turn:o||"red",selectedPiece:null,lastMove:d||null})),H.current=c}},[c,o,d,I==null?void 0:I.animationSpeed,j]);const[ue,Ae]=R.useState({width:500,height:600,gridSize:50,offsetX:50,offsetY:50});R.useEffect(()=>{if(!C.current)return;const ae=()=>{if(C.current){const{clientWidth:ie,clientHeight:de}=C.current;if(ie===0||de===0)return;let $=12,Se=13,ye=80;(I==null?void 0:I.boardSize)==="large"?($=9.2,Se=11,ye=999):(I==null?void 0:I.boardSize)==="small"&&($=14,Se=15,ye=35);const qe=ie/$,Ze=de/Se;let Fe=Math.min(qe,Ze);Fe>ye&&(Fe=ye);const Xe=8*Fe,Ue=9*Fe,Ge=(ie-Xe)/2,at=(de-Ue)/2;Ae({width:ie,height:de,gridSize:Fe,offsetX:Ge,offsetY:at})}},y=new ResizeObserver(()=>{requestAnimationFrame(ae)});return y.observe(C.current),ae(),()=>y.disconnect()},[I==null?void 0:I.boardSize]);const Ce=(ae,y)=>{let ie=ae,de=y;return u&&(ie=9-ae,de=8-y),h&&(de=8-de),{r:ie,c:de}},Qe=(ae,y)=>{let ie=y,de=ae;return h&&(ie=8-ie),u&&(de=9-de,ie=8-ie),{r:de,c:ie}},We=(ae,y)=>{const ie=Ce(ae,y),{gridSize:de,offsetX:$,offsetY:Se}=ue;return{x:$+ie.c*de,y:Se+ie.r*de}},it=(ae,y)=>{const{gridSize:ie,offsetX:de,offsetY:$}=ue,Se=Math.round((ae-de)/ie),ye=Math.round((y-$)/ie);return ye<0||ye>9||Se<0||Se>8?null:Qe(ye,Se)},G=ae=>1-Math.pow(1-ae,3),Q=()=>{const ae=Y.current;if(!ae)return;const y=ae.getContext("2d");if(!y)return;const{width:ie,height:de,gridSize:$,offsetX:Se,offsetY:ye}=ue;if(ie===0||de===0)return;const{board:qe,selectedPiece:Ze}=he,Fe=g==="edit"&&M!==void 0?M:Ze,Xe=Date.now();let Ue=Me.current,Ge=Le.current;Ue&&Xe>Ue.startTime+Ue.duration&&(Ue=null,Me.current=null),Ge&&Xe>Ge.startTime+Ge.duration&&(Ge=null,Le.current=null),y.clearRect(0,0,ie,de);let rt=y.createLinearGradient(0,0,0,de);rt.addColorStop(0,"#cbbfa0"),rt.addColorStop(.2,"#eaddcf"),rt.addColorStop(.5,"#dcc7aa"),rt.addColorStop(.8,"#cbbfa0"),rt.addColorStop(1,"#bba98b"),y.fillStyle=rt,y.fillRect(0,0,ie,de),y.strokeStyle="#3d2b1f",y.lineWidth=1.5;for(let fe=0;fe<10;fe++)y.beginPath(),y.moveTo(Se,ye+fe*$),y.lineTo(Se+8*$,ye+fe*$),y.stroke();for(let fe=0;fe<9;fe++)fe===0||fe===8?(y.beginPath(),y.moveTo(Se+fe*$,ye),y.lineTo(Se+fe*$,ye+9*$),y.stroke()):(y.beginPath(),y.moveTo(Se+fe*$,ye),y.lineTo(Se+fe*$,ye+4*$),y.stroke(),y.beginPath(),y.moveTo(Se+fe*$,ye+5*$),y.lineTo(Se+fe*$,ye+9*$),y.stroke());y.strokeStyle="#2a1a10",y.lineWidth=4,y.strokeRect(Se-4,ye-4,8*$+8,9*$+8),y.lineWidth=1.5,y.strokeStyle="#3d2b1f";const at=fe=>{const Oe=ye+fe*$,He=ye+(fe+2)*$,Be=Se+3*$,A=Se+5*$;y.beginPath(),y.moveTo(Be,Oe),y.lineTo(A,He),y.stroke(),y.beginPath(),y.moveTo(A,Oe),y.lineTo(Be,He),y.stroke()};if(at(0),at(7),(I==null?void 0:I.showCoords)!==!1){y.font=`bold ${$*.4}px sans-serif`,y.fillStyle="#000000",y.textAlign="center",y.textBaseline="middle";const fe=(Oe,He)=>{for(let Be=0;Be<9;Be++){let A="";const se=h?8-Be:Be;let le=0;u?He?(le=se+1,A=Er(le)):(le=se+1,A=le.toString()):He?(le=se+1,A=le.toString()):(le=9-se,A=Er(le)),y.fillText(A,Se+Be*$,Oe)}};fe(ye-$*.8,!0),fe(ye+$*9.8,!1)}y.save(),y.font=`bold ${$*.6}px "KaiTi", "STKaiti", serif`;const Ct=ye+4.5*$;let et=" ",wt=" ";u&&(et=" ",wt=" "),h&&([et,wt]=[wt,et]),y.fillText(et,Se+2*$,Ct),y.fillText(wt,Se+6*$,Ct),y.restore();const Gt=(fe,Oe)=>{const He=Ce(fe,Oe),Be=Se+He.c*$,A=ye+He.r*$,se=4,le=$*.2;y.lineWidth=2;const Pe=(st,pt)=>{y.beginPath(),y.moveTo(Be+st*se,A+pt*(se+le)),y.lineTo(Be+st*se,A+pt*se),y.lineTo(Be+st*(se+le),A+pt*se),y.stroke()};He.c>0&&(Pe(-1,-1),Pe(-1,1)),He.c<8&&(Pe(1,-1),Pe(1,1))};if([[2,1],[2,7],[7,1],[7,7],[3,0],[3,2],[3,4],[3,6],[3,8],[6,0],[6,2],[6,4],[6,6],[6,8]].forEach(fe=>Gt(fe[0],fe[1])),Ee.size>0&&Ee.forEach(fe=>{const[Oe,He]=fe.split(",").map(Number),Be=Ce(Oe,He),A=Se+Be.c*$,se=ye+Be.r*$,le=(Math.sin(Xe/200)+1)/2,Pe=$*.48+le*2,st=.6+.2*le;y.save(),y.translate(A,se),y.beginPath(),y.arc(0,0,Pe,0,Math.PI*2),y.strokeStyle=`rgba(249, 115, 22, ${st})`,y.lineWidth=4,y.stroke(),y.beginPath(),y.arc(0,0,Pe,0,Math.PI*2),y.fillStyle="rgba(251, 146, 60, 0.2)",y.fill(),y.restore()}),he.lastMove&&g==="play"){const{from:fe,to:Oe}=he.lastMove,He=Be=>{const A=Ce(Be.r,Be.c);y.beginPath(),y.arc(Se+A.c*$,ye+A.r*$,$*.45,0,Math.PI*2),y.strokeStyle="rgba(0, 100, 255, 0.5)",y.lineWidth=4,y.stroke()};He(fe),He(Oe)}const xt=(fe,Oe,He,Be=1,A=0,se=0)=>{const le=Ce(Oe,He),Pe=Se+le.c*$+A,st=ye+le.r*$+se;Pt(fe,Pe,st,Be)},Pt=(fe,Oe,He,Be=1)=>{const A=$*.45;if(y.save(),y.translate(Oe,He),y.scale(Be,Be),y.shadowBlur=6,y.shadowColor="rgba(0,0,0,0.4)",y.shadowOffsetY=4,y.shadowOffsetX=2,y.beginPath(),y.arc(0,0,A,0,Math.PI*2),fe.color==="red")y.fillStyle="#fdfdfd",y.fill(),y.shadowColor="transparent",y.lineWidth=4,y.strokeStyle="#a61c1c",y.stroke(),y.beginPath(),y.arc(0,0,A-6,0,Math.PI*2),y.lineWidth=1,y.strokeStyle="#e5e5e5",y.stroke(),y.fillStyle="#a61c1c";else{let se=y.createRadialGradient(-10,-10,5,0,0,A);se.addColorStop(0,"#2563eb"),se.addColorStop(1,"#1e3a8a"),y.fillStyle=se,y.fill(),y.shadowColor="transparent",y.lineWidth=4,y.strokeStyle="#000000",y.stroke(),y.fillStyle="#ffffff"}y.font=`bold ${$*.65}px 'KaiTi', 'Kaiti SC', 'STKaiti', 'Microsoft JhengHei', serif`,y.textAlign="center",y.textBaseline="middle",y.fillText(fe.text,0,$*.01),y.restore()};for(let fe=0;fe<10;fe++)for(let Oe=0;Oe<9;Oe++){const He=qe[fe][Oe];if(!He||Ue&&fe===Ue.to.r&&Oe===Ue.to.c)continue;let Be=0,A=0;if(Ge&&Ge.r===fe&&Ge.c===Oe){const se=(Xe-Ge.startTime)/Ge.duration;if(se>=0&&se<=1){const le=(1-se)*$*.15;Be=(Math.random()-.5)*le,A=(Math.random()-.5)*le}}xt(He,fe,Oe,1,Be,A)}if(Ue){const fe=Math.min(1,(Xe-Ue.startTime)/Ue.duration),Oe=G(fe),He=Ce(Ue.from.r,Ue.from.c),Be=Ce(Ue.to.r,Ue.to.c),A=Se+He.c*$,se=ye+He.r*$,le=Se+Be.c*$,Pe=ye+Be.r*$,st=A+(le-A)*Oe,pt=se+(Pe-se)*Oe;let Ft=1;Ue.isCannonCapture&&(Ft=1+Math.sin(fe*Math.PI)*.5),Pt(Ue.piece,st,pt,Ft)}if(Fe){const fe=Ce(Fe.r,Fe.c);y.save(),y.beginPath(),y.arc(Se+fe.c*$,ye+fe.r*$,$*.48,0,Math.PI*2),y.strokeStyle="rgba(34, 197, 94, 0.9)",y.lineWidth=4,y.stroke(),y.restore()}if(Fe&&g==="play"){for(let fe=0;fe<10;fe++)for(let Oe=0;Oe<9;Oe++)if(zo(qe,Fe.r,Fe.c,fe,Oe)){const He=Ce(fe,Oe),Be=qe[fe][Oe];y.beginPath(),Be?(y.arc(Se+He.c*$,ye+He.r*$,$*.48,0,Math.PI*2),y.strokeStyle="rgba(168, 85, 247, 0.9)",y.lineWidth=4,y.stroke()):(y.arc(Se+He.c*$,ye+He.r*$,$*.12,0,Math.PI*2),y.fillStyle="rgba(22, 163, 74, 0.8)",y.fill())}}if(D){const{from:fe}=D,Oe=(Math.sin(Xe/150)+1)/2,He=.3+.2*Oe,Be=.6+.4*Oe,A=Ce(fe.r,fe.c),se=Se+A.c*$,le=ye+A.r*$;y.save(),y.beginPath(),y.arc(se,le,$*.48,0,Math.PI*2),y.fillStyle=`rgba(255, 215, 0, ${He})`,y.fill(),y.strokeStyle=`rgba(255, 215, 0, ${Be})`,y.lineWidth=4,y.stroke(),y.restore()}if((I==null?void 0:I.showPlayerNames)!==!1){const fe=(le,Pe,st,pt)=>{const Ft=pt*1.1;for(let bt=0;bt<le.length;bt++)y.fillText(le[bt],Pe,st+bt*Ft)},Oe=(le,Pe,st)=>{if(!le)return;if(y.save(),y.fillStyle=st,y.shadowColor="rgba(255, 255, 255, 0.3)",y.shadowBlur=4,y.textBaseline="middle",Se>$*1.2){const Ft=ie-Se/2,bt=$*.55,jn=ye+$*2,zn=ye+$*7,xl=(le.length-1)*(bt*1.1)/2,_i=Pe?jn-xl:zn-xl;y.font=`bold ${bt}px "KaiTi", "STKaiti", serif`,y.textAlign="center",fe(le,Ft,_i,bt)}else{const Ft=$*.5;y.font=`bold ${Ft}px "KaiTi", "STKaiti", serif`,y.textAlign="center";const bt=ie/2,jn=ye+9*$,zn=de-jn;let Nn=0;Pe?Nn=ye*.2:Nn=de-zn*.2,y.fillText(le,bt,Nn)}y.restore()},He=u?x:v,Be=u?v:x,A=u?"#a61c1c":"#000000",se=u?"#000000":"#a61c1c";He&&Oe(He,!0,A),Be&&Oe(Be,!1,se)}B.current=requestAnimationFrame(Q)};R.useEffect(()=>(B.current=requestAnimationFrame(Q),()=>{B.current&&cancelAnimationFrame(B.current)}),[he,ue,u,h,x,v,g,M,I,D,Ee]);const J=ae=>{ae.preventDefault();const y=Y.current.getBoundingClientRect(),ie=ae.clientX-y.left,de=ae.clientY-y.top,{gridSize:$,offsetX:Se,offsetY:ye}=ue,qe=Math.round((ie-Se)/$),Ze=Math.round((de-ye)/$);if(Ze<0||Ze>9||qe<0||qe>8)return;const{r:Fe,c:Xe}=Qe(Ze,qe),Ue=`${Fe},${Xe}`;Ie(Ge=>{const rt=new Set(Ge);return rt.has(Ue)?rt.delete(Ue):rt.add(Ue),rt})},re=ae=>{var at,Ct;if(ae.button!==0)return;const y=Y.current.getBoundingClientRect(),ie=ae.clientX-y.left,de=ae.clientY-y.top,{gridSize:$,offsetX:Se,offsetY:ye}=ue,qe=Math.round((ie-Se)/$),Ze=Math.round((de-ye)/$);if(Ze<0||Ze>9||qe<0||qe>8)return;const{r:Fe,c:Xe}=Qe(Ze,qe);if(g==="edit"){_&&_({r:Fe,c:Xe},y);return}const{board:Ue,selectedPiece:Ge,turn:rt}=he;if(Ge)if(zo(Ue,Ge.r,Ge.c,Fe,Xe)){if(f){const et=Ue.map(fe=>[...fe]),wt=et[Ge.r][Ge.c],Gt=et[Fe][Xe],xt=Tr(Ue,{from:Ge,to:{r:Fe,c:Xe},piece:wt});et[Fe][Xe]=wt,et[Ge.r][Ge.c]=null,f({from:Ge,to:{r:Fe,c:Xe},piece:wt,captured:Gt,notation:xt},et)!==!1&&ge(fe=>({...fe,board:et,turn:rt==="red"?"black":"red",selectedPiece:null,lastMove:{from:Ge,to:{r:Fe,c:Xe}}}))}}else Ue[Fe][Xe]&&((at=Ue[Fe][Xe])==null?void 0:at.color)===rt?ge(et=>({...et,selectedPiece:{r:Fe,c:Xe}})):ge(et=>({...et,selectedPiece:null}));else Ue[Fe][Xe]&&((Ct=Ue[Fe][Xe])==null?void 0:Ct.color)===rt&&ge(et=>({...et,selectedPiece:{r:Fe,c:Xe}}))},be=ae=>ae.preventDefault(),ze=ae=>{if(ae.button!==2)return;ae.preventDefault();const y=C.current.getBoundingClientRect(),ie=ae.clientX-y.left,de=ae.clientY-y.top,$=it(ie,de);$&&F({start:$,current:{x:ie,y:de}})},ke=ae=>{if(z){const y=C.current.getBoundingClientRect(),ie=ae.clientX-y.left,de=ae.clientY-y.top;F($=>$?{...$,current:{x:ie,y:de}}:null)}},De=ae=>{if(z){const y=C.current.getBoundingClientRect(),ie=ae.clientX-y.left,de=ae.clientY-y.top,$=it(ie,de);$&&($.r!==z.start.r||$.c!==z.start.c)&&p(Se=>{const ye=Se.findIndex(qe=>qe.from.r===z.start.r&&qe.from.c===z.start.c&&qe.to.r===$.r&&qe.to.c===$.c);return ye!==-1?Se.filter((qe,Ze)=>Ze!==ye):[...Se,{from:z.start,to:$}]}),F(null)}},Ye=()=>{if((I==null?void 0:I.showVariationArrows)===!1||!X||!X.children||X.children.length<=1)return null;const ae=X.children.map((y,ie)=>{if(!y.move)return null;const de=We(y.move.from.r,y.move.from.c),$=We(y.move.to.r,y.move.to.c),Se=X.children.findIndex(Pe=>Pe.id===y.id),ye=String.fromCharCode(65+Se),qe=$.x-de.x,Ze=$.y-de.y,Fe=Math.atan2(Ze,qe),Xe=Fe*(180/Math.PI),Ue=Math.sqrt(qe*qe+Ze*Ze),Ge=20,rt=14,at=5,Ct=4,et=.5,wt=Math.max(0,Ue-Ge+Ct+et),Gt=`M 0,${-at/2} L ${wt},${-at/2} L ${wt},${at/2} L 0,${at/2} Z`,xt=Ue-Ge,Pt=Ue,fe=xt+Ct-et,Oe=`M ${fe},${-at/2} L ${xt},${-rt/2} L ${Pt},0 L ${xt},${rt/2} L ${fe},${at/2} Z`,He=`M 0,${-at/2} L ${xt+Ct},${-at/2} L ${xt},${-rt/2} L ${Pt},0 L ${xt},${rt/2} L ${xt+Ct},${at/2} L 0,${at/2}`,Be=Ge*.8,A=Ue-Be,se=de.x+Math.cos(Fe)*A,le=de.y+Math.sin(Fe)*A;return{id:y.id,child:y,fromPos:de,angleDeg:Xe,shaftPath:Gt,headPath:Oe,outlinePath:He,badgeX:se,badgeY:le,label:ye,isHovered:oe===y.id}}).filter(y=>y!==null);return ae.sort((y,ie)=>(y.isHovered?1:0)-(ie.isHovered?1:0)),l.jsx(l.Fragment,{children:ae.map(y=>{const{id:ie,child:de,fromPos:$,angleDeg:Se,shaftPath:ye,headPath:qe,outlinePath:Ze,badgeX:Fe,badgeY:Xe,label:Ue,isHovered:Ge}=y,rt=Ge?1:.7;return l.jsxs("g",{className:"transition-all duration-200 variation-arrow-group",style:{opacity:rt},children:[l.jsxs("g",{transform:`translate(${$.x}, ${$.y}) rotate(${Se})`,pointerEvents:"none",children:[l.jsxs("g",{mask:`url(#${U})`,children:[l.jsx("path",{d:ye,fill:`url(#${ee})`,stroke:"none"}),l.jsx("path",{d:Ze,fill:"none",stroke:"rgba(59, 130, 246, 1)",strokeWidth:"1.5",strokeLinejoin:"round",strokeLinecap:"round"})]}),l.jsx("path",{d:qe,fill:"rgba(59, 130, 246, 0.9)",stroke:"none"})]}),l.jsxs("g",{onClick:et=>{et.stopPropagation(),et.preventDefault(),!(he.selectedPiece!==null||g==="edit"&&M!=null)&&V&&V(de)},onMouseEnter:()=>ce(ie),onMouseLeave:()=>ce(null),className:"cursor-pointer",pointerEvents:"all",children:[l.jsx("circle",{cx:Fe,cy:Xe,r:8,fill:"white",stroke:"#3b82f6",strokeWidth:"2"}),l.jsx("text",{x:Fe,y:Xe,dy:"0.35em",textAnchor:"middle",fontSize:"10",fontWeight:"bold",fill:"#3b82f6",style:{pointerEvents:"none"},children:Ue})]})]},ie)})})},nt=()=>l.jsxs(l.Fragment,{children:[P.map((ae,y)=>{const ie=We(ae.from.r,ae.from.c),de=We(ae.to.r,ae.to.c);return l.jsx("line",{x1:ie.x,y1:ie.y,x2:de.x,y2:de.y,stroke:"#22c55e",strokeWidth:"8",strokeOpacity:"0.8",strokeLinecap:"round",markerEnd:`url(#${me})`},y)}),z&&l.jsx("line",{x1:We(z.start.r,z.start.c).x,y1:We(z.start.r,z.start.c).y,x2:z.current.x,y2:z.current.y,stroke:"#22c55e",strokeWidth:"8",strokeOpacity:"0.5",strokeLinecap:"round",markerEnd:`url(#${me})`})]});return l.jsxs("div",{ref:C,className:"w-full h-full flex justify-center items-center overflow-hidden bg-[#2a2a2e] rounded-lg shadow-2xl border border-zinc-700 select-none relative",onContextMenu:be,onMouseDown:ze,onMouseMove:ke,onMouseUp:De,onMouseLeave:()=>F(null),children:[l.jsx("canvas",{ref:Y,width:ue.width,height:ue.height,onClick:re,onDoubleClick:J,className:"cursor-pointer touch-none z-10"}),l.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-20",viewBox:`0 0 ${ue.width} ${ue.height}`,children:[l.jsxs("defs",{children:[l.jsx("marker",{id:te,markerWidth:"4",markerHeight:"4",refX:"3.5",refY:"2",orient:"auto",children:l.jsx("polygon",{points:"0 0, 4 2, 0 4",fill:"#3b82f6",fillOpacity:"0.7"})}),l.jsx("marker",{id:me,markerWidth:"3",markerHeight:"3",refX:"2.5",refY:"1.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 3 1.5, 0 3",fill:"#22c55e",fillOpacity:"0.8"})}),l.jsxs("linearGradient",{id:W,gradientUnits:"objectBoundingBox",x1:"0",y1:"0",x2:"1",y2:"0",children:[l.jsx("stop",{offset:"0",stopColor:"white",stopOpacity:"0"}),l.jsx("stop",{offset:"0.15",stopColor:"white",stopOpacity:"1"})]}),l.jsx("mask",{id:U,maskUnits:"objectBoundingBox",maskContentUnits:"objectBoundingBox",children:l.jsx("rect",{x:"0",y:"0",width:"1",height:"1",fill:`url(#${W})`})}),l.jsxs("pattern",{id:ee,x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:[l.jsx("path",{d:"M 10 0 L 0 10 L 10 20",fill:"none",stroke:"rgba(255,255,255,0.8)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("animateTransform",{attributeName:"patternTransform",type:"translate",from:"0 0",to:"20 0",dur:"1.5s",repeatCount:"indefinite"}),l.jsx("rect",{width:"20",height:"20",fill:"rgba(59, 130, 246, 0.4)"})]})]}),l.jsx(nt,{}),l.jsx(Ye,{})]}),L.map(ae=>{const{gridSize:y,offsetX:ie,offsetY:de}=ue;if(ue.width===0)return null;const $=Ce(ae.r,ae.c);return l.jsx("div",{className:"absolute flex items-center justify-center text-red-600 font-bold z-30 pointer-events-none animate-ping-fade",style:{top:de+$.r*y,left:ie+$.c*y,width:y,height:y,transform:"translate(-50%, -50%)",fontSize:y*.8},children:""},ae.id)}),l.jsx("style",{children:`
                @keyframes ping-fade {
                    0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5); }
                }
                .animate-ping-fade {
                    animation: ping-fade 0.8s ease-out forwards;
                }
                .variation-arrow-group:hover {
                    z-index: 100;
                }
            `})]})},$0=({onNavigate:f,onNavigateVariation:c,onJumpToStep:o,onFlip:d,onMirror:u,currentIndex:h,totalSteps:x,disabled:v=!1})=>{const[g,M]=R.useState(!1),[_,S]=R.useState(!1),[D,X]=R.useState(!1),[V,I]=R.useState(h),j=R.useRef(null);R.useEffect(()=>{I(h)},[h]),R.useEffect(()=>{let W;return D&&(W=window.setInterval(()=>{h<x-1?f("next"):X(!1)},1500)),()=>clearInterval(W)},[D,h,x,f]),R.useEffect(()=>{const W=te=>{j.current&&!j.current.contains(te.target)&&M(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]);const Y=`relative flex flex-col items-center justify-center p-1 md:p-2 rounded-lg bg-zinc-800 border border-zinc-700 shadow-md group transition-all 
      ${v?"opacity-30 cursor-not-allowed text-zinc-500":"hover:bg-zinc-700 active:scale-95 text-zinc-300 hover:text-white"}`,C="text-[9px] md:text-[10px] mt-0.5 md:mt-1 font-medium opacity-70 group-hover:opacity-100 whitespace-nowrap",B=18,b=W=>{v||W()},U=Math.max(1,x-1),ee=V/U*100;return l.jsxs("div",{className:"w-full relative z-30",children:[g&&!v&&l.jsxs("div",{ref:j,className:"absolute bottom-full left-0 mb-3 bg-zinc-900 border border-zinc-700 rounded-lg shadow-2xl p-2 w-48 flex flex-col gap-1 z-50 animate-in fade-in slide-in-from-bottom-2",children:[l.jsxs("button",{onClick:()=>{f("start"),M(!1)},className:"flex items-center gap-2 px-3 py-2 hover:bg-zinc-800 rounded text-sm text-zinc-300",children:[l.jsx(N0,{size:16}),"  (0)"]}),l.jsxs("button",{onClick:()=>{f("end"),M(!1)},className:"flex items-center gap-2 px-3 py-2 hover:bg-zinc-800 rounded text-sm text-zinc-300",children:[l.jsx(d0,{size:16})," "]}),l.jsx("div",{className:"h-px bg-zinc-800 my-1"}),l.jsxs("button",{onClick:()=>{c("prev"),M(!1)},className:"flex items-center gap-2 px-3 py-2 hover:bg-zinc-800 rounded text-sm text-zinc-300",children:[l.jsx(s0,{size:16})," "]}),l.jsxs("button",{onClick:()=>{c("next"),M(!1)},className:"flex items-center gap-2 px-3 py-2 hover:bg-zinc-800 rounded text-sm text-zinc-300",children:[l.jsx(o0,{size:16})," "]})]}),l.jsxs("div",{className:"relative bg-zinc-900 border-t md:border-t-0 md:border md:rounded-xl border-zinc-700 shadow-lg overflow-hidden min-h-[64px]",children:[l.jsxs("div",{className:`grid grid-cols-7 gap-1 md:gap-2 px-2 py-2 md:py-3 transition-opacity duration-300 ${_?"opacity-0 pointer-events-none":"opacity-100"}`,children:[l.jsxs("button",{className:`${Y} ${g?"bg-zinc-700 text-white border-zinc-500":""}`,onClick:W=>{W.stopPropagation(),v||M(!g)},title:"",disabled:v,children:[l.jsx(C0,{size:B}),l.jsx("span",{className:C,children:""})]}),l.jsxs("button",{className:Y,onClick:()=>b(()=>f("prev")),disabled:v||h<=0,title:"",children:[l.jsx(Zf,{size:B}),l.jsx("span",{className:C,children:""})]}),l.jsxs("button",{className:`${Y} ${D?"bg-indigo-900/50 border-indigo-700 text-indigo-200":""}`,onClick:()=>b(()=>X(!D)),title:D?"":"",disabled:v,children:[D?l.jsx(k0,{size:B,fill:"currentColor"}):l.jsx(pl,{size:B,fill:"currentColor"}),l.jsx("span",{className:C,children:D?"":""})]}),l.jsxs("button",{className:Y,onClick:()=>b(()=>f("next")),disabled:v||h>=x-1,title:"",children:[l.jsx(e0,{size:B}),l.jsx("span",{className:C,children:""})]}),l.jsxs("button",{className:Y,onClick:W=>{W.stopPropagation(),v||S(!0)},title:"",disabled:v,children:[l.jsx(a0,{size:B}),l.jsx("span",{className:C,children:""})]}),l.jsxs("button",{className:Y,onClick:d,title:"",children:[l.jsx(Fu,{size:B}),l.jsx("span",{className:C,children:""})]}),l.jsxs("button",{className:Y,onClick:u,title:" ()",children:[l.jsx(Yf,{size:B}),l.jsx("span",{className:C,children:""})]})]}),_&&!v&&l.jsxs("div",{className:"absolute inset-0 z-10 bg-zinc-900/95 backdrop-blur-md flex items-center px-4 gap-4 animate-in fade-in slide-in-from-bottom-2",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[3rem]",children:[l.jsx("span",{className:"text-[10px] text-zinc-500 font-bold uppercase tracking-wider",children:"Turn"}),l.jsx("span",{className:"text-xl font-black text-blue-400 font-mono leading-none drop-shadow-lg",children:V})]}),l.jsxs("div",{className:"flex-1 relative h-8 flex items-center group",children:[l.jsx("input",{type:"range",min:"0",max:U,value:V,onChange:W=>{const te=parseInt(W.target.value);I(te),o(te)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),l.jsx("div",{className:"w-full h-1.5 bg-zinc-800 rounded-full overflow-hidden relative",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-400 shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${ee}%`}})}),l.jsx("div",{className:"absolute h-4 w-4 bg-white rounded-full shadow-[0_0_15px_rgba(255,255,255,0.8)] border-2 border-blue-500 pointer-events-none transition-transform duration-75 ease-out z-10",style:{left:`calc(${ee}% - 8px)`},children:l.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-full opacity-20 animate-ping"})})]}),l.jsxs("div",{className:"text-[10px] text-zinc-500 font-mono font-bold min-w-[2rem] text-right",children:["/",U]}),l.jsx("button",{onClick:()=>S(!1),className:"p-2 -mr-2 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded-full transition-colors",children:l.jsx(cn,{size:20})})]})]})]})},Su=({movePath:f,currentNode:c,rootNode:o,onJumpToMove:d,onUpdateComment:u,onRequestDelete:h,onRequestDeleteNode:x,onReorder:v,onLinkFen:g})=>{const M=R.useRef(null),_=R.useRef(null),S=c?c.id:null;R.useEffect(()=>{if(_.current)if(S&&S!=="root"&&M.current)try{M.current.scrollIntoView({behavior:"smooth",block:"nearest"})}catch{}else _.current.scrollTop=0},[S]);const D=f||[],X=D.filter(C=>C&&C.parentId!==null),V=c&&o&&c.id===o.id;let I=[];if(c&&!c.parentId)I=c.children||[];else if(c){const C=D.find(B=>B.id===c.parentId);C&&(I=C.children||[])}const j=C=>{var b;C.preventDefault(),C.stopPropagation();let B=`

`;B+=`${((b=c.move)==null?void 0:b.notation)||""} 
`,I.length>1?B+=`
`:B+=`
`,h(B)},Y=(C,B)=>{var U;C.preventDefault(),C.stopPropagation();let b=` [${(U=B.move)==null?void 0:U.notation}] 

`;x(B.id,b)};return c?l.jsxs("div",{className:"flex flex-col h-full w-full bg-zinc-900 shadow-xl text-sm overflow-hidden",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-zinc-800 bg-zinc-900/50 backdrop-blur-sm shrink-0 flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold text-zinc-200 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-6 bg-amber-600 rounded-sm"})," & "]}),X.length>0&&!V&&l.jsx("button",{onClick:j,className:"text-zinc-500 hover:text-red-400 p-1.5 rounded hover:bg-zinc-800 transition-colors",title:"",children:l.jsx(ml,{size:16})})]}),l.jsx("div",{ref:_,className:"flex-1 overflow-y-auto custom-scrollbar bg-zinc-950/30 min-h-0 relative",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-zinc-900 text-zinc-500 font-medium sticky top-0 z-10 shadow-sm",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 w-12 text-center border-b border-zinc-800",children:"#"}),l.jsx("th",{className:"px-2 py-2 border-b border-zinc-800 w-1/2",children:""}),l.jsx("th",{className:"px-2 py-2 border-b border-zinc-800 w-1/2",children:""})]})}),l.jsxs("tbody",{className:"divide-y divide-zinc-800/50",children:[l.jsxs("tr",{onClick:()=>d(o),className:`cursor-pointer group transition-colors ${V?"bg-blue-900/30":"hover:bg-zinc-800/30"}`,children:[l.jsx("td",{className:"px-2 py-2 text-center text-zinc-600 font-mono text-xs",children:"0"}),l.jsx("td",{colSpan:2,className:"px-2 py-2",children:l.jsxs("div",{className:`flex items-center justify-center font-bold text-xs border border-dashed rounded py-1 ${V?"border-blue-500 text-blue-300 bg-blue-500/10":"border-zinc-700 text-zinc-500 group-hover:border-zinc-500 group-hover:text-zinc-300"}`,children:["==  ==",o.comment&&l.jsx(gu,{size:12,className:"ml-2 text-amber-500"})]})})]}),X.length===0&&V?l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-zinc-600 italic text-xs",children:"..."})}):Array.from({length:Math.ceil(X.length/2)}).map((C,B)=>{const b=B*2,U=X[b],ee=X[b+1],W=(U==null?void 0:U.id)===c.id,te=(ee==null?void 0:ee.id)===c.id,me=(he,ge)=>{if(!he||!he.move)return null;let Ee=null;const Ie=D.find(H=>H.id===he.parentId);if(Ie&&Ie.children&&Ie.children.length>1){const H=Ie.children.findIndex(Me=>Me.id===he.id);H!==-1&&(Ee=`${Ie.children.length}${String.fromCharCode(65+H)}`)}return l.jsxs("div",{className:`cursor-pointer px-2 py-1.5 rounded flex items-center justify-between group ${ge?"bg-blue-600 text-white shadow-md":"hover:bg-zinc-800/50"}`,onClick:()=>d(he),children:[l.jsx("span",{className:"font-medium truncate",children:he.move.notation}),l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[he.comment&&l.jsx(gu,{size:12,className:ge?"text-blue-200":"text-amber-500"}),Ee&&l.jsx("span",{className:`text-[10px] px-1 rounded font-mono font-bold leading-none py-0.5 ${ge?"bg-blue-500 text-white":"bg-zinc-700 text-zinc-400 group-hover:bg-zinc-600"}`,children:Ee})]})]})};return l.jsxs("tr",{ref:W||te?M:null,className:"text-zinc-300",children:[l.jsx("td",{className:"px-2 py-1.5 text-center text-zinc-600 font-mono text-xs bg-zinc-900/20",children:B+1}),l.jsx("td",{className:`px-1 py-1 w-[45%] ${W?"bg-blue-900/20":""}`,children:me(U,W)}),l.jsx("td",{className:`px-1 py-1 w-[45%] ${te?"bg-blue-900/20":""}`,children:me(ee,te)})]},B)})]})]})}),l.jsxs("div",{className:"shrink-0 bg-zinc-900 z-10 border-t border-zinc-800",children:[I.length>0&&l.jsxs("div",{className:"p-3 border-b border-zinc-800/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(E0,{size:14,className:"text-zinc-500"}),l.jsxs("h4",{className:"text-xs font-bold text-zinc-400",children:[" (",I.length,")"]})]}),l.jsxs("button",{onClick:g,className:"flex items-center gap-1.5 px-2 py-1 bg-zinc-800 hover:bg-blue-900/30 text-zinc-400 hover:text-blue-400 rounded text-[10px] border border-zinc-700 hover:border-blue-700/50 transition-colors",title:"",children:[l.jsx(m0,{size:12}),""]})]}),l.jsx("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-1 flex flex-col gap-1 max-h-36 overflow-y-auto custom-scrollbar",children:I.map((C,B)=>{var U;const b=C.id===c.id;return l.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded text-sm border transition-colors group
                                            ${b?"bg-blue-900/20 border-blue-800/50":"bg-zinc-900/50 border-zinc-800/50 hover:bg-zinc-800 hover:border-zinc-700"}
                                        `,children:[l.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer min-w-0",onClick:()=>d(C),children:[l.jsx("span",{className:`font-mono text-xs font-bold px-1.5 py-0.5 rounded shrink-0 ${b?"bg-blue-600 text-white":"bg-zinc-800 text-zinc-500"}`,children:String.fromCharCode(65+B)}),l.jsx("span",{className:`truncate font-medium ${b?"text-blue-200":"text-zinc-400 hover:text-zinc-200"}`,children:((U=C.move)==null?void 0:U.notation)||""})]}),l.jsxs("div",{className:"flex items-center gap-1 pl-2 border-l border-zinc-800/50 shrink-0",children:[l.jsx("button",{onClick:ee=>{ee.stopPropagation(),v(C.id,"up")},className:"p-1 hover:bg-zinc-700 rounded text-zinc-600 hover:text-zinc-300 disabled:opacity-20 disabled:cursor-not-allowed transition-colors",disabled:B===0,title:"",children:l.jsx(t0,{size:14})}),l.jsx("button",{onClick:ee=>{ee.stopPropagation(),v(C.id,"down")},className:"p-1 hover:bg-zinc-700 rounded text-zinc-600 hover:text-zinc-300 disabled:opacity-20 disabled:cursor-not-allowed transition-colors",disabled:B===I.length-1,title:"",children:l.jsx(Co,{size:14})}),l.jsx("button",{onClick:ee=>Y(ee,C),className:"p-1 hover:bg-red-900/50 rounded text-zinc-600 hover:text-red-400 transition-colors ml-1",title:"",children:l.jsx(ml,{size:14})})]})]},C.id)})})]}),l.jsxs("div",{className:"p-3",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(v0,{size:14,className:"absolute top-3 left-3 text-zinc-500 group-focus-within:text-amber-500 transition-colors"}),l.jsx("textarea",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg py-2 pl-9 pr-3 text-sm text-zinc-300 placeholder-zinc-600 focus:outline-none focus:ring-1 focus:ring-amber-500 resize-none h-16 transition-all custom-scrollbar",placeholder:V?"...":"...",value:c.comment||"",onChange:C=>u(c.id,C.target.value)})]}),l.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto pb-1 no-scrollbar",children:["","","","",""].map(C=>l.jsx("button",{onClick:()=>u(c.id,((c.comment||"")+" "+C).trim()),className:"text-xs px-2 py-1 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded text-zinc-400 whitespace-nowrap transition-colors",children:C},C))})]})]})]}):l.jsx("div",{className:"p-4 text-zinc-500",children:"..."})};function A0(){return window.location.pathname.includes("/Cloud-Chess-Note/")?"/Cloud-Chess-Note/public/engine/":"/engine/"}class lr{constructor(){this.stockfish=null,this.isReady=!1,this.isAnalyzing=!1,this.onInfoCallback=null,this.nnueLoaded=!1,this.engineBasePath=A0()}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}async init(){if(!this.isReady)return new Promise((c,o)=>{window.Module=window.Module||{},window.Module.locateFile=u=>this.engineBasePath+u,window.Module.mainScriptUrlOrBlob=this.engineBasePath+"stockfish.js";const d=document.createElement("script");d.src=this.engineBasePath+"stockfish.js",d.async=!0,d.onload=async()=>{try{const u=window.Stockfish;if(!u)throw new Error("Stockfish failed to load");this.stockfish=await u({locateFile:h=>this.engineBasePath+h,mainScriptUrlOrBlob:this.engineBasePath+"stockfish.js"}),this.stockfish.addMessageListener(h=>{this.parseLine(h)}),await this.loadNNUE(),this.postMessage("uci"),this.isReady=!0,c()}catch(u){console.error("Engine Init Failed",u),o(u)}},d.onerror=u=>o(u),document.body.appendChild(d)})}async loadNNUE(){if(!this.nnueLoaded)try{const c=await fetch(this.engineBasePath+"pikafish.nnue");if(!c.ok)throw new Error("NNUE file not found");const o=await c.arrayBuffer(),d=new Uint8Array(o),u="pikafish.nnue";this.stockfish.FS.writeFile("/"+u,d),this.postMessage(`setoption name EvalFile value /${u}`),this.postMessage("setoption name Threads value 4"),this.postMessage("setoption name Hash value 64"),this.nnueLoaded=!0,console.log("NNUE Loaded Successfully")}catch(c){console.warn("Failed to load NNUE, engine might be weak",c)}}postMessage(c){this.stockfish&&this.stockfish.postMessage(c)}parseLine(c){if(c.startsWith("info")&&c.includes("depth")&&c.includes("score")){const o=this.parseInfo(c);this.onInfoCallback&&this.onInfoCallback(o)}c.startsWith("bestmove")&&(c.split(" ")[1],this.onInfoCallback)}parseInfo(c){const o=c.split(" "),d=_=>{const S=o.indexOf(_);return S!==-1&&S+1<o.length?o[S+1]:null};let u=0,h=null;const x=d("score"),v=parseInt(o[o.indexOf("score")+2]||"0");x==="mate"?(h=v,u=v>0?9999:-9999):u=v;const g=o.indexOf("pv"),M=g!==-1?o.slice(g+1):[];return{depth:parseInt(d("depth")||"0"),score:u,mate:h,nodes:parseInt(d("nodes")||"0"),nps:parseInt(d("nps")||"0"),time:parseInt(d("time")||"0"),pv:M,bestMove:M[0]}}startAnalysis(c,o){this.isReady&&(this.stopAnalysis(),this.onInfoCallback=o,this.isAnalyzing=!0,this.postMessage(`position fen ${c}`),this.postMessage("go infinite"))}analyzeFixedDepth(c,o){return this.isReady?(this.stopAnalysis(),new Promise(d=>{let u=null;const h=x=>{if(x.startsWith("info")&&x.includes("depth")&&x.includes("score")&&(u=this.parseInfo(x)),x.startsWith("bestmove")){this.stockfish.removeMessageListener(h);const v=u||{depth:0,score:0,mate:null,nodes:0,nps:0,time:0,pv:[x.split(" ")[1]]};d(v)}};this.stockfish.addMessageListener(h),this.postMessage(`position fen ${c}`),this.postMessage(`go depth ${o}`)})):Promise.reject("Engine not ready")}stopAnalysis(){this.isAnalyzing&&(this.postMessage("stop"),this.isAnalyzing=!1,this.onInfoCallback=null)}}const Cu=({currentFen:f,currentBoard:c,onMoveClick:o,onOpenAnalysis:d,isEnabled:u,onToggleEnabled:h})=>{const[x,v]=R.useState("cloud"),[g,M]=R.useState(!1),[_,S]=R.useState([]),[D,X]=R.useState(!1),[V,I]=R.useState(!1),[j,Y]=R.useState(null),C=R.useRef(null);R.useEffect(()=>{x==="local"&&!C.current&&(async()=>{const te=lr.getInstance();await te.init(),C.current=te,X(!0)})()},[x]),R.useEffect(()=>(x==="local"&&V&&C.current&&D&&C.current.startAnalysis(f,W=>{Y(W)}),()=>{x==="local"&&V&&C.current}),[f,x,V,D]);const B=()=>{var W;V?((W=C.current)==null||W.stopAnalysis(),I(!1),Y(null)):I(!0)},b=W=>{try{const te=Si(W);if(!te)return W;const{from:me,to:he}=te;if(me.r<0||me.r>9||me.c<0||me.c>8)return W;const ge=c[me.r][me.c];if(!ge)return W;const Ee=c[he.r][he.c];return Tr(c,{from:me,to:he,piece:ge,captured:Ee})}catch{return W}},U=async W=>{if(!(!u||x!=="cloud")){M(!0);try{const te=await Uu(W);S(te)}catch(te){console.error(te)}finally{M(!1)}}};R.useEffect(()=>{u&&x==="cloud"&&U(f)},[f,u,x]);const ee=W=>W>100?"text-red-400 font-bold":W<-100?"text-green-400 font-bold":"text-zinc-400";return l.jsxs("div",{className:"flex flex-col h-full bg-zinc-900 border-zinc-800 w-full overflow-hidden",children:[l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 shrink-0",children:l.jsxs("div",{className:"flex px-2 pt-2 gap-1",children:[l.jsxs("button",{onClick:()=>v("cloud"),className:`flex-1 py-2 text-xs font-bold rounded-t-lg flex items-center justify-center gap-2 border-t border-x ${x==="cloud"?"bg-zinc-800 text-blue-400 border-zinc-700":"bg-zinc-900 text-zinc-500 border-transparent hover:bg-zinc-800/50"}`,children:[l.jsx(_r,{size:14})," "]}),l.jsxs("button",{onClick:()=>v("local"),className:`flex-1 py-2 text-xs font-bold rounded-t-lg flex items-center justify-center gap-2 border-t border-x ${x==="local"?"bg-zinc-800 text-amber-400 border-zinc-700":"bg-zinc-900 text-zinc-500 border-transparent hover:bg-zinc-800/50"}`,children:[l.jsx(Mi,{size:14})," "]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-zinc-950 relative min-h-0",children:x==="cloud"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 border-b border-zinc-800 shrink-0 flex gap-2",children:[u?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>U(f),disabled:g,className:"flex-1 py-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded flex items-center justify-center gap-2 text-sm border border-zinc-700 transition-colors",children:[l.jsx(vo,{size:14,className:g?"animate-spin":""})," "]}),l.jsx("button",{onClick:()=>h(!1),className:"px-3 py-2 bg-zinc-800 hover:bg-red-900/40 text-zinc-400 hover:text-red-400 rounded border border-zinc-700 transition-colors",children:l.jsx(T0,{size:16})})]}):l.jsxs("button",{onClick:()=>h(!0),className:"w-full py-2 bg-blue-600 hover:bg-blue-500 text-white rounded flex items-center justify-center gap-2 font-bold text-sm shadow-lg transition-all",children:[l.jsx(Du,{size:16})," "]}),l.jsx("button",{onClick:d,className:"px-3 py-2 bg-zinc-800 hover:bg-indigo-900/40 text-zinc-300 hover:text-indigo-300 rounded border border-zinc-700 transition-colors",title:"",children:l.jsx(vu,{size:16})})]}),u?g?l.jsxs("div",{className:"flex flex-col items-center justify-center h-40 gap-3 text-zinc-500",children:[l.jsx(vo,{size:24,className:"animate-spin text-blue-500"}),l.jsx("span",{className:"text-xs font-medium",children:"..."})]}):_.length===0?l.jsx("div",{className:"p-10 text-center text-zinc-600 italic text-sm",children:""}):l.jsxs("table",{className:"w-full text-left border-collapse text-sm",children:[l.jsx("thead",{className:"bg-zinc-900 text-zinc-500 font-bold sticky top-0 z-10 text-[10px] uppercase tracking-wider",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 border-b border-zinc-800",children:""}),l.jsx("th",{className:"px-2 py-2 border-b border-zinc-800 text-right",children:""}),l.jsx("th",{className:"px-2 py-2 border-b border-zinc-800 text-right",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-zinc-800/30",children:_.map((W,te)=>l.jsxs("tr",{onClick:()=>o(Si(W.move)),className:"hover:bg-blue-900/10 cursor-pointer transition-colors",children:[l.jsx("td",{className:"px-3 py-2 font-bold text-zinc-300",children:b(W.move)}),l.jsx("td",{className:`px-2 py-2 text-right font-mono ${ee(W.score)}`,children:W.score}),l.jsxs("td",{className:"px-2 py-2 text-right text-zinc-500 text-xs",children:[W.winrate,"%"]})]},te))})]}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center gap-4 opacity-50",children:[l.jsx(_r,{size:48,className:"text-zinc-700"}),l.jsxs("p",{className:"text-zinc-500 text-sm leading-relaxed",children:[" API",l.jsx("br",{}),""]})]})]}):l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"p-3 border-b border-zinc-800 shrink-0 flex gap-2",children:[l.jsx("button",{onClick:B,disabled:!D,className:`flex-1 py-2 rounded flex items-center justify-center gap-2 font-bold text-sm shadow-lg transition-all ${V?"bg-red-600 hover:bg-red-500 text-white":"bg-amber-600 hover:bg-amber-500 text-white disabled:opacity-50 disabled:cursor-wait"}`,children:V?l.jsxs(l.Fragment,{children:[l.jsx(M0,{size:14,fill:"currentColor"})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(pl,{size:16,fill:"currentColor"})," "]})}),l.jsx("button",{onClick:d,className:"px-3 py-2 bg-zinc-800 hover:bg-indigo-900/40 text-zinc-300 hover:text-indigo-300 rounded border border-zinc-700 transition-colors",title:" (AI)",children:l.jsx(vu,{size:16})})]}),D?!V&&!j?l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-600 gap-2 opacity-50",children:[l.jsx(Mi,{size:48}),l.jsx("span",{className:"text-xs",children:"Pikafish NNUE "})]}):l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-zinc-900 rounded p-2 text-center border border-zinc-800",children:[l.jsx("div",{className:"text-[10px] text-zinc-500 uppercase",children:"Score"}),l.jsx("div",{className:`text-xl font-mono font-bold ${j?ee(j.score):"text-zinc-600"}`,children:j!=null&&j.mate?`M${Math.abs(j.mate)}`:(j==null?void 0:j.score)||0})]}),l.jsxs("div",{className:"bg-zinc-900 rounded p-2 text-center border border-zinc-800",children:[l.jsx("div",{className:"text-[10px] text-zinc-500 uppercase",children:"Depth"}),l.jsx("div",{className:"text-xl font-mono font-bold text-amber-400",children:(j==null?void 0:j.depth)||0})]})]}),l.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 font-mono bg-zinc-900/50 p-2 rounded border border-zinc-800/50",children:[l.jsxs("span",{children:["NPS: ",j?(j.nps/1e3).toFixed(1)+"k":"-"]}),l.jsxs("span",{children:["Nodes: ",j?(j.nodes/1e6).toFixed(2)+"M":"-"]})]}),(j==null?void 0:j.pv)&&j.pv.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"text-xs font-bold text-zinc-400 flex items-center gap-1",children:[l.jsx(Ou,{size:12}),"  (PV)"]}),l.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded p-2 text-sm text-zinc-300 font-mono leading-relaxed break-words",children:j.pv.map((W,te)=>l.jsx("span",{className:te===0?"text-amber-400 font-bold mr-1.5":"mr-1.5 text-zinc-400",children:b(W)},te))}),l.jsxs("button",{onClick:()=>j.bestMove&&o(Si(j.bestMove)),className:"w-full mt-2 py-1.5 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 text-xs rounded border border-zinc-700 transition-colors",children:[" (",j.bestMove&&b(j.bestMove),")"]})]})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-500 gap-2",children:[l.jsx(vo,{size:24,className:"animate-spin text-amber-500"}),l.jsx("span",{className:"text-xs",children:" ( NNUE)..."})]})]})})]})},B0=({header:f,leftSidebar:c,rightSidebar:o,board:d,controls:u,mobileTabs:h,mobileOverlay:x})=>l.jsxs("div",{className:"flex flex-col h-screen w-full bg-zinc-950 text-zinc-100 overflow-hidden",children:[l.jsx("div",{className:"shrink-0 z-50",children:f}),l.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[l.jsx("aside",{className:"hidden xl:flex w-80 2xl:w-96 flex-col border-r border-zinc-800 bg-zinc-900/50",children:c}),l.jsx("main",{className:"flex-1 flex flex-col bg-zinc-950 min-w-0 relative",children:l.jsx("div",{className:"flex-1 flex flex-col p-1 md:p-4 overflow-hidden",children:l.jsxs("div",{className:"flex-1 flex flex-col max-w-[800px] mx-auto w-full min-h-0",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center relative min-h-0 overflow-hidden",children:d}),l.jsxs("div",{className:"flex flex-col shrink-0 mt-2 gap-2",children:[l.jsx("div",{className:"w-full",children:u}),l.jsx("div",{className:"xl:hidden shrink-0 h-14 pb-2",children:h})]})]})})}),l.jsx("aside",{className:"hidden xl:flex w-80 2xl:w-96 flex-col border-l border-zinc-800 bg-zinc-900/50",children:o}),x]})]}),O0=({onClose:f,movePath:c,onJumpToStep:o,onBatchUpdateComments:d,results:u,setResults:h})=>{const[x,v]=R.useState(!1),[g,M]=R.useState("cloud"),[_,S]=R.useState(15),[D,X]=R.useState(0),[V,I]=R.useState(""),[j,Y]=R.useState(null),[C,B]=R.useState(null),b=R.useRef(null),U=R.useRef(!1);R.useEffect(()=>{u.length>0&&!x&&X(100)},[u.length]);const ee=async()=>{v(!0),M("cloud"),h([]),B(null),X(0),b.current=new AbortController;const P=[],p=c.length-1;for(let z=0;z<p&&!b.current.signal.aborted;z++){const F=c[z],oe=c[z+1];I(` ${z+1} ...`);const ce=await Uu(F.fen);let ue="";if(oe.move){const We=oe.move.from,it=oe.move.to,G=["a","b","c","d","e","f","g","h","i"],Q=`${G[We.c]}${9-We.r}`,J=`${G[it.c]}${9-it.r}`;ue=Q+J}const Ae=ce.find(We=>We.move===ue),Ce=ce.length>0?ce[0]:null,Qe=te(F,oe,Ae,Ce,z+1);P.push(Qe),h([...P]),X((z+1)/p*100),await new Promise(We=>setTimeout(We,100))}v(!1),I("")},W=async()=>{const P=lr.getInstance();try{await P.init()}catch{alert("");return}v(!0),M("local"),h([]),B(null),X(0),U.current=!1;const p=[],z=c.length-1;for(let F=0;F<z&&!U.current;F++){const oe=c[F],ce=c[F+1];I(` ${F+1}  ( ${_})...`);const ue=await P.analyzeFixedDepth(oe.fen,_),Ae=ue.bestMove||"",Ce=ue.score;let Qe="";if(ce.move){const be=ce.move.from,ze=ce.move.to,ke=["a","b","c","d","e","f","g","h","i"],De=`${ke[be.c]}${9-be.r}`,Ye=`${ke[ze.c]}${9-ze.r}`;Qe=De+Ye}const We=Qe===Ae,it={move:Ae,score:Ce},Q=te(oe,ce,We?it:null,it,F+1),re=oe.turn==="red"?Ce:-Ce;Q.score=re,p.push(Q),h([...p]),X((F+1)/z*100)}P.stopAnalysis(),v(!1),I("")},te=(P,p,z,F,oe,ce)=>{var G;let ue=0,Ae=null,Ce="";const Qe=P.turn==="red";if(F){const Q=Si(F.move);if(Q){const J=P.boardState[Q.from.r][Q.from.c];P.boardState[Q.to.r][Q.to.c],J?Ce=Tr(P.boardState,{from:Q.from,to:Q.to,piece:J}):Ce=F.move}}const We=(F==null?void 0:F.score)||0;if(z){const Q=z.score;Ae=Q,ue=Math.abs(We-Q)}else F&&(ue=200,Ae=We+(Qe?-200:200));let it="good";return ue>500?it="blunder":ue>200?it="mistake":ue>50&&(it="inaccuracy"),{nodeId:p.id,moveIndex:oe,moveNotation:((G=p.move)==null?void 0:G.notation)||"",fen:P.fen,score:Ae,deviation:ue,isRedTurn:Qe,bestMove:Ce,bestScore:We,quality:it}},me=()=>{b.current&&b.current.abort(),U.current=!0,v(!1)},he=(P,p)=>{B(P),o(p)},ge=()=>{if(u.length===0)return;const P=[];u.forEach(p=>{if(p.quality!=="good"){const z=c.find(ue=>ue.id===p.nodeId);if(!z)return;let F="";p.quality==="blunder"?F="":p.quality==="mistake"?F="":p.quality==="inaccuracy"&&(F="");const oe=`${F}
: ${p.score}
: ${p.deviation}
: ${p.bestMove} (${p.bestScore})`;let ce=z.comment||"";ce.includes(`: ${p.score}`)||(ce.trim().length>0?ce+=`
`+oe:ce=oe,P.push({id:p.nodeId,text:ce}))}}),d(P),alert(` ${P.length} `),f()},Ee=220,Ie=600,H=20,Me=()=>{if(u.length===0)return"";const P=600,p=-600,z=u.map((oe,ce)=>({...oe,idx:ce})).filter(oe=>oe.score!==null&&!isNaN(oe.score));return z.length===0?"":z.map(oe=>{const ce=H+oe.idx/(u.length-1||1)*(Ie-H*2);let ue=oe.score;ue=Math.max(p,Math.min(P,ue));const Ae=Ee-(ue-p)/(P-p)*Ee;return`${ce},${Ae}`}).join(" ")},Le=P=>{const p=u.filter(z=>z.isRedTurn===P);return{total:p.length,good:p.filter(z=>z.quality==="good").length,inaccuracy:p.filter(z=>z.quality==="inaccuracy").length,mistake:p.filter(z=>z.quality==="mistake").length,blunder:p.filter(z=>z.quality==="blunder").length}},_e=Le(!0),L=Le(!1),O=P=>{switch(P){case"blunder":return"#dc2626";case"mistake":return"#f97316";case"inaccuracy":return"#eab308";default:return"#3b82f6"}};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-5xl flex flex-col max-h-[95vh] mx-4",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex justify-between items-center shrink-0",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(Du,{className:"text-blue-500"}),""]}),l.jsx("button",{onClick:f,className:"p-1 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white",children:l.jsx(cn,{size:24})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[!x&&u.length===0&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-zinc-950/50 p-6 rounded-xl border border-zinc-800",children:[l.jsxs("div",{className:"flex flex-col gap-4 p-4 rounded-lg bg-zinc-900 border border-zinc-800 hover:border-blue-500/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-blue-900/20 rounded-full text-blue-400",children:l.jsx(_r,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-zinc-200",children:""}),l.jsx("p",{className:"text-xs text-zinc-500",children:" ChessDB "})]})]}),l.jsxs("button",{onClick:ee,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold flex items-center justify-center gap-2 shadow-lg shadow-blue-900/20",children:[l.jsx(pl,{size:18,fill:"currentColor"})," "]})]}),l.jsxs("div",{className:"flex flex-col gap-4 p-4 rounded-lg bg-zinc-900 border border-zinc-800 hover:border-amber-500/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-amber-900/20 rounded-full text-amber-400",children:l.jsx(Mi,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-zinc-200",children:"AI "}),l.jsx("p",{className:"text-xs text-zinc-500",children:" Pikafish "})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"text-amber-400 font-bold",children:[_," "]})]}),l.jsx("input",{type:"range",min:"10",max:"25",step:"1",value:_,onChange:P=>S(parseInt(P.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-amber-500"}),l.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-600",children:[l.jsx("span",{children:"10 ()"}),l.jsx("span",{children:"25 ()"})]})]}),l.jsxs("button",{onClick:W,className:"w-full py-3 bg-amber-600 hover:bg-amber-500 text-white rounded-lg font-bold flex items-center justify-center gap-2 shadow-lg shadow-amber-900/20",children:[l.jsx(pl,{size:18,fill:"currentColor"}),"  AI "]})]})]}),x&&l.jsxs("div",{className:"space-y-3 bg-zinc-900 p-4 rounded-xl border border-zinc-800 animate-in fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsxs("span",{className:"font-bold text-zinc-300 flex items-center gap-2",children:[g==="cloud"?l.jsx(_r,{size:16}):l.jsx(Mi,{size:16}),V]}),l.jsxs("span",{className:"font-mono text-blue-400",children:[Math.round(D),"%"]})]}),l.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${D}%`}})}),l.jsxs("button",{onClick:me,className:"w-full py-2 bg-zinc-800 hover:bg-red-900/30 text-zinc-400 hover:text-red-400 border border-zinc-700 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[l.jsx($u,{size:16})," "]})]}),u.length>0&&!x&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg p-4 relative h-64 select-none group",children:[l.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${Ie} ${Ee}`,className:"overflow-visible",children:[l.jsx("line",{x1:H,y1:Ee/2,x2:Ie-H,y2:Ee/2,stroke:"#3f3f46",strokeWidth:"1",strokeDasharray:"4 4"}),l.jsx("polyline",{points:Me(),fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.map((P,p)=>{if(P.score===null||isNaN(P.score))return null;const z=H+p/(u.length-1||1)*(Ie-H*2);let F=P.score;F=Math.max(-600,Math.min(600,F));const oe=Ee-(F+600)/1200*Ee,ce=O(P.quality),ue=C===p,Ce=j===p||ue?6:P.quality!=="good"?3.5:1.5;return l.jsxs("g",{children:[ue&&l.jsx("circle",{cx:z,cy:oe,r:12,fill:ce,fillOpacity:"0.3",className:"animate-pulse"}),l.jsx("circle",{cx:z,cy:oe,r:Ce,fill:ce,stroke:ue?"#fff":"none",strokeWidth:ue?1.5:0,className:"cursor-pointer transition-all",onMouseEnter:()=>Y(p),onMouseLeave:()=>Y(null),onClick:()=>he(p,P.moveIndex)})]},p)})]}),j!==null&&u[j]&&l.jsxs("div",{className:"absolute top-2 right-2 bg-zinc-800/95 p-3 rounded border border-zinc-700 text-xs shadow-xl backdrop-blur-sm z-10 pointer-events-none min-w-[140px]",children:[l.jsxs("div",{className:"font-bold text-zinc-200 mb-1 border-b border-zinc-700 pb-1",children:[" ",u[j].moveIndex,"  (",u[j].isRedTurn?"":"",")"]}),l.jsx("div",{className:"text-zinc-300 mb-1",children:u[j].moveNotation}),l.jsxs("div",{className:`font-mono font-bold ${u[j].score>0?"text-red-400":"text-green-400"}`,children:[": ",u[j].score]}),u[j].deviation>0&&l.jsxs("div",{className:"text-amber-500 mt-1",children:[": ",u[j].deviation]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{h([])},className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded-lg font-bold transition-colors border border-zinc-700",children:""}),l.jsxs("button",{onClick:ge,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold flex items-center justify-center gap-2 transition-colors shadow-lg",children:[l.jsx(j0,{size:18})," "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Mu,{title:"",stats:_e,isRed:!0}),l.jsx(Mu,{title:"",stats:L,isRed:!1})]}),u.some(P=>P.quality!=="good")&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-sm font-bold text-zinc-400 flex items-center gap-2",children:[l.jsx(Eo,{size:16})," "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs font-bold text-red-400 border-b border-zinc-800 pb-1 mb-2",children:""}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:u.map((P,p)=>!P.isRedTurn||P.quality==="good"?null:l.jsx(Eu,{res:P,idx:p,selectedIndex:C,onJump:he},P.nodeId))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs font-bold text-zinc-400 border-b border-zinc-800 pb-1 mb-2",children:""}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:u.map((P,p)=>P.isRedTurn||P.quality==="good"?null:l.jsx(Eu,{res:P,idx:p,selectedIndex:C,onJump:he},P.nodeId))})]})]})]})]})]})]})})},Eu=({res:f,idx:c,selectedIndex:o,onJump:d})=>{let u="",h="",x="";f.quality==="blunder"?(u="border-red-900/50",h="bg-red-950/30 hover:bg-red-900/20",x="text-red-400"):f.quality==="mistake"?(u="border-orange-900/50",h="bg-orange-950/30 hover:bg-orange-900/20",x="text-orange-400"):(u="border-yellow-900/50",h="bg-yellow-950/30 hover:bg-yellow-900/20",x="text-yellow-400");const v=o===c;return l.jsxs("button",{onClick:()=>d(c,f.moveIndex),className:`w-full px-3 py-2 rounded text-left border transition-all text-xs flex flex-col gap-1 ${u} ${h} ${x} ${v?"ring-2 ring-white/50 scale-[1.02]":"opacity-90"}`,children:[l.jsx("div",{className:"font-bold flex justify-between w-full",children:l.jsxs("span",{children:["#",f.moveIndex," ",f.moveNotation]})}),l.jsxs("div",{className:"flex justify-between items-center opacity-80",children:[l.jsxs("span",{className:"font-mono",children:[f.score,""]}),l.jsxs("span",{className:"font-mono",children:[":",f.deviation]})]})]})},Mu=({title:f,stats:c,isRed:o})=>l.jsxs("div",{className:`rounded-lg p-4 border ${o?"bg-red-950/10 border-red-900/20":"bg-zinc-950/50 border-zinc-800"}`,children:[l.jsxs("h3",{className:`text-sm font-bold mb-3 flex justify-between ${o?"text-red-300":"text-zinc-300"}`,children:[f," ",l.jsxs("span",{className:"text-zinc-500 font-normal text-xs",children:[c.total," "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ji,{label:" (>500)",count:c.blunder,total:c.total,color:"bg-red-600",textColor:"text-red-400"}),l.jsx(ji,{label:" (>200)",count:c.mistake,total:c.total,color:"bg-orange-500",textColor:"text-orange-400"}),l.jsx(ji,{label:" (>50)",count:c.inaccuracy,total:c.total,color:"bg-yellow-500",textColor:"text-yellow-400"}),l.jsx(ji,{label:"",count:c.good,total:c.total,color:"bg-blue-600",textColor:"text-blue-400"})]})]}),ji=({label:f,count:c,total:o,color:d,textColor:u})=>{const h=o>0?Math.round(c/o*100):0;return l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("span",{className:`w-20 ${u} font-medium`,children:f}),l.jsx("div",{className:"flex-1 h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${d}`,style:{width:`${h}%`}})}),l.jsx("span",{className:"w-6 text-right font-mono text-zinc-300",children:c}),l.jsxs("span",{className:"w-8 text-right font-mono text-zinc-500",children:[h,"%"]})]})},U0=({isOpen:f,onClose:c,metadata:o,onSave:d})=>{const[u,h]=R.useState(o);if(!f)return null;const x=(g,M)=>{h(_=>({..._,[g]:M}))},v=()=>{d(u),c()};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-md mx-4 overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-900",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(Au,{className:"text-amber-500",size:20}),""]}),l.jsx("button",{onClick:c,className:"p-1 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white transition-colors",children:l.jsx(cn,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400 block",children:" :"}),l.jsx("input",{type:"text",value:u.title,onChange:g=>x("title",g.target.value),placeholder:"",className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg px-3 py-2 text-zinc-200 focus:outline-none focus:border-amber-500 transition-colors"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400 block",children:" :"}),l.jsxs("div",{className:"relative",children:[l.jsx(P0,{size:16,className:"absolute left-3 top-3 text-zinc-500"}),l.jsx("input",{type:"text",value:u.event,onChange:g=>x("event",g.target.value),placeholder:"",className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg pl-9 pr-3 py-2 text-zinc-200 focus:outline-none focus:border-amber-500 transition-colors"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400 block",children:" :"}),l.jsxs("div",{className:"relative",children:[l.jsx(Jf,{size:16,className:"absolute left-3 top-3 text-zinc-500"}),l.jsx("input",{type:"text",value:u.date,onChange:g=>x("date",g.target.value),placeholder:"YYYY-MM-DD",className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg pl-9 pr-3 py-2 text-zinc-200 focus:outline-none focus:border-amber-500 transition-colors"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400 block",children:" :"}),l.jsxs("select",{value:u.result,onChange:g=>x("result",g.target.value),className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg px-3 py-2 text-zinc-200 focus:outline-none focus:border-amber-500 transition-colors appearance-none cursor-pointer",children:[l.jsx("option",{value:"unknown",children:""}),l.jsx("option",{value:"red",children:""}),l.jsx("option",{value:"black",children:""}),l.jsx("option",{value:"draw",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-2 border-t border-zinc-800",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-bold text-red-400 block",children:" :"}),l.jsxs("div",{className:"relative",children:[l.jsx(ju,{size:16,className:"absolute left-3 top-3 text-red-900"}),l.jsx("input",{type:"text",value:u.redName,onChange:g=>x("redName",g.target.value),placeholder:"",className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg pl-9 pr-3 py-2 text-zinc-200 focus:outline-none focus:border-red-500 transition-colors"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400 block",children:" :"}),l.jsxs("div",{className:"relative",children:[l.jsx(ju,{size:16,className:"absolute left-3 top-3 text-zinc-600"}),l.jsx("input",{type:"text",value:u.blackName,onChange:g=>x("blackName",g.target.value),placeholder:"",className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg pl-9 pr-3 py-2 text-zinc-200 focus:outline-none focus:border-zinc-500 transition-colors"})]})]})]})]}),l.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900/50 flex justify-end gap-3",children:[l.jsx("button",{onClick:c,className:"px-5 py-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg font-medium transition-colors",children:""}),l.jsx("button",{onClick:v,className:"px-5 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg font-bold shadow-lg shadow-green-900/20 transition-colors",children:""})]})]})})},yo=["king","advisor","elephant","horse","chariot","cannon","soldier"],H0={king:1,advisor:2,elephant:2,horse:2,chariot:2,cannon:2,soldier:5},Q0=({isOpen:f,onClose:c,initialFen:o,onConfirm:d,isFlippedInitial:u})=>{const[h,x]=R.useState(Ir()),[v,g]=R.useState("red"),[M,_]=R.useState(u),[S,D]=R.useState(null),[X,V]=R.useState(null),[I,j]=R.useState(""),[Y,C]=R.useState(!1),B=R.useRef(null),b=R.useRef(null);if(R.useEffect(()=>{if(f){const{board:H,turn:Me}=ir(o);x(H),g(Me),j(o),D(null),V(null),_(u)}},[f,o,u]),R.useEffect(()=>{if(f){const H=Mr(h,v);j(H)}},[h,v,f]),!f)return null;const U=(H,Me)=>{const Le=Date.now(),_e=B.current,L=_e&&Le-_e.time<300&&_e.r===H.r&&_e.c===H.c;B.current={time:Le,r:H.r,c:H.c},X&&V(null);const O=h[H.r][H.c];if(L&&O){const P=h.map(p=>[...p]);P[H.r][H.c]=null,x(P),D(null);return}if(S){let P=null;if(S.type==="box"?P=S.piece:P=h[S.r][S.c],P){if(!zu(P.type,P.color,H.r,H.c)){D(O?{type:"board",r:H.r,c:H.c}:null);return}const p=h.map(z=>[...z]);if(S.type==="board"){if(S.r===H.r&&S.c===H.c){D(null);return}p[S.r][S.c]=null}p[H.r][H.c]=P,x(p),D(null)}return}O?D({type:"board",r:H.r,c:H.c}):V({r:H.r,c:H.c,x:0,y:0})},ee=H=>{D({type:"box",piece:H}),V(null)},W=()=>{x(Ir()),g("red")},te=()=>{const H=Array(10).fill(null).map(()=>Array(9).fill(null));H[9][4]={type:"king",color:"red",text:lt.red.king},H[0][4]={type:"king",color:"black",text:lt.black.king},x(H)},me=()=>{var H;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(I).then(()=>{C(!0),setTimeout(()=>C(!1),2e3)}).catch(Me=>{var Le;(Le=b.current)==null||Le.select()});else{(H=b.current)==null||H.select();try{document.execCommand("copy"),C(!0),setTimeout(()=>C(!1),2e3)}catch{}}},he=async()=>{try{if(!navigator.clipboard||!navigator.clipboard.readText)throw new Error("Clipboard API not supported");const H=await navigator.clipboard.readText();if(H){if(H.indexOf("/")===-1){alert(" FEN ()");return}try{const{board:Me,turn:Le}=ir(H);x(Me),g(Le)}catch{alert("FEN ")}}}catch{alert(` ()

 FEN  (Ctrl+V)`),b.current&&(b.current.focus(),b.current.select())}},Ee=(()=>{const H={};return h.flat().forEach(Me=>{if(Me){const Le=`${Me.color}-${Me.type}`;H[Le]=(H[Le]||0)+1}}),H})(),Ie=(H,Me,Le)=>{const _e=Ee[`${Me}-${H}`]||0,L=H0[H],O=_e>=L,P={type:H,color:Me,text:Le},p=(S==null?void 0:S.type)==="box"&&S.piece.color===Me&&S.piece.type===H;return l.jsx("button",{onClick:()=>ee(P),className:`
                    w-9 h-9 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold font-serif text-lg shadow-sm border
                    ${p?"ring-2 ring-blue-500 scale-110 z-10":""}
                    ${O?"opacity-30 cursor-not-allowed bg-zinc-800 border-zinc-700 grayscale":"cursor-pointer hover:brightness-110"}
                    ${Me==="red"?O?"text-zinc-500":"bg-[#f0d9b5] text-[#a61c1c] border-[#a61c1c]":O?"text-zinc-500":"bg-[#f0d9b5] text-black border-black"}
                `,children:Le},`${Me}-${H}`)};return l.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md animate-in fade-in duration-200",children:l.jsxs("div",{className:"w-full h-full md:max-w-6xl flex flex-col md:flex-row overflow-hidden bg-zinc-900 md:rounded-xl md:h-[95vh] md:border border-zinc-800 shadow-2xl",children:[l.jsxs("div",{className:"flex-1 relative bg-[#2a2a2e] flex items-center justify-center p-2 min-h-0",children:[l.jsx("div",{className:"w-full h-full max-w-[600px] flex flex-col justify-center",children:l.jsx(Hu,{currentBoard:h,isFlipped:M,isMirrored:!1,mode:"edit",selectedCoord:(S==null?void 0:S.type)==="board"?{r:S.r,c:S.c}:null,onSquareClick:U})}),X&&l.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>V(null),children:l.jsxs("div",{className:"bg-zinc-800 p-4 rounded-xl shadow-2xl border border-zinc-700 grid grid-cols-4 gap-3 animate-in zoom-in-95 duration-200",onClick:H=>H.stopPropagation(),children:[l.jsxs("div",{className:"col-span-4 text-center text-zinc-400 text-xs mb-1 font-bold",children:[" (",X.r,", ",X.c,")"]}),["red","black"].map(H=>yo.map(Me=>{if(!zu(Me,H,X.r,X.c))return null;const Le=lt[H][Me];return l.jsx("button",{onClick:()=>{const _e=h.map(L=>[...L]);_e[X.r][X.c]={type:Me,color:H,text:Le},x(_e),V(null)},className:"w-10 h-10 rounded-full bg-zinc-700 hover:bg-zinc-600 flex items-center justify-center border border-zinc-600 shadow-sm",children:l.jsx("span",{className:`font-bold font-serif text-lg ${H==="red"?"text-red-500":"text-black bg-white/10 rounded-full w-8 h-8 flex items-center justify-center"}`,children:Le})},`mini-${H}-${Me}`)}))]})})]}),l.jsxs("div",{className:"w-full md:w-80 bg-zinc-900 border-t md:border-t-0 md:border-l border-zinc-800 flex flex-col shrink-0 h-auto max-h-[50vh] md:max-h-none",children:[l.jsxs("div",{className:"hidden md:flex px-4 py-3 border-b border-zinc-800 justify-between items-center bg-zinc-900",children:[l.jsx("h3",{className:"font-bold text-zinc-200",children:""}),l.jsx("button",{onClick:c,className:"p-1 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white",children:l.jsx(cn,{size:20})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-4 md:space-y-6 custom-scrollbar",children:[l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-3 border border-zinc-700/50",children:[l.jsx("div",{className:"flex justify-between gap-1 mb-2",children:yo.map(H=>H==="king"?null:Ie(H,"red",lt.red[H]))}),l.jsx("div",{className:"flex justify-between gap-1",children:yo.map(H=>H==="king"?null:Ie(H,"black",lt.black[H]))})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[l.jsxs("button",{onClick:W,className:"flex flex-col items-center justify-center p-2 bg-zinc-800 rounded-lg hover:bg-zinc-700 text-xs gap-1 text-zinc-300 border border-zinc-700",children:[l.jsx(S0,{size:16})," ",l.jsx("span",{className:"scale-90",children:""})]}),l.jsxs("button",{onClick:te,className:"flex flex-col items-center justify-center p-2 bg-zinc-800 rounded-lg hover:bg-zinc-700 text-xs gap-1 text-zinc-300 border border-zinc-700",children:[l.jsx(ml,{size:16})," ",l.jsx("span",{className:"scale-90",children:""})]}),l.jsxs("button",{onClick:()=>_(!M),className:"flex flex-col items-center justify-center p-2 bg-zinc-800 rounded-lg hover:bg-zinc-700 text-xs gap-1 text-zinc-300 border border-zinc-700",children:[l.jsx(Fu,{size:16})," ",l.jsx("span",{className:"scale-90",children:""})]}),l.jsxs("button",{onClick:()=>g(v==="red"?"black":"red"),className:`flex flex-col items-center justify-center p-2 rounded-lg text-xs gap-1 font-bold border transition-colors ${v==="red"?"bg-red-900/20 text-red-400 border-red-900/50":"bg-zinc-800 text-zinc-300 border-zinc-700"}`,children:[l.jsx(z0,{size:16})," ",l.jsx("span",{className:"scale-90",children:v==="red"?"":""})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:me,className:"flex-1 py-2 bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 border border-blue-600/30 rounded-lg text-sm flex items-center justify-center gap-1.5 font-medium transition-colors",children:[Y?l.jsx(Pr,{size:14}):l.jsx(Ei,{size:14}),"  FEN"]}),l.jsx("button",{onClick:he,className:"flex-1 py-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 border border-zinc-700 rounded-lg text-sm font-medium transition-colors",children:" FEN"})]}),l.jsx("textarea",{ref:b,value:I,onChange:H=>{j(H.target.value);try{const{board:Me,turn:Le}=ir(H.target.value);x(Me),g(Le)}catch{}},placeholder:"FEN ...",className:"w-full h-14 bg-black/20 border border-zinc-700 rounded px-3 py-2 text-xs font-mono text-zinc-300 focus:outline-none focus:border-amber-500 focus:bg-black/40 resize-none transition-colors"})]}),l.jsxs("div",{className:"p-3 bg-zinc-900 border-t border-zinc-800 flex gap-3 shrink-0 pb-6 md:pb-4",children:[l.jsx("button",{onClick:c,className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 font-bold rounded-lg transition-colors text-sm",children:""}),l.jsx("button",{onClick:()=>d(I),className:"flex-1 py-3 bg-amber-600 hover:bg-amber-500 text-white font-bold rounded-lg transition-colors shadow-lg shadow-amber-900/20 text-sm",children:""})]})]})]})})},V0=({isOpen:f,onClose:c,settings:o,onUpdate:d})=>{if(!f)return null;const u=x=>{d({...o,[x]:!o[x]})},h=(x,v)=>{d({...o,[x]:v})};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in zoom-in-95 duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-sm mx-4 overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"px-5 py-4 border-b border-zinc-800 bg-zinc-900 flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:""}),l.jsx("button",{onClick:c,className:"text-zinc-500 hover:text-white transition-colors",children:l.jsx(cn,{size:24})})]}),l.jsxs("div",{className:"p-5 space-y-6 overflow-y-auto custom-scrollbar max-h-[70vh]",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${o.enableSound?"bg-green-500/20 text-green-400":"bg-zinc-800 text-zinc-500"}`,children:o.enableSound?l.jsx(_0,{size:20}):l.jsx(I0,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-zinc-200",children:""}),l.jsx("div",{className:"text-xs text-zinc-500",children:""})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.enableSound,onChange:()=>u("enableSound"),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-zinc-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),l.jsx("hr",{className:"border-zinc-800"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${o.showPlayerNames?"bg-blue-500/20 text-blue-400":"bg-zinc-800 text-zinc-500"}`,children:o.showPlayerNames?l.jsx(u0,{size:20}):l.jsx(c0,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-zinc-200",children:""}),l.jsx("div",{className:"text-xs text-zinc-500",children:""})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.showPlayerNames,onChange:()=>u("showPlayerNames"),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-zinc-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${o.showVariationArrows?"bg-blue-500/20 text-blue-400":"bg-zinc-800 text-zinc-500"}`,children:l.jsx(R0,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-zinc-200",children:""}),l.jsx("div",{className:"text-xs text-zinc-500",children:" (A/B)"})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.showVariationArrows,onChange:()=>u("showVariationArrows"),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-zinc-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${o.showCoords?"bg-blue-500/20 text-blue-400":"bg-zinc-800 text-zinc-500"}`,children:l.jsx(h0,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-zinc-200",children:""}),l.jsx("div",{className:"text-xs text-zinc-500",children:" 1-9 "})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:o.showCoords,onChange:()=>u("showCoords"),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-zinc-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l.jsx("hr",{className:"border-zinc-800"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-zinc-800 text-zinc-400",children:l.jsx(y0,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-zinc-200",children:""}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[o.animationSpeed," ms"]})]})]})}),l.jsxs("div",{className:"px-1",children:[l.jsx("input",{type:"range",min:"0",max:"1000",step:"100",value:o.animationSpeed,onChange:x=>h("animationSpeed",parseInt(x.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-amber-600"}),l.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-600 mt-1",children:[l.jsx("span",{children:" (0ms)"}),l.jsx("span",{children:" (1s)"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"font-bold text-zinc-200",children:""}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["small","medium","large"].map(x=>{let v="";return x==="small"&&(v=" ()"),x==="medium"&&(v=" ()"),x==="large"&&(v=" ()"),l.jsx("button",{onClick:()=>h("boardSize",x),className:`py-2 px-1 rounded-lg text-sm font-bold border transition-all ${o.boardSize===x?"bg-amber-600/20 border-amber-500 text-amber-400":"bg-zinc-950 border-zinc-700 text-zinc-400 hover:border-zinc-500"}`,children:v},x)})})]})]}),l.jsx("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900/50 flex justify-end",children:l.jsx("button",{onClick:c,className:"px-6 py-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg font-bold transition-colors",children:""})})]})})},Pu={:1,:2,:3,:4,:5,:6,:7,:8,:9,"":1,"":2,"":3,"":4,"":5,"":6,"":7,"":8,"":9,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"":0,0:0},_u={parseInput(f){return f.includes("[DhtmlXQ")?this.parseDhtmlXQ(f):this.parseTextNotation(f)},normalizeText(f){let c=f.replace(/[--]/g,o=>{const d=o.charCodeAt(0);return d>=65296&&d<=65305||d>=65313&&d<=65321?String.fromCharCode(d-65248):o});return c=c.replace(/[]/g,"-"),c=c.replace(/[]/g," "),c=c.replace(//g,"-"),c=c.replace(//g,""),c=c.replace(//g,""),c=c.replace(//g,""),c=c.replace(//g,""),c=c.replace(//g,""),c=c.replace(/\d+\.\s*/g," "),c=c.replace(/[\d]+[:]/g," "),c=c.replace(/[,.;:]/g," "),c},extractTextMetadata(f){const c={Title:"",Event:"",Date:"",Red:"",Black:"",Result:""},o=u=>{for(const h of u){const x=f.match(h);if(x&&x[1])return x[1].trim()}return""};c.Title=o([/[]+[:]\s*(.+?)(?:\r?\n|$)/,/[:]\s*(.+?)(?:\r?\n|$)/,/\[Game\s+"(.+?)"\]/i]),c.Event=o([/[]*[:]\s*(.+?)(?:\r?\n|$)/,/[]*[:]\s*(.+?)(?:\r?\n|$)/,/\[Event\s+"(.+?)"\]/i]),c.Date=o([/[:]\s*(.+?)(?:\r?\n|$)/,/\[Date\s+"(.+?)"\]/i,/(\d{4}[.\-\/]\d{1,2}[.\-\/]\d{1,2})/]),c.Red=o([/[]*[:]\s*(.+?)(?:\r?\n|$)/,/[]*[:]\s*(.+?)(?:\r?\n|$)/,/\[Red\s+"(.+?)"\]/i]),c.Black=o([/[]*[:]\s*(.+?)(?:\r?\n|$)/,/\[Black\s+"(.+?)"\]/i]);const d=o([/[][][:]\s*(.+?)(?:\r?\n|$)/,/[:]\s*(.+?)(?:\r?\n|$)/,/\[Result\s+"(.+?)"\]/i]);return d&&(/||[]|1-0/.test(d)?c.Result="":/||[]|[]|0-1/.test(d)?c.Result="":/||1\/2/.test(d)?c.Result="":c.Result=d),c},parseTextNotation(f){let c="rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w - - 0 1";const o=this.extractTextMetadata(f),d=f.match(/\[FEN\s+"([^"]+)"\]/i)||f.match(/[Ff][Ee][Nn][:\s]+([rnbakabnrcpRNBAKABNRCP1-9\/]+ [wb])/);d&&(f.includes("[")?c=d[1]:c=d[1]+" - - 0 1");let u=f.replace(/\[[^\]]+\]/g," ");const h=[];u=u.replace(/\{([\s\S]*?)\}/g,(X,V)=>X.startsWith("{#")?X:(h.push(V.trim()),` __COMMENT_${h.length-1}__ `)),u=u.replace(/\{#([\s\S]*?)#\}/g,(X,V)=>(h.push(V.trim()),` __COMMENT_${h.length-1}__ `));const x=this.normalizeText(u),v=/([a-i][0-9]-?[a-i][0-9]|[RCNHPKAB][1-9][+.-][1-9]|(?:[\u4e00-\u9fa5]{2}|[\u4e00-\u9fa5][0-9])[][0-9]|__COMMENT_\d+__)/gi,g=x.match(v)||[],M=[];let{board:_,turn:S}=ir(c),D=null;for(let X of g){if(X.startsWith("__COMMENT_")){if(D){const j=parseInt(X.match(/\d+/)[0]);D.comment=(D.comment||"")+(D.comment?" ":"")+h[j]}continue}let V=null;const I=X.toLowerCase();if(/^[a-i][0-9]/.test(I)?V=this.iccsToMoveStr(X):/^[RCNHPKAB]/i.test(X)?V=this.parseWXFMove(X,_,S):/[\u4e00-\u9fa5]/.test(X)&&(V=this.parseChineseMove(X,_,S)),V){const[j,Y]=V.split("-").map(Number),C=Math.floor(j/9),B=j%9,b=Math.floor(Y/9),U=Y%9,ee=_[C][B];if(ee){let W=X;/[\u4e00-\u9fa5]/.test(X)||(W=Tr(_,{from:{r:C,c:B},to:{r:b,c:U},piece:ee,captured:_[b][U]})),D={moveStr:V,notation:W},M.push(D);const te=_.map(me=>[...me]);te[b][U]=ee,te[C][B]=null,_=te,S=S==="red"?"black":"red"}}}return{fen:c,moves:M,header:o}},parseChineseMove(f,c,o){var I;if(f.length<3)return null;const d=o==="red";let u=f[0],h=f[1],x=f[2],v=f[3];if(["","","",""].includes(f[0])){const j=f[0];u=f[1],h=j,x=f[2],v=f[3]}let g=[];for(let j=0;j<10;j++)for(let Y=0;Y<9;Y++){const C=c[j][Y];C&&C.color===o&&this.matchPieceName(C.text,u)&&g.push({r:j,c:Y})}if(["","","",""].includes(h)){const j={};g.forEach(C=>{j[C.c]||(j[C.c]=[]),j[C.c].push(C)});let Y=-1;for(const C in j)if(j[C].length>1){j[C].sort((b,U)=>b.r-U.r);let B=null;if(d?(h===""&&(B=j[C][0]),(h===""||h==="")&&(B=j[C][j[C].length-1]),h===""&&(B=j[C][1])):(h===""&&(B=j[C][j[C].length-1]),(h===""||h==="")&&(B=j[C][0]),h===""&&(B=j[C][1])),B){g=[B],Y=parseInt(C);break}}if(Y===-1)return null}else{const j=Pu[h];if(j!==void 0){const Y=d?9-j:j-1;g=g.filter(C=>C.c===Y)}else return null}if(g.length===0)return null;g.sort((j,Y)=>d?j.r-Y.r:Y.r-j.r);const M=g[0],_=Pu[v];if(_===void 0)return null;let S=M.r,D=M.c;const X=((I=c[M.r][M.c])==null?void 0:I.text)||"",V=["","","","","","","","","",""].some(j=>this.matchPieceName(j,X));if(x==="")D=d?9-_:_-1;else{const j=x===""||x==="",Y=d?j?-1:1:j?1:-1;if(V)S=M.r+_*Y;else{D=d?9-_:_-1;const C=Math.abs(D-M.c);let B=0;this.matchPieceName("",X)?B=C===2?1:2:this.matchPieceName("",X)?B=2:B=1,S=M.r+B*Y}}return S<0||S>9||D<0||D>8?null:`${M.r*9+M.c}-${S*9+D}`},parseWXFMove(f,c,o){const d=f[0].toUpperCase(),u=parseInt(f[1]),h=f[2],x=parseInt(f[3]),g={R:"",C:"",N:"",H:"",P:"",K:"",A:"",B:"",E:"",S:""}[d];if(!g)return null;const M=h==="+"?"":h==="-"?"":"",_=["","","","","","","","","",""][u],S=h==="."?["","","","","","","","","",""][x]:x.toString();return this.parseChineseMove(`${g}${_}${M}${S}`,c,o)},matchPieceName(f,c){const o={:["","","","R","r",""],:["","","","N","n","H","h",""],:["","","","C","c"],:["","","P","p"],:["","","P","p"],:["","","B","b","E","e"],:["","","B","b","E","e"],:["","","A","a"],:["","","A","a"],:["","","","","K","k"],:["","","","","K","k"]};let d="";for(const u in o)if(o[u].includes(f)||u===f){d=u;break}return d?o[d].includes(c)||d===c:f===c},iccsToMoveStr(f){const c=f.match(/([a-i])([0-9]).*([a-i])([0-9])/i);if(!c)return"";const o=c[1].toLowerCase().charCodeAt(0)-97,d=9-parseInt(c[2]),u=c[3].toLowerCase().charCodeAt(0)-97,h=9-parseInt(c[4]);return`${d*9+o}-${h*9+u}`},parseDhtmlXQ(f){const c=j=>{const Y=new RegExp(`\\[${j}\\]([\\s\\S]*?)\\[\\/${j}\\]`,"i"),C=f.match(Y);return C?C[1].trim():""},o={Title:c("DhtmlXQ_title"),Event:c("DhtmlXQ_event"),Date:c("DhtmlXQ_date"),Red:c("DhtmlXQ_red"),Black:c("DhtmlXQ_black"),Result:c("DhtmlXQ_result")},d=/\[DhtmlXQ_movelist\]([\d\s]+)\[\/DhtmlXQ_movelist\]/.exec(f),u=d?d[1].replace(/\s/g,"").substring(0,4):null;let h=!1;u&&u.length===4&&parseInt(u[1])>4&&(h=!0);let x=c("DhtmlXQ_fen");if(!x){const j=c("DhtmlXQ_binit");x=j?this.convertBinitToFen(j,h):"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w - - 0 1"}const v={id:"root",moveStr:"",stepIndex:0,ownerId:0,children:[],comment:"",parentId:null},g=new Map;g.set(0,[v]);const M=(j,Y,C,B)=>{j=j.replace(/[^\d]/g,"").split("||")[0];let b=Y,U=C;for(let ee=0;ee<j.length;ee+=4){U++;const W=j.substring(ee,ee+4);if(W.length<4)break;const te={id:Math.random().toString(36).substring(2,9),moveStr:W,stepIndex:U,ownerId:B,children:[],comment:"",parentId:b.id};b.children.push(te),b=te,g.has(U)||g.set(U,[]),g.get(U).push(te)}};d&&M(d[1],v,0,0);const _=/\[DhtmlXQ_move_(\d+)_(\d+)_(\d+)\]([\s\S]*?)\[\/DhtmlXQ_move_\1_\2_\3\]/g;let S;for(;(S=_.exec(f))!==null;){const j=parseInt(S[1]),Y=parseInt(S[2]),C=parseInt(S[3]),B=Y-1,b=S[4],U=g.get(B);if(U&&U.length>0){let ee=U.find(W=>W.ownerId===j);ee||(ee=U[U.length-1]),ee&&M(b,ee,B,C)}}const D=/\[DhtmlXQ_comment(\d+)(?:_(\d+))?\]([\s\S]*?)\[\/DhtmlXQ_comment\1(?:_\2)?\]/g;for(;(S=D.exec(f))!==null;){const j=parseInt(S[2]||S[1]),Y=S[2]?parseInt(S[1]):0,C=g.get(j);if(C){let B=C.find(b=>b.ownerId===Y);B||(B=C[0]),B&&(B.comment=S[3].trim())}}const{board:X,turn:V}=ir(x),I=(j,Y,C)=>{let B=null,b=Y,U=C,ee=Mr(b,U);if(j.moveStr){const te=parseInt(j.moveStr[0]),me=parseInt(j.moveStr[1]),he=parseInt(j.moveStr[2]),ge=parseInt(j.moveStr[3]),Ee={r:me,c:te},Ie={r:ge,c:he},H=Y[me][te],Me=Y[ge][he];if(H){const Le=Tr(Y,{from:Ee,to:Ie,piece:H});B={from:Ee,to:Ie,piece:H,captured:Me,notation:Le},b=Y.map(_e=>[..._e]),b[ge][he]=H,b[me][te]=null,U=C==="red"?"black":"red",ee=Mr(b,U)}}const W={id:j.id,parentId:j.parentId,move:B,boardState:b,children:[],comment:j.comment,turn:U,fen:ee,stepIndex:j.stepIndex,ownerId:j.ownerId};return j.children.length>0&&(W.children=j.children.map(te=>I(te,b,U)),W.selectedChildId=W.children[0].id),W};return{fen:x,moves:[],header:o,root:I(v,X,V)}},convertBinitToFen(f,c){if(!f||f.length!==64)return"";const o=new Array(90).fill(null),d="RNBAKABNRCCPPPPP".split(""),u="rnbakabnrccppppp".split(""),h=c?d:u,x=c?u:d;for(let g=0;g<32;g++){const M=parseInt(f[g*2]),S=parseInt(f[g*2+1])*9+M;g<16?o[S]=h[g]:o[S]=x[g-16]}let v="";for(let g=0;g<10;g++){let M=0;for(let _=0;_<9;_++){const S=o[g*9+_];S?(M>0&&(v+=M,M=0),v+=S):M++}M>0&&(v+=M),g<9&&(v+="/")}return v+" w - - 0 1"}},W0=({isOpen:f,onClose:c,onImport:o})=>{const[d,u]=R.useState(!1),[h,x]=R.useState(""),[v,g]=R.useState(null),M=R.useRef(null);if(!f)return null;const _=I=>{I.preventDefault(),I.stopPropagation(),I.type==="dragenter"||I.type==="dragover"?u(!0):I.type==="dragleave"&&u(!1)},S=I=>{const j=new FileReader;j.onload=Y=>{var B;const C=(B=Y.target)==null?void 0:B.result;if(C)try{const b=_u.parseInput(C);if(b.moves.length===0&&!b.fen)throw new Error("");o(b),c()}catch{g("")}},j.readAsText(I)},D=I=>{I.preventDefault(),I.stopPropagation(),u(!1),I.dataTransfer.files&&I.dataTransfer.files[0]&&S(I.dataTransfer.files[0])},X=I=>{I.target.files&&I.target.files[0]&&S(I.target.files[0])},V=()=>{if(h.trim())try{const I=_u.parseInput(h);if(I.moves.length===0&&!I.fen)throw new Error("");o(I),c()}catch{g("")}};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-lg mx-4 flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-bold text-white",children:""}),l.jsx("button",{onClick:c,className:"text-zinc-500 hover:text-white",children:l.jsx(cn,{size:20})})]}),l.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-2",children:"PGN (/ICCS/WXF),  DhtmlXQ ()"}),l.jsxs("div",{className:`
                            relative h-40 rounded-xl border-2 border-dashed flex flex-col items-center justify-center gap-3 transition-all
                            ${d?"border-amber-500 bg-amber-900/10":"border-zinc-700 bg-zinc-950/50 hover:bg-zinc-900 hover:border-zinc-500"}
                        `,onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:D,children:[l.jsx(jo,{size:32,className:d?"text-amber-500":"text-zinc-500"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium text-zinc-300",children:""}),l.jsx("button",{onClick:()=>{var I;return(I=M.current)==null?void 0:I.click()},className:"mt-2 px-4 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold rounded shadow-lg transition-colors",children:""})]}),l.jsx("p",{className:"text-[10px] text-zinc-500",children:" .pgn, .txt, .dhtmlxq "}),l.jsx("input",{ref:M,type:"file",className:"hidden",accept:".pgn,.txt,.dhtmlxq",onChange:X})]}),l.jsxs("div",{className:"relative flex items-center py-2",children:[l.jsx("div",{className:"grow border-t border-zinc-800"}),l.jsx("span",{className:"shrink-0 mx-4 text-xs text-zinc-500",children:" "}),l.jsx("div",{className:"grow border-t border-zinc-800"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("textarea",{value:h,onChange:I=>{x(I.target.value),g(null)},className:"w-full h-32 bg-zinc-950 border border-zinc-700 rounded-lg p-3 text-xs font-mono text-zinc-300 focus:border-amber-500 focus:outline-none resize-none placeholder-zinc-600",placeholder:" PGN  DhtmlXQ ..."}),v&&l.jsxs("div",{className:"text-red-400 text-xs flex items-center gap-1",children:[l.jsx(Eo,{size:12})," ",v]})]})]}),l.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900/50 flex justify-end gap-3",children:[l.jsx("button",{onClick:c,className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded font-medium text-sm",children:""}),l.jsx("button",{onClick:V,disabled:!h.trim(),className:"px-6 py-2 bg-green-600 hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded font-bold text-sm shadow-lg",children:""})]})]})})},zi=(f,c)=>{const o=["A","B","C","D","E","F","G","H","I"],d=9-f;return`${o[c]}${d}`},Iu=(f,c)=>`${c}${9-f}`,Ni={generateDhtmlXQ(f,c){let o=`[DhtmlXQ]
`;if(o+=`[DhtmlXQ_ver]www_dpxq_com[/DhtmlXQ_ver]
`,o+=`[DhtmlXQ_init]500,350[/DhtmlXQ_init]
`,o+=`[DhtmlXQ_pver]1300700002[/DhtmlXQ_pver]
`,c.title&&(o+=`[DhtmlXQ_title]${c.title}[/DhtmlXQ_title]
`),c.event&&(o+=`[DhtmlXQ_event]${c.event}[/DhtmlXQ_event]
`),c.date&&(o+=`[DhtmlXQ_date]${c.date}[/DhtmlXQ_date]
`),c.redName&&(o+=`[DhtmlXQ_red]${c.redName}[/DhtmlXQ_red]
`),c.blackName&&(o+=`[DhtmlXQ_black]${c.blackName}[/DhtmlXQ_black]
`),c.result!=="unknown"&&(o+=`[DhtmlXQ_result]${{red:"",black:"",draw:""}[c.result]||""}[/DhtmlXQ_result]
`),f.boardState){const M=this.generateBinit(f.boardState);o+=`[DhtmlXQ_binit]${M}[/DhtmlXQ_binit]
`}f.fen&&(o+=`[DhtmlXQ_fen]${f.fen}[/DhtmlXQ_fen]
`);const d=f.turn==="black"?1:0;o+=`[DhtmlXQ_firstnum]${d}[/DhtmlXQ_firstnum]
`;const u=[],h=[];let x=0;f.comment&&h.push(`[DhtmlXQ_comment0]${f.comment.replace(/\n/g,"||")}[/DhtmlXQ_comment0]`);const v=[],g=(M,_,S,D)=>{let X="",V=M,I=0;for(;V;){if(V.move){const j=V.move.from,Y=V.move.to;X+=`${Iu(j.r,j.c)}${Iu(Y.r,Y.c)}`}if(V.comment){const j=S+I,Y=D===0?`[DhtmlXQ_comment${j}]`:`[DhtmlXQ_comment${D}_${j}]`;h.push(`${Y}${V.comment.replace(/\n/g,"||")}${Y.replace("[","[/")}`)}if(V.children.length>1)for(let j=1;j<V.children.length;j++){const Y=V.children[j];x++,v.push({node:Y,parentIdx:D,parentSteps:S+I+1,branchIdx:x})}V=V.children&&V.children.length>0?V.children[0]:null,V&&I++}D===0?u.push(`[DhtmlXQ_movelist]${X}[/DhtmlXQ_movelist]`):u.push(`[DhtmlXQ_move_${_}_${S}_${D}]${X}[/DhtmlXQ_move_${_}_${S}_${D}]`)};if(f.children&&f.children.length>0){g(f.children[0],0,1,0);for(let M=1;M<f.children.length;M++)x++,v.push({node:f.children[M],parentIdx:0,parentSteps:1,branchIdx:x})}else u.push("[DhtmlXQ_movelist][/DhtmlXQ_movelist]");for(;v.length>0;){const M=v.shift();g(M.node,M.parentIdx,M.parentSteps,M.branchIdx)}return o+=u.join(`
`)+`
`,o+=h.join(`
`)+`
`,o+=`[DhtmlXQ_generator]AI_Studio_CloudNote[/DhtmlXQ_generator]
`,o+="[/DhtmlXQ]",o},generateBinit(f){const c=Array(32).fill("99"),o=(u,h)=>{const x=[];for(let v=0;v<10;v++)for(let g=0;g<9;g++){const M=f[v][g];M&&M.color===u&&M.type===h&&x.push({r:v,c:g})}return x.sort((v,g)=>v.r-g.r||v.c-g.c)},d=(u,h)=>{const x=(v,g)=>{const M=o(u,v);g.forEach((_,S)=>{M[S]&&(c[h+_]=`${M[S].c}${9-M[S].r}`)})};x("chariot",[0,8]),x("horse",[1,7]),x("elephant",[2,6]),x("advisor",[3,5]),x("king",[4]),x("cannon",[9,10]),x("soldier",[11,12,13,14,15])};return d("black",0),d("red",16),c.join("")},generatePGN(f,c){var M;let o="";c.result==="red"?o="":c.result==="black"?o="":c.result==="draw"&&(o="");const d=`${c.redName||""} ${o} ${c.blackName||""}`;let u="";u+=`[Game "Chinese Chess"]
`,u+=`[Title "${c.title||d}"]
`,u+=`[Event "${c.event||""}"]
`,u+=`[Red "${c.redName||"Unknown"}"]
`,u+=`[RedTeam ""]
`,u+=`[Black "${c.blackName||"Unknown"}"]
`,u+=`[BlackName ""]
`,u+=`[Opening "${c.title||""}"]
`,u+=`[Date "${((M=c.date)==null?void 0:M.replace(/-/g,"."))||""}"]
`,u+=`[Site ""]
`,u+=`[Round ""]
`,u+=`[Format "ICCS"]
`;let h="*";c.result==="red"?h="1-0":c.result==="black"?h="0-1":c.result==="draw"&&(h="1/2-1/2"),u+=`[Result "${h}"]
`,f.fen&&f.fen.split(" ")[0]!=="rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w - - 0 1".split(" ")[0]&&(u+=`[FEN "${f.fen}"]
`),u+=`
`;const v=[];let g=f;if(f.children.length>0)for(g=f.selectedChildId?f.children.find(_=>_.id===f.selectedChildId):f.children[0];g;)g.move&&v.push(this.getPgnMoveString(g)),g.children.length>0?g=g.selectedChildId?g.children.find(_=>_.id===g.selectedChildId):g.children[0]:g=null;for(let _=0;_<v.length;_+=2){const S=Math.floor(_/2)+1,D=v[_],X=v[_+1]||"";u+=`${S}. ${D} ${X}`,_+2>=v.length?u+=` ${h}
`:u+=`
`}return v.length===0&&(u+=h+`
`),u},getPgnMoveString(f){if(!f.move)return"00-00";const{from:c,to:o}=f.move;return`${zi(c.r,c.c)}-${zi(o.r,o.c)}`},generateText(f,c){let o="";c.title&&(o+=`${c.title}
`),c.redName&&(o+=`${c.redName}
`),c.blackName&&(o+=`${c.blackName}
`),c.result!=="unknown"&&(o+=`${c.result==="red"?"":c.result==="black"?"":""}
`),o+=`
`;let d=f;const u=[];for(;d.children.length>0;){const h=d.selectedChildId?d.children.find(x=>x.id===d.selectedChildId):d.children[0];if(!h||!h.move)break;u.push(h.move.notation),d=h}for(let h=0;h<u.length;h+=2){const x=u[h],v=u[h+1]||"";o+=`${Math.floor(h/2)+1}. ${x}  ${v}
`}return o},generateFenMove(f){let o=`${f.fen} moves`,d=f;for(;d.children.length>0;){const u=d.selectedChildId?d.children.find(g=>g.id===d.selectedChildId):d.children[0];if(!u||!u.move)break;const h=u.move.from,x=u.move.to,v=`${zi(h.r,h.c).toLowerCase()}${zi(x.r,x.c).toLowerCase()}`;o+=` ${v}`,d=u}return o}},X0=({isOpen:f,onClose:c,rootNode:o,metadata:d})=>{const[u,h]=R.useState("DhtmlXQ"),[x,v]=R.useState(""),[g,M]=R.useState(!1);if(R.useEffect(()=>{if(!f)return;let D="";try{switch(u){case"DhtmlXQ":D=Ni.generateDhtmlXQ(o,d);break;case"Text":D=Ni.generateText(o,d);break;case"FenMove":D=Ni.generateFenMove(o);break;case"PGN":D=Ni.generatePGN(o,d);break}}catch(X){console.error("Export generation failed:",X),D="Error generating export."}v(D),M(!1)},[f,u,o,d]),!f)return null;const _=D=>{navigator.clipboard.writeText(D),M(!0),setTimeout(()=>M(!1),2e3)},S=()=>{const D=new Blob([x],{type:"text/plain"}),X=URL.createObjectURL(D),V=document.createElement("a");V.href=X;const I=(d.title||"chess_game").replace(/\s+/g,"_");V.download=`${I}.pgn`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(X)};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-xl mx-4 flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-900",children:[l.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[l.jsx(G0,{className:"text-blue-500"})," "]}),l.jsx("button",{onClick:c,className:"text-zinc-500 hover:text-white",children:l.jsx(cn,{size:20})})]}),l.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400",children:" FEN"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,value:o.fen,className:"flex-1 bg-zinc-950 border border-zinc-700 rounded px-3 py-2 text-xs font-mono text-zinc-300 focus:outline-none"}),l.jsx("button",{onClick:()=>_(o.fen),className:"px-3 bg-blue-600 hover:bg-blue-500 text-white rounded flex items-center justify-center",children:l.jsx(Ei,{size:16})})]})]}),l.jsx("div",{className:"border-t border-zinc-800 my-2"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400",children:""}),l.jsx("div",{className:"relative",children:l.jsxs("select",{value:u,onChange:D=>h(D.target.value),className:"bg-zinc-800 border border-zinc-700 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-40 p-2 appearance-none cursor-pointer",children:[l.jsx("option",{value:"DhtmlXQ",children:"UBB"}),l.jsx("option",{value:"Text",children:"TXT"}),l.jsx("option",{value:"FenMove",children:"Fen&Move"}),l.jsx("option",{value:"PGN",children:"PGN"})]})})]}),l.jsxs("div",{className:"relative group",children:[l.jsx("textarea",{readOnly:!0,value:x,className:"w-full h-48 bg-zinc-950 border border-zinc-700 rounded-lg p-3 text-xs font-mono text-zinc-300 focus:outline-none resize-none custom-scrollbar"}),l.jsx("button",{onClick:()=>_(x),className:"absolute top-2 right-2 p-2 bg-zinc-800 hover:bg-blue-600 text-zinc-400 hover:text-white rounded border border-zinc-700 transition-colors shadow-lg",title:"",children:g?l.jsx(Pr,{size:16}):l.jsx(Ei,{size:16})})]}),u==="PGN"&&l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:S,className:"w-full py-3 bg-green-600 hover:bg-green-500 text-white font-bold rounded-lg shadow-lg flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Pi,{size:18}),"  PGN "]})})]})]})})},G0=({className:f})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:f,children:[l.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),l.jsx("path",{d:"M12 12v9"}),l.jsx("path",{d:"m16 16-4-4-4 4"})]}),q0=`// gif.worker.js 0.2.0 - https://github.com/jnordberg/gif.js
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var NeuQuant=require("./TypedNeuQuant.js");var LZWEncoder=require("./LZWEncoder.js");function ByteArray(){this.page=-1;this.pages=[];this.newPage()}ByteArray.pageSize=4096;ByteArray.charMap={};for(var i=0;i<256;i++)ByteArray.charMap[i]=String.fromCharCode(i);ByteArray.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(ByteArray.pageSize);this.cursor=0};ByteArray.prototype.getData=function(){var rv="";for(var p=0;p<this.pages.length;p++){for(var i=0;i<ByteArray.pageSize;i++){rv+=ByteArray.charMap[this.pages[p][i]]}}return rv};ByteArray.prototype.writeByte=function(val){if(this.cursor>=ByteArray.pageSize)this.newPage();this.pages[this.page][this.cursor++]=val};ByteArray.prototype.writeUTFBytes=function(string){for(var l=string.length,i=0;i<l;i++)this.writeByte(string.charCodeAt(i))};ByteArray.prototype.writeBytes=function(array,offset,length){for(var l=length||array.length,i=offset||0;i<l;i++)this.writeByte(array[i])};function GIFEncoder(width,height){this.width=~~width;this.height=~~height;this.transparent=null;this.transIndex=0;this.repeat=-1;this.delay=0;this.image=null;this.pixels=null;this.indexedPixels=null;this.colorDepth=null;this.colorTab=null;this.neuQuant=null;this.usedEntry=new Array;this.palSize=7;this.dispose=-1;this.firstFrame=true;this.sample=10;this.dither=false;this.globalPalette=false;this.out=new ByteArray}GIFEncoder.prototype.setDelay=function(milliseconds){this.delay=Math.round(milliseconds/10)};GIFEncoder.prototype.setFrameRate=function(fps){this.delay=Math.round(100/fps)};GIFEncoder.prototype.setDispose=function(disposalCode){if(disposalCode>=0)this.dispose=disposalCode};GIFEncoder.prototype.setRepeat=function(repeat){this.repeat=repeat};GIFEncoder.prototype.setTransparent=function(color){this.transparent=color};GIFEncoder.prototype.addFrame=function(imageData){this.image=imageData;this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null;this.getImagePixels();this.analyzePixels();if(this.globalPalette===true)this.globalPalette=this.colorTab;if(this.firstFrame){this.writeLSD();this.writePalette();if(this.repeat>=0){this.writeNetscapeExt()}}this.writeGraphicCtrlExt();this.writeImageDesc();if(!this.firstFrame&&!this.globalPalette)this.writePalette();this.writePixels();this.firstFrame=false};GIFEncoder.prototype.finish=function(){this.out.writeByte(59)};GIFEncoder.prototype.setQuality=function(quality){if(quality<1)quality=1;this.sample=quality};GIFEncoder.prototype.setDither=function(dither){if(dither===true)dither="FloydSteinberg";this.dither=dither};GIFEncoder.prototype.setGlobalPalette=function(palette){this.globalPalette=palette};GIFEncoder.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette};GIFEncoder.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")};GIFEncoder.prototype.analyzePixels=function(){if(!this.colorTab){this.neuQuant=new NeuQuant(this.pixels,this.sample);this.neuQuant.buildColormap();this.colorTab=this.neuQuant.getColormap()}if(this.dither){this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null)}else{this.indexPixels()}this.pixels=null;this.colorDepth=8;this.palSize=7;if(this.transparent!==null){this.transIndex=this.findClosest(this.transparent,true)}};GIFEncoder.prototype.indexPixels=function(imgq){var nPix=this.pixels.length/3;this.indexedPixels=new Uint8Array(nPix);var k=0;for(var j=0;j<nPix;j++){var index=this.findClosestRGB(this.pixels[k++]&255,this.pixels[k++]&255,this.pixels[k++]&255);this.usedEntry[index]=true;this.indexedPixels[j]=index}};GIFEncoder.prototype.ditherPixels=function(kernel,serpentine){var kernels={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!kernel||!kernels[kernel]){throw"Unknown dithering kernel: "+kernel}var ds=kernels[kernel];var index=0,height=this.height,width=this.width,data=this.pixels;var direction=serpentine?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var y=0;y<height;y++){if(serpentine)direction=direction*-1;for(var x=direction==1?0:width-1,xend=direction==1?width:0;x!==xend;x+=direction){index=y*width+x;var idx=index*3;var r1=data[idx];var g1=data[idx+1];var b1=data[idx+2];idx=this.findClosestRGB(r1,g1,b1);this.usedEntry[idx]=true;this.indexedPixels[index]=idx;idx*=3;var r2=this.colorTab[idx];var g2=this.colorTab[idx+1];var b2=this.colorTab[idx+2];var er=r1-r2;var eg=g1-g2;var eb=b1-b2;for(var i=direction==1?0:ds.length-1,end=direction==1?ds.length:0;i!==end;i+=direction){var x1=ds[i][1];var y1=ds[i][2];if(x1+x>=0&&x1+x<width&&y1+y>=0&&y1+y<height){var d=ds[i][0];idx=index+x1+y1*width;idx*=3;data[idx]=Math.max(0,Math.min(255,data[idx]+er*d));data[idx+1]=Math.max(0,Math.min(255,data[idx+1]+eg*d));data[idx+2]=Math.max(0,Math.min(255,data[idx+2]+eb*d))}}}}};GIFEncoder.prototype.findClosest=function(c,used){return this.findClosestRGB((c&16711680)>>16,(c&65280)>>8,c&255,used)};GIFEncoder.prototype.findClosestRGB=function(r,g,b,used){if(this.colorTab===null)return-1;if(this.neuQuant&&!used){return this.neuQuant.lookupRGB(r,g,b)}var c=b|g<<8|r<<16;var minpos=0;var dmin=256*256*256;var len=this.colorTab.length;for(var i=0,index=0;i<len;index++){var dr=r-(this.colorTab[i++]&255);var dg=g-(this.colorTab[i++]&255);var db=b-(this.colorTab[i++]&255);var d=dr*dr+dg*dg+db*db;if((!used||this.usedEntry[index])&&d<dmin){dmin=d;minpos=index}}return minpos};GIFEncoder.prototype.getImagePixels=function(){var w=this.width;var h=this.height;this.pixels=new Uint8Array(w*h*3);var data=this.image;var srcPos=0;var count=0;for(var i=0;i<h;i++){for(var j=0;j<w;j++){this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];this.pixels[count++]=data[srcPos++];srcPos++}}};GIFEncoder.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33);this.out.writeByte(249);this.out.writeByte(4);var transp,disp;if(this.transparent===null){transp=0;disp=0}else{transp=1;disp=2}if(this.dispose>=0){disp=dispose&7}disp<<=2;this.out.writeByte(0|disp|0|transp);this.writeShort(this.delay);this.out.writeByte(this.transIndex);this.out.writeByte(0)};GIFEncoder.prototype.writeImageDesc=function(){this.out.writeByte(44);this.writeShort(0);this.writeShort(0);this.writeShort(this.width);this.writeShort(this.height);if(this.firstFrame||this.globalPalette){this.out.writeByte(0)}else{this.out.writeByte(128|0|0|0|this.palSize)}};GIFEncoder.prototype.writeLSD=function(){this.writeShort(this.width);this.writeShort(this.height);this.out.writeByte(128|112|0|this.palSize);this.out.writeByte(0);this.out.writeByte(0)};GIFEncoder.prototype.writeNetscapeExt=function(){this.out.writeByte(33);this.out.writeByte(255);this.out.writeByte(11);this.out.writeUTFBytes("NETSCAPE2.0");this.out.writeByte(3);this.out.writeByte(1);this.writeShort(this.repeat);this.out.writeByte(0)};GIFEncoder.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var n=3*256-this.colorTab.length;for(var i=0;i<n;i++)this.out.writeByte(0)};GIFEncoder.prototype.writeShort=function(pValue){this.out.writeByte(pValue&255);this.out.writeByte(pValue>>8&255)};GIFEncoder.prototype.writePixels=function(){var enc=new LZWEncoder(this.width,this.height,this.indexedPixels,this.colorDepth);enc.encode(this.out)};GIFEncoder.prototype.stream=function(){return this.out};module.exports=GIFEncoder},{"./LZWEncoder.js":2,"./TypedNeuQuant.js":3}],2:[function(require,module,exports){var EOF=-1;var BITS=12;var HSIZE=5003;var masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function LZWEncoder(width,height,pixels,colorDepth){var initCodeSize=Math.max(2,colorDepth);var accum=new Uint8Array(256);var htab=new Int32Array(HSIZE);var codetab=new Int32Array(HSIZE);var cur_accum,cur_bits=0;var a_count;var free_ent=0;var maxcode;var clear_flg=false;var g_init_bits,ClearCode,EOFCode;function char_out(c,outs){accum[a_count++]=c;if(a_count>=254)flush_char(outs)}function cl_block(outs){cl_hash(HSIZE);free_ent=ClearCode+2;clear_flg=true;output(ClearCode,outs)}function cl_hash(hsize){for(var i=0;i<hsize;++i)htab[i]=-1}function compress(init_bits,outs){var fcode,c,i,ent,disp,hsize_reg,hshift;g_init_bits=init_bits;clear_flg=false;n_bits=g_init_bits;maxcode=MAXCODE(n_bits);ClearCode=1<<init_bits-1;EOFCode=ClearCode+1;free_ent=ClearCode+2;a_count=0;ent=nextPixel();hshift=0;for(fcode=HSIZE;fcode<65536;fcode*=2)++hshift;hshift=8-hshift;hsize_reg=HSIZE;cl_hash(hsize_reg);output(ClearCode,outs);outer_loop:while((c=nextPixel())!=EOF){fcode=(c<<BITS)+ent;i=c<<hshift^ent;if(htab[i]===fcode){ent=codetab[i];continue}else if(htab[i]>=0){disp=hsize_reg-i;if(i===0)disp=1;do{if((i-=disp)<0)i+=hsize_reg;if(htab[i]===fcode){ent=codetab[i];continue outer_loop}}while(htab[i]>=0)}output(ent,outs);ent=c;if(free_ent<1<<BITS){codetab[i]=free_ent++;htab[i]=fcode}else{cl_block(outs)}}output(ent,outs);output(EOFCode,outs)}function encode(outs){outs.writeByte(initCodeSize);remaining=width*height;curPixel=0;compress(initCodeSize+1,outs);outs.writeByte(0)}function flush_char(outs){if(a_count>0){outs.writeByte(a_count);outs.writeBytes(accum,0,a_count);a_count=0}}function MAXCODE(n_bits){return(1<<n_bits)-1}function nextPixel(){if(remaining===0)return EOF;--remaining;var pix=pixels[curPixel++];return pix&255}function output(code,outs){cur_accum&=masks[cur_bits];if(cur_bits>0)cur_accum|=code<<cur_bits;else cur_accum=code;cur_bits+=n_bits;while(cur_bits>=8){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}if(free_ent>maxcode||clear_flg){if(clear_flg){maxcode=MAXCODE(n_bits=g_init_bits);clear_flg=false}else{++n_bits;if(n_bits==BITS)maxcode=1<<BITS;else maxcode=MAXCODE(n_bits)}}if(code==EOFCode){while(cur_bits>0){char_out(cur_accum&255,outs);cur_accum>>=8;cur_bits-=8}flush_char(outs)}}this.encode=encode}module.exports=LZWEncoder},{}],3:[function(require,module,exports){var ncycles=100;var netsize=256;var maxnetpos=netsize-1;var netbiasshift=4;var intbiasshift=16;var intbias=1<<intbiasshift;var gammashift=10;var gamma=1<<gammashift;var betashift=10;var beta=intbias>>betashift;var betagamma=intbias<<gammashift-betashift;var initrad=netsize>>3;var radiusbiasshift=6;var radiusbias=1<<radiusbiasshift;var initradius=initrad*radiusbias;var radiusdec=30;var alphabiasshift=10;var initalpha=1<<alphabiasshift;var alphadec;var radbiasshift=8;var radbias=1<<radbiasshift;var alpharadbshift=alphabiasshift+radbiasshift;var alpharadbias=1<<alpharadbshift;var prime1=499;var prime2=491;var prime3=487;var prime4=503;var minpicturebytes=3*prime4;function NeuQuant(pixels,samplefac){var network;var netindex;var bias;var freq;var radpower;function init(){network=[];netindex=new Int32Array(256);bias=new Int32Array(netsize);freq=new Int32Array(netsize);radpower=new Int32Array(netsize>>3);var i,v;for(i=0;i<netsize;i++){v=(i<<netbiasshift+8)/netsize;network[i]=new Float64Array([v,v,v,0]);freq[i]=intbias/netsize;bias[i]=0}}function unbiasnet(){for(var i=0;i<netsize;i++){network[i][0]>>=netbiasshift;network[i][1]>>=netbiasshift;network[i][2]>>=netbiasshift;network[i][3]=i}}function altersingle(alpha,i,b,g,r){network[i][0]-=alpha*(network[i][0]-b)/initalpha;network[i][1]-=alpha*(network[i][1]-g)/initalpha;network[i][2]-=alpha*(network[i][2]-r)/initalpha}function alterneigh(radius,i,b,g,r){var lo=Math.abs(i-radius);var hi=Math.min(i+radius,netsize);var j=i+1;var k=i-1;var m=1;var p,a;while(j<hi||k>lo){a=radpower[m++];if(j<hi){p=network[j++];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}if(k>lo){p=network[k--];p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias}}}function contest(b,g,r){var bestd=~(1<<31);var bestbiasd=bestd;var bestpos=-1;var bestbiaspos=bestpos;var i,n,dist,biasdist,betafreq;for(i=0;i<netsize;i++){n=network[i];dist=Math.abs(n[0]-b)+Math.abs(n[1]-g)+Math.abs(n[2]-r);if(dist<bestd){bestd=dist;bestpos=i}biasdist=dist-(bias[i]>>intbiasshift-netbiasshift);if(biasdist<bestbiasd){bestbiasd=biasdist;bestbiaspos=i}betafreq=freq[i]>>betashift;freq[i]-=betafreq;bias[i]+=betafreq<<gammashift}freq[bestpos]+=beta;bias[bestpos]-=betagamma;return bestbiaspos}function inxbuild(){var i,j,p,q,smallpos,smallval,previouscol=0,startpos=0;for(i=0;i<netsize;i++){p=network[i];smallpos=i;smallval=p[1];for(j=i+1;j<netsize;j++){q=network[j];if(q[1]<smallval){smallpos=j;smallval=q[1]}}q=network[smallpos];if(i!=smallpos){j=q[0];q[0]=p[0];p[0]=j;j=q[1];q[1]=p[1];p[1]=j;j=q[2];q[2]=p[2];p[2]=j;j=q[3];q[3]=p[3];p[3]=j}if(smallval!=previouscol){netindex[previouscol]=startpos+i>>1;for(j=previouscol+1;j<smallval;j++)netindex[j]=i;previouscol=smallval;startpos=i}}netindex[previouscol]=startpos+maxnetpos>>1;for(j=previouscol+1;j<256;j++)netindex[j]=maxnetpos}function inxsearch(b,g,r){var a,p,dist;var bestd=1e3;var best=-1;var i=netindex[g];var j=i-1;while(i<netsize||j>=0){if(i<netsize){p=network[i];dist=p[1]-g;if(dist>=bestd)i=netsize;else{i++;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}if(j>=0){p=network[j];dist=g-p[1];if(dist>=bestd)j=-1;else{j--;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3]}}}}}return best}function learn(){var i;var lengthcount=pixels.length;var alphadec=30+(samplefac-1)/3;var samplepixels=lengthcount/(3*samplefac);var delta=~~(samplepixels/ncycles);var alpha=initalpha;var radius=initradius;var rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(i=0;i<rad;i++)radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));var step;if(lengthcount<minpicturebytes){samplefac=1;step=3}else if(lengthcount%prime1!==0){step=3*prime1}else if(lengthcount%prime2!==0){step=3*prime2}else if(lengthcount%prime3!==0){step=3*prime3}else{step=3*prime4}var b,g,r,j;var pix=0;i=0;while(i<samplepixels){b=(pixels[pix]&255)<<netbiasshift;g=(pixels[pix+1]&255)<<netbiasshift;r=(pixels[pix+2]&255)<<netbiasshift;j=contest(b,g,r);altersingle(alpha,j,b,g,r);if(rad!==0)alterneigh(rad,j,b,g,r);pix+=step;if(pix>=lengthcount)pix-=lengthcount;i++;if(delta===0)delta=1;if(i%delta===0){alpha-=alpha/alphadec;radius-=radius/radiusdec;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(j=0;j<rad;j++)radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad))}}}function buildColormap(){init();learn();unbiasnet();inxbuild()}this.buildColormap=buildColormap;function getColormap(){var map=[];var index=[];for(var i=0;i<netsize;i++)index[network[i][3]]=i;var k=0;for(var l=0;l<netsize;l++){var j=index[l];map[k++]=network[j][0];map[k++]=network[j][1];map[k++]=network[j][2]}return map}this.getColormap=getColormap;this.lookupRGB=inxsearch}module.exports=NeuQuant},{}],4:[function(require,module,exports){var GIFEncoder,renderFrame;GIFEncoder=require("./GIFEncoder.js");renderFrame=function(frame){var encoder,page,stream,transfer;encoder=new GIFEncoder(frame.width,frame.height);if(frame.index===0){encoder.writeHeader()}else{encoder.firstFrame=false}encoder.setTransparent(frame.transparent);encoder.setRepeat(frame.repeat);encoder.setDelay(frame.delay);encoder.setQuality(frame.quality);encoder.setDither(frame.dither);encoder.setGlobalPalette(frame.globalPalette);encoder.addFrame(frame.data);if(frame.last){encoder.finish()}if(frame.globalPalette===true){frame.globalPalette=encoder.getGlobalPalette()}stream=encoder.stream();frame.data=stream.pages;frame.cursor=stream.cursor;frame.pageSize=stream.constructor.pageSize;if(frame.canTransfer){transfer=function(){var i,len,ref,results;ref=frame.data;results=[];for(i=0,len=ref.length;i<len;i++){page=ref[i];results.push(page.buffer)}return results}();return self.postMessage(frame,transfer)}else{return self.postMessage(frame)}};self.onmessage=function(event){return renderFrame(event.data)}},{"./GIFEncoder.js":1}]},{},[4]);
//# sourceMappingURL=gif.worker.js.map
`,K0=async(f,c,o,d,u)=>{if(!window.GIF)throw new Error("GIF Library not loaded. Please refresh the page.");const h=40,x=d.width,v=Math.floor((x-h*2)/8),g=Math.floor((v*8+h*2)/8)*8,M=v*9+h*2,_=24,S=Math.floor(v*.9),D=o.title?1:0,X=o.redName||o.blackName?1:0;let V=0;D+X>0&&(V=_+D*Math.floor(S*1.3)+X*S+_);const I=Math.ceil((V+M)/8)*8,j=new Blob([q0],{type:"application/javascript"}),Y=URL.createObjectURL(j),C=new window.GIF({workers:2,quality:10,workerScript:Y,width:g,height:I,transparent:null}),B=document.createElement("canvas");B.width=g,B.height=I;const b=B.getContext("2d",{willReadFrequently:!0});if(!b)throw new Error("Could not create canvas");const U=me=>{b.save(),b.fillStyle="#18181b",b.fillRect(0,0,g,V);const he=V,ge=b.createLinearGradient(0,he,0,I);ge.addColorStop(0,"#cbbfa0"),ge.addColorStop(1,"#bba98b"),b.fillStyle=ge,b.fillRect(0,he,g,M);let Ee=_;b.textAlign="center",b.textBaseline="top";const H=`bold ${Math.floor(v*.55)}px "KaiTi", "STKaiti", "Microsoft JhengHei", sans-serif`;if(o.title&&(b.font=`bold ${Math.floor(v*.65)}px "KaiTi", "STKaiti", "Microsoft JhengHei", sans-serif`,b.fillStyle="#fbbf24",b.fillText(o.title,g/2,Ee),Ee+=Math.floor(S*1.3)),X>0){b.font=H;const L=g/2,O=Math.floor(v*.8),P=o.redName||"",p=o.blackName||"",z=o.result;P&&(b.textAlign="right",b.fillStyle="#f87171",b.fillText(P,L-O/2,Ee));let F="",oe="#71717a",ce="";if(z==="red"?P&&(F="",oe="#ef4444"):z==="black"?P?(F="",oe="#22c55e"):p&&(ce=" "):z==="draw"?(P||p)&&(!P&&p?ce=" ":(F="",oe="#3b82f6")):P&&p&&(F="VS"),F&&(b.textAlign="center",b.fillStyle=oe,b.fillText(F,L,Ee)),p){b.textAlign="left",b.fillStyle="#a1a1aa";const ue=p+ce;b.fillText(ue,L+O/2,Ee)}}b.translate(h,he+h),b.strokeStyle="#3d2b1f",b.lineWidth=1.6;for(let L=0;L<10;L++)b.beginPath(),b.moveTo(0,Math.floor(L*v)),b.lineTo(Math.floor(8*v),Math.floor(L*v)),b.stroke();for(let L=0;L<9;L++){const O=Math.floor(L*v);L===0||L===8?(b.beginPath(),b.moveTo(O,0),b.lineTo(O,Math.floor(9*v)),b.stroke()):(b.beginPath(),b.moveTo(O,0),b.lineTo(O,Math.floor(4*v)),b.stroke(),b.beginPath(),b.moveTo(O,Math.floor(5*v)),b.lineTo(O,Math.floor(9*v)),b.stroke())}const Me=L=>{const O=Math.floor(L*v),P=Math.floor((L+2)*v),p=Math.floor(3*v),z=Math.floor(5*v);b.beginPath(),b.moveTo(p,O),b.lineTo(z,P),b.stroke(),b.beginPath(),b.moveTo(z,O),b.lineTo(p,P),b.stroke()};Me(0),Me(7);const Le=(L,O,P,p)=>{const z=Math.floor(v*.18),F=Math.floor(v*.08);b.lineWidth=1.2,P||(b.beginPath(),b.moveTo(L-F-z,O-F),b.lineTo(L-F,O-F),b.lineTo(L-F,O-F-z),b.stroke(),b.beginPath(),b.moveTo(L-F-z,O+F),b.lineTo(L-F,O+F),b.lineTo(L-F,O+F+z),b.stroke()),p||(b.beginPath(),b.moveTo(L+F+z,O-F),b.lineTo(L+F,O-F),b.lineTo(L+F,O-F-z),b.stroke(),b.beginPath(),b.moveTo(L+F+z,O+F),b.lineTo(L+F,O+F),b.lineTo(L+F,O+F+z),b.stroke())};[[1,2],[7,2],[1,7],[7,7]].forEach(([L,O])=>{Le(Math.floor(L*v),Math.floor(O*v),L===0,L===8)}),[[0,3],[2,3],[4,3],[6,3],[8,3],[0,6],[2,6],[4,6],[6,6],[8,6]].forEach(([L,O])=>{Le(Math.floor(L*v),Math.floor(O*v),L===0,L===8)}),b.font=`bold ${Math.floor(v*.55)}px "KaiTi", serif`,b.fillStyle="#3d2b1f",b.textAlign="center",b.textBaseline="middle";const _e=Math.floor(4.5*v);b.fillText(" ",Math.floor(2*v),_e),b.fillText(" ",Math.floor(6*v),_e);for(let L=0;L<10;L++)for(let O=0;O<9;O++){const P=me[L][O];if(P){const p=Math.floor(O*v),z=Math.floor(L*v),F=Math.floor(v*.45);if(b.save(),b.shadowColor="rgba(0,0,0,0.3)",b.shadowBlur=4,b.shadowOffsetY=2,b.beginPath(),b.arc(p,z,F,0,Math.PI*2),P.color==="red")b.fillStyle="#fdfdfd",b.strokeStyle="#a61c1c";else{const ce=b.createRadialGradient(p-3,z-3,2,p,z,F);ce.addColorStop(0,"#2563eb"),ce.addColorStop(1,"#1e3a8a"),b.fillStyle=ce,b.strokeStyle="#000000"}b.fill(),b.shadowColor="transparent",b.lineWidth=2.5,b.stroke(),P.color==="red"?(b.beginPath(),b.arc(p,z,F-4,0,Math.PI*2),b.lineWidth=1,b.strokeStyle="#e5e5e5",b.stroke(),b.fillStyle="#a61c1c"):b.fillStyle="#ffffff";const oe=Math.floor(v*.65);b.font=`bold ${oe}px "KaiTi", serif`,b.textBaseline="middle",b.fillText(P.text,p,z+Math.floor(v*.05)),b.restore()}}b.restore()},ee=Math.max(0,d.startRound),W=Math.min(c.length-1,d.endRound),te=W-ee+1;for(let me=ee;me<=W;me++){const he=c[me],ge=Math.round((me-ee)/te*90);u(ge,` ${me} ...`),b.fillStyle="#18181b",b.fillRect(0,0,g,I),U(he.boardState);const Ee=me===W?3e3:d.interval*1e3;C.addFrame(B,{copy:!0,delay:Ee}),await new Promise(Ie=>setTimeout(Ie,0))}return u(95," ()..."),new Promise((me,he)=>{C.on("finished",ge=>{URL.revokeObjectURL(Y),u(100,""),me(ge)}),C.on("abort",()=>{URL.revokeObjectURL(Y),he("")}),C.render()})},Y0=({isOpen:f,onClose:c,activePath:o,rootNode:d,metadata:u})=>{const h=o.length-1,[x,v]=R.useState(0),[g,M]=R.useState(h),[_,S]=R.useState(1),[D,X]=R.useState(5),[V,I]=R.useState(480),[j,Y]=R.useState(!1),[C,B]=R.useState(0),[b,U]=R.useState(""),[ee,W]=R.useState(null);if(R.useEffect(()=>{f&&(M(o.length-1),v(0),W(null),B(0),Y(!1))},[f,o.length]),!f)return null;const te=async()=>{if(x>g){alert("");return}Y(!0),W(null);try{const ge=await K0(d,o,u,{startRound:x,endRound:g,interval:_,quality:D,width:V},(Ee,Ie)=>{B(Ee),U(Ie)});W(ge)}catch(ge){console.error(ge),U("")}finally{Y(!1)}},me=()=>{if(!ee)return;const ge=URL.createObjectURL(ee),Ee=document.createElement("a");Ee.href=ge;const Ie=(u.title||"chess_game").replace(/\s+/g,"_")+".gif";Ee.download=Ie,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(ge),c()},he=[{label:" ()",val:1},{label:"",val:5},{label:" ()",val:10}];return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-md mx-4 flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-900",children:[l.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[l.jsx(yu,{className:"text-pink-500"}),"  GIF"]}),!j&&l.jsx("button",{onClick:c,className:"text-zinc-500 hover:text-white",children:l.jsx(cn,{size:20})})]}),l.jsx("div",{className:"p-6 space-y-6",children:!ee&&!j?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-sm font-bold text-zinc-400",children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"text-pink-400",children:[x," - ",g]})]}),l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsx("input",{type:"number",min:"0",max:g,value:x,onChange:ge=>v(Math.min(parseInt(ge.target.value)||0,g)),className:"w-16 bg-zinc-950 border border-zinc-700 rounded p-1 text-center text-sm"}),l.jsx("div",{className:"flex-1 relative h-2 bg-zinc-800 rounded-full",children:l.jsx("div",{className:"absolute h-full bg-pink-600/50 rounded-full",style:{left:`${x/h*100}%`,width:`${(g-x)/h*100}%`}})}),l.jsx("input",{type:"number",min:x,max:h,value:g,onChange:ge=>M(Math.min(parseInt(ge.target.value)||0,h)),className:"w-16 bg-zinc-950 border border-zinc-700 rounded p-1 text-center text-sm"})]})]}),l.jsx("hr",{className:"border-zinc-800"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-zinc-500 flex items-center gap-1",children:[l.jsx(Ou,{size:12}),"  ()"]}),l.jsxs("select",{value:_.toString(),onChange:ge=>S(parseFloat(ge.target.value)),className:"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1.5 text-sm text-zinc-200 cursor-pointer",children:[l.jsx("option",{value:"0.5",children:"0.5  ()"}),l.jsx("option",{value:"1",children:"1.0  ()"}),l.jsx("option",{value:"1.5",children:"1.5  ()"}),l.jsx("option",{value:"2",children:"2.0  ()"}),l.jsx("option",{value:"3",children:"3.0  ()"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-zinc-500 flex items-center gap-1",children:[l.jsx(ko,{size:12})," "]}),l.jsx("select",{value:D,onChange:ge=>X(parseInt(ge.target.value)),className:"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1.5 text-sm text-zinc-200 cursor-pointer",children:he.map(ge=>l.jsx("option",{value:ge.val,children:ge.label},ge.val))})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-zinc-800/50 rounded-lg text-xs text-zinc-400 border border-zinc-800",children:[l.jsx(Pr,{size:14,className:"text-green-500"}),l.jsx("span",{children:""})]})]}):j?l.jsxs("div",{className:"py-8 flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-zinc-800 border-t-pink-500 rounded-full animate-spin"}),l.jsxs("div",{className:"space-y-1 text-center",children:[l.jsxs("div",{className:"text-lg font-bold text-white",children:[Math.round(C),"%"]}),l.jsx("div",{className:"text-sm text-zinc-500",children:b})]}),l.jsx("div",{className:"w-full h-1.5 bg-zinc-800 rounded-full overflow-hidden mt-4",children:l.jsx("div",{className:"h-full bg-pink-500 transition-all duration-300",style:{width:`${C}%`}})})]}):l.jsxs("div",{className:"py-6 flex flex-col items-center gap-4 text-center animate-in zoom-in-95",children:[l.jsx("div",{className:"w-16 h-16 bg-green-500/20 text-green-500 rounded-full flex items-center justify-center mb-2",children:l.jsx(Pr,{size:32})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"GIF "}),l.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:""})]})]})}),l.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900/50 flex justify-end gap-3",children:[!j&&!ee&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:c,className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded font-medium text-sm transition-colors",children:""}),l.jsxs("button",{onClick:te,className:"px-6 py-2 bg-pink-600 hover:bg-pink-500 text-white rounded font-bold text-sm shadow-lg shadow-pink-900/20 transition-all active:scale-95 flex items-center gap-2",children:[l.jsx(yu,{size:16})," "]})]}),ee&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>W(null),className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded font-medium text-sm transition-colors",children:""}),l.jsxs("button",{onClick:me,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded font-bold text-sm shadow-lg transition-all active:scale-95 flex items-center gap-2",children:[l.jsx(Pi,{size:16}),"  GIF"]})]})]})]})})},J0=({tabs:f,activeTabId:c,onSwitch:o,onAdd:d,onDelete:u,onRename:h,onReorder:x,onColorChange:v})=>{const[g,M]=R.useState(!1),[_,S]=R.useState(null),[D,X]=R.useState(""),V=R.useRef(null),I=R.useRef(null),j=f.find(U=>U.id===c)||f[0];R.useEffect(()=>{const U=ee=>{V.current&&!V.current.contains(ee.target)&&M(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),R.useEffect(()=>{_&&I.current&&(I.current.focus(),I.current.select())},[_]);const Y=(U,ee)=>{ee.stopPropagation(),S(U.id),X(U.title)},C=()=>{_&&D.trim()&&h(_,D.trim()),S(null)},B=U=>{switch(U){case"red":return"bg-red-500";case"blue":return"bg-blue-500";case"green":return"bg-green-500";case"yellow":return"bg-yellow-500";default:return"bg-zinc-600"}},b=U=>{const ee=["none","red","blue","green","yellow"],W=ee.indexOf(U);return ee[(W+1)%ee.length]};return l.jsxs("div",{className:"w-full bg-[#1e1e20] border-b border-zinc-800 flex flex-col shrink-0 relative z-20",ref:V,children:[l.jsxs("div",{className:"flex items-center gap-1 p-2",children:[l.jsxs("button",{onClick:()=>M(!g),className:"flex-1 flex items-center justify-between bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded-lg px-3 py-2 transition-all group",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${B(j.colorTag)}`}),l.jsx("span",{className:"font-bold text-zinc-200 text-sm truncate max-w-[140px]",children:j.title||""}),l.jsxs("span",{className:"text-[10px] text-zinc-500 px-1 border border-zinc-700 rounded",children:[f.findIndex(U=>U.id===c)+1,"/",f.length]})]}),l.jsx(Co,{size:14,className:`text-zinc-500 transition-transform ${g?"rotate-180":""}`})]}),l.jsx("button",{onClick:d,className:"p-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg shadow-lg hover:shadow-blue-500/20 transition-all active:scale-95",title:"",children:l.jsx(Bu,{size:18})})]}),g?l.jsx("div",{className:"absolute top-full left-0 w-full bg-zinc-900 border-b border-r border-zinc-800 shadow-2xl max-h-[400px] overflow-y-auto custom-scrollbar animate-in slide-in-from-top-1",children:l.jsx("div",{className:"p-1 space-y-0.5",children:f.map((U,ee)=>{const W=U.id===c;return l.jsxs("div",{onClick:()=>{o(U.id),M(!1)},className:`
                                        group flex items-center justify-between p-2 rounded-md cursor-pointer border
                                        ${W?"bg-blue-900/20 border-blue-800/50":"hover:bg-zinc-800 border-transparent hover:border-zinc-700"}
                                    `,children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:`w-1.5 h-8 rounded-full shrink-0 ${W?"bg-blue-500":"bg-zinc-700 group-hover:bg-zinc-600"}`}),_===U.id?l.jsxs("div",{className:"flex items-center gap-1 flex-1",onClick:te=>te.stopPropagation(),children:[l.jsx("input",{ref:I,value:D,onChange:te=>X(te.target.value),onKeyDown:te=>te.key==="Enter"&&C(),onBlur:C,className:"w-full bg-zinc-950 border border-blue-500 rounded px-1 py-0.5 text-sm text-white focus:outline-none"}),l.jsx("button",{onClick:C,className:"text-green-500 hover:bg-zinc-800 p-1 rounded",children:l.jsx(Pr,{size:14})})]}):l.jsxs("div",{className:"flex flex-col min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-sm font-medium truncate ${W?"text-blue-100":"text-zinc-300"}`,children:U.title}),l.jsx("div",{className:`w-2 h-2 rounded-full ${B(U.colorTag)}`})]}),l.jsxs("span",{className:"text-[10px] text-zinc-600 truncate",children:[U.metadata.redName||""," vs ",U.metadata.blackName||"","  ",new Date(U.createdAt).toLocaleDateString()]})]})]}),l.jsxs("div",{className:`flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ${W?"opacity-100":""}`,children:[l.jsx("button",{onClick:te=>{te.stopPropagation(),v(U.id,b(U.colorTag))},className:"p-1.5 hover:bg-zinc-700 text-zinc-500 hover:text-zinc-300 rounded",title:"",children:l.jsx(w0,{size:13})}),l.jsx("button",{onClick:te=>Y(U,te),className:"p-1.5 hover:bg-zinc-700 text-zinc-500 hover:text-blue-400 rounded",title:"",children:l.jsx(Au,{size:13})}),l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("button",{onClick:te=>{te.stopPropagation(),x(U.id,"up")},className:"p-0.5 hover:bg-zinc-700 text-zinc-600 hover:text-zinc-300 rounded disabled:opacity-30",disabled:ee===0,children:l.jsx(xu,{size:10})}),l.jsx("button",{onClick:te=>{te.stopPropagation(),x(U.id,"down")},className:"p-0.5 hover:bg-zinc-700 text-zinc-600 hover:text-zinc-300 rounded disabled:opacity-30",disabled:ee===f.length-1,children:l.jsx(mu,{size:10})})]}),f.length>1&&l.jsx("button",{onClick:te=>{te.stopPropagation(),u(U.id)},className:"p-1.5 hover:bg-red-900/50 text-zinc-500 hover:text-red-400 rounded ml-1",title:"",children:l.jsx(ml,{size:13})})]})]},U.id)})})}):l.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[10px] text-zinc-500",children:[l.jsx("div",{className:"flex gap-2",children:l.jsxs("span",{className:"flex items-center gap-1",children:["Alt+",l.jsx(xu,{size:10}),"/",l.jsx(mu,{size:10})," "]})}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>Y(j,{stopPropagation:()=>{}}),className:"hover:text-zinc-300",children:""}),l.jsx("span",{className:"opacity-50",children:"|"}),l.jsx("button",{onClick:()=>u(c),className:"hover:text-red-400 disabled:opacity-50",disabled:f.length<=1,children:""})]})]})]})},Z0=({isOpen:f,onClose:c,tabs:o,activeTabId:d,onSwitch:u,onAdd:h,onDelete:x})=>{if(!f)return null;const v=g=>{switch(g){case"red":return"border-red-500/50";case"blue":return"border-blue-500/50";case"green":return"border-green-500/50";case"yellow":return"border-yellow-500/50";default:return"border-zinc-700"}};return l.jsxs("div",{className:"fixed inset-0 z-[70] bg-zinc-950 flex flex-col animate-in slide-in-from-bottom-5 duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-zinc-900 border-b border-zinc-800 shrink-0",children:[l.jsxs("h3",{className:"font-bold text-lg text-zinc-200",children:[" (",o.length,")"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:h,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center gap-1 font-bold text-sm",children:[l.jsx(Bu,{size:16})," "]}),l.jsx("button",{onClick:c,className:"p-2 bg-zinc-800 rounded-lg text-zinc-400 hover:text-white",children:l.jsx(cn,{size:20})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:l.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(g=>{const M=g.id===d;return l.jsxs("div",{onClick:()=>{u(g.id),c()},className:`
                                    relative flex flex-col aspect-[4/3] rounded-xl border-2 p-3 cursor-pointer transition-all
                                    ${M?"bg-zinc-800 border-blue-500 shadow-lg shadow-blue-900/20":`bg-zinc-900 ${v(g.colorTag)} hover:bg-zinc-800`}
                                `,children:[l.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center gap-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-950 flex items-center justify-center text-lg font-bold font-serif text-zinc-600 border border-zinc-800 mb-1",children:""}),l.jsx("div",{className:"font-bold text-zinc-200 line-clamp-1 w-full px-1",children:g.title}),l.jsx("div",{className:"text-[10px] text-zinc-500",children:new Date(g.createdAt).toLocaleDateString()})]}),M&&l.jsx("div",{className:"absolute top-2 right-2 text-blue-500",children:l.jsx(l0,{size:18,fill:"currentColor",className:"text-zinc-900"})}),o.length>1&&!M&&l.jsx("button",{onClick:_=>{_.stopPropagation(),x(g.id)},className:"absolute top-2 right-2 p-1.5 text-zinc-600 hover:text-red-400 bg-zinc-950/50 rounded-full backdrop-blur-sm",children:l.jsx(ml,{size:14})}),l.jsxs("div",{className:"mt-auto pt-2 border-t border-zinc-800/50 flex justify-between items-center text-[10px] text-zinc-500 w-full",children:[l.jsx("span",{className:"truncate max-w-[45%] text-red-900/70 font-bold",children:g.metadata.redName||""}),l.jsx("span",{children:"vs"}),l.jsx("span",{className:"truncate max-w-[45%] text-zinc-600 font-bold",children:g.metadata.blackName||""})]})]},g.id)})})})]})},eh=({isOpen:f,onClose:c,onStart:o})=>{const[d,u]=R.useState("red"),[h,x]=R.useState("main"),[v,g]=R.useState("");if(!f)return null;const M=()=>{o({side:d,mode:h,randomRange:v}),c()};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in zoom-in-95 duration-200",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-sm mx-4 overflow-hidden",children:[l.jsxs("div",{className:"px-5 py-4 border-b border-zinc-800 bg-zinc-900 flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[l.jsx(Ci,{className:"text-amber-500",size:20}),""]}),l.jsx("button",{onClick:c,className:"text-zinc-500 hover:text-white",children:l.jsx(cn,{size:20})})]}),l.jsxs("div",{className:"p-5 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400",children:""}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["red","black","both"].map(_=>l.jsx("button",{onClick:()=>u(_),className:`py-2 px-1 rounded-lg text-sm font-bold border transition-all ${d===_?"bg-amber-600/20 border-amber-500 text-amber-400":"bg-zinc-950 border-zinc-700 text-zinc-400 hover:border-zinc-500"}`,children:_==="red"?"":_==="black"?"":""},_))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-bold text-zinc-400",children:""}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{onClick:()=>x("main"),className:`py-2 rounded-lg text-sm font-bold border transition-all ${h==="main"?"bg-blue-600/20 border-blue-500 text-blue-400":"bg-zinc-950 border-zinc-700 text-zinc-400 hover:border-zinc-500"}`,children:""}),l.jsx("button",{onClick:()=>x("random"),className:`py-2 rounded-lg text-sm font-bold border transition-all ${h==="random"?"bg-purple-600/20 border-purple-500 text-purple-400":"bg-zinc-950 border-zinc-700 text-zinc-400 hover:border-zinc-500"}`,children:""})]})]}),h==="random"&&l.jsxs("div",{className:"space-y-2 animate-in slide-in-from-top-2",children:[l.jsxs("label",{className:"text-sm font-bold text-zinc-400 flex justify-between",children:[" ()",l.jsx("span",{className:"text-xs font-normal text-zinc-500",children:""})]}),l.jsx("input",{type:"text",value:v,onChange:_=>g(_.target.value.toUpperCase()),placeholder:": A-C  A,B,D",className:"w-full bg-zinc-950 border border-zinc-700 rounded-lg px-3 py-2 text-zinc-200 focus:outline-none focus:border-purple-500 uppercase font-mono placeholder:normal-case"}),l.jsx("p",{className:"text-xs text-zinc-500",children:"*  A, B, C... "})]})]}),l.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900/50 flex justify-end gap-3",children:[l.jsx("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-zinc-400 hover:text-white",children:""}),l.jsxs("button",{onClick:M,className:"px-6 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg font-bold shadow-lg shadow-amber-900/20 flex items-center gap-2",children:[l.jsx(pl,{size:16,fill:"currentColor"})," "]})]})]})})},th=({isOpen:f,onClose:c,errors:o,totalSteps:d,activePath:u,startNodeId:h,endNodeId:x})=>{const[v,g]=R.useState(!1);if(!f)return null;const M=o.reduce((C,B)=>C+B.count,0),_=Math.max(0,Math.round((d-M)/Math.max(d,1)*100));let S="S",D="text-yellow-400";_<60?(S="C",D="text-zinc-500"):_<80?(S="B",D="text-blue-400"):_<100&&(S="A",D="text-green-400");const X=u.findIndex(C=>C.id===h),V=u.findIndex(C=>C.id===x),I=u.filter(C=>C.move!==null),j=()=>{var b,U;let C=`:${S} :${d} :${M}

`;o.length>0&&(C+=`
`,o.forEach(ee=>{C+=` ${ee.round} :  ${ee.count} 
`}),C+=`
`);let B=1;for(let ee=0;ee<I.length;ee+=2){const W=I[ee],te=I[ee+1],me=u.findIndex(H=>H.id===W.id),he=te?u.findIndex(H=>H.id===te.id):-1,ge=(H,Me)=>Me<X||Me>V?"":o.find(_e=>_e.nodeId===H.parentId)?"()":"()",Ee=ge(W,me),Ie=te?ge(te,he):"";C+=`${B}. ${(b=W.move)==null?void 0:b.notation}${Ee}  ${te?((U=te.move)==null?void 0:U.notation)+Ie:""}
`,B++}return C},Y=()=>{navigator.clipboard.writeText(j()),g(!0),setTimeout(()=>g(!1),2e3)};return l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in zoom-in-95 duration-300",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden flex flex-col max-h-[85vh]",children:[l.jsxs("div",{className:"px-6 py-5 border-b border-zinc-800 bg-zinc-900 text-center relative shrink-0",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:""}),l.jsxs("div",{className:"text-zinc-500 text-sm",children:[" ",d,"  ()"]})]}),l.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-1 bg-zinc-950/50",children:[l.jsxs("div",{className:"flex justify-center items-center gap-6 mb-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-5xl font-black ${D} drop-shadow-lg mb-1`,children:S}),l.jsx("div",{className:"text-xs text-zinc-500 font-bold tracking-widest uppercase",children:""})]}),l.jsx("div",{className:"w-px h-12 bg-zinc-800"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:M}),l.jsx("div",{className:"text-xs text-zinc-500 font-bold",children:""})]})]}),o.length>0&&l.jsxs("div",{className:"mb-4 bg-red-950/20 border border-red-900/30 rounded-lg p-3",children:[l.jsxs("h4",{className:"text-xs font-bold text-red-400 mb-2 flex items-center gap-1",children:[l.jsx(Eo,{size:12})," "]}),l.jsx("div",{className:"max-h-24 overflow-y-auto custom-scrollbar space-y-1",children:o.map((C,B)=>l.jsxs("div",{className:"text-xs text-red-300 flex justify-between",children:[l.jsxs("span",{children:[" ",C.round," "]}),l.jsxs("span",{children:[" ",C.count," "]})]},B))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"font-bold text-zinc-400 text-sm",children:""}),l.jsxs("div",{className:"flex gap-2 text-[10px]",children:[l.jsxs("span",{className:"flex items-center gap-1 text-zinc-500",children:[l.jsx("span",{className:"w-2 h-2 bg-zinc-500 rounded-full"}),""]}),l.jsxs("span",{className:"flex items-center gap-1 text-green-500",children:[l.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),""]}),l.jsxs("span",{className:"flex items-center gap-1 text-red-500",children:[l.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),""]})]})]}),l.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4 font-mono text-sm leading-relaxed max-h-64 overflow-y-auto custom-scrollbar",children:I.length===0?l.jsx("div",{className:"text-zinc-600 italic text-center",children:""}):l.jsx("div",{className:"grid grid-cols-[3rem_1fr_1fr] gap-y-1",children:Array.from({length:Math.ceil(I.length/2)}).map((C,B)=>{var te,me;const b=I[B*2],U=I[B*2+1],ee=B+1,W=he=>{const ge=u.findIndex(Ie=>Ie.id===he.id);return ge<X||ge>V?"text-zinc-500":o.find(Ie=>Ie.nodeId===he.parentId)?"text-red-400 font-bold":"text-green-400"};return l.jsxs(Ru.Fragment,{children:[l.jsxs("div",{className:"text-zinc-600 text-right pr-3",children:[ee,"."]}),l.jsx("div",{className:W(b),children:(te=b.move)==null?void 0:te.notation}),l.jsx("div",{className:U?W(U):"",children:(me=U==null?void 0:U.move)==null?void 0:me.notation})]},B)})})})]})]}),l.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-zinc-900 flex gap-3 shrink-0",children:[l.jsxs("button",{onClick:Y,className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded-lg font-bold transition-colors flex items-center justify-center gap-2 border border-zinc-700",children:[v?l.jsx(Pr,{size:18,className:"text-green-500"}):l.jsx(Ei,{size:18})," "]}),l.jsx("button",{onClick:c,className:"flex-1 py-3 bg-amber-600 hover:bg-amber-500 text-white rounded-lg font-bold transition-colors",children:""})]})]})})},wo=(f,c,o)=>{if(o)try{let d="move";c&&(d=f==="cannon"||f==="C"||f==="c"?"bomb":"eat");const u=new Audio(`/sounds/${d}.mp3`);u.volume=1;const h=u.play();h!==void 0&&h.catch(x=>{console.warn("Audio play failed (interaction required or file missing):",x)})}catch(d){console.error("Audio error:",d)}},Tu=f=>f.split(" ").slice(0,2).join(" "),Qu=(f,c)=>{const o="link-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),d={...f,id:o,parentId:c,children:[]};if(d.children=f.children.map(u=>Qu(u,o)),f.selectedChildId){const u=f.children.findIndex(h=>h.id===f.selectedChildId);u!==-1&&d.children[u]?d.selectedChildId=d.children[u].id:d.selectedChildId=d.children.length>0?d.children[0].id:null}return d},No=(f,c,o)=>{let d=0;for(const u of c){if(!u.move)continue;const h=f.find(x=>{var v,g;return((v=x.move)==null?void 0:v.notation)===((g=u.move)==null?void 0:g.notation)});if(h)No(h.children,u.children,h.id);else{const x=Qu(u,o);f.push(x),d++}}return d},nh=(f=!0)=>{const c=Ir(),o=Mr(c,"red"),[d,u]=R.useState({id:"root",parentId:null,move:null,boardState:c,children:[],comment:"",turn:"red",selectedChildId:null,fen:o}),[h,x]=R.useState("root"),[v,g]=R.useState({show:!1,title:"",message:"",type:"info"}),[M,_]=R.useState({show:!1,title:"",message:"",onConfirm:()=>{}}),[S,D]=R.useState({active:!1,side:"red",mode:"main",randomRange:""}),[X,V]=R.useState([]),[I,j]=R.useState(0),[Y,C]=R.useState("root"),[B,b]=R.useState(!1),U=R.useRef(null),ee=()=>g(G=>({...G,show:!1})),W=(G,Q,J)=>{_({show:!0,title:G,message:Q,onConfirm:J})},te=()=>{_(G=>({...G,show:!1}))},me=(G,Q)=>{if(Q.id===G)return Q;for(const J of Q.children){const re=me(G,J);if(re)return re}return null},he=(G,Q)=>{const J=(re,be,ze)=>{if(re.id===Q)return{node:re,parent:be,index:ze};for(let ke=0;ke<re.children.length;ke++){const De=J(re.children[ke],re,ke);if(De)return De}return null};return J(G,null,-1)},ge=(G,Q)=>{if(Q.id===G)return[Q];for(const J of Q.children){const re=ge(G,J);if(re)return[Q,...re]}return null},Ee=G=>{const Q=ge(G,d);return Q?Math.floor((Q.length-1)/2)+1:1},Ie=R.useMemo(()=>me(h,d)||d,[d,h]),H=R.useMemo(()=>{const G=ge(Ie.id,d);if(!G)return[d];const Q=[];let J=Ie,re=0;for(;J.children.length>0&&re<200;){let be=J.selectedChildId?J.children.find(ze=>ze.id===J.selectedChildId):J.children[0];be||(be=J.children[0]),Q.push(be),J=be,re++}return[...G,...Q]},[Ie,d]);R.useEffect(()=>{if(!S.active){U.current&&clearTimeout(U.current);return}const G=me(h,d);if(!G)return;if(G.children.length===0){U.current=window.setTimeout(()=>{D(J=>({...J,active:!1})),b(!0)},1e3);return}return S.side==="both"||G.turn===S.side||(U.current=window.setTimeout(()=>{const J=G.children;let re;if(S.mode==="random"){let be=J.map((ke,De)=>De);if(S.randomRange)try{const De=S.randomRange.toUpperCase().split(/[,\s]+/),Ye=[];De.forEach(nt=>{if(nt.includes("-")){const[ae,y]=nt.split("-"),ie=ae.charCodeAt(0)-65,de=y.charCodeAt(0)-65;if(!isNaN(ie)&&!isNaN(de))for(let $=Math.min(ie,de);$<=Math.max(ie,de);$++)Ye.push($)}else{const ae=nt.charCodeAt(0)-65;isNaN(ae)||Ye.push(ae)}}),Ye.length>0&&(be=be.filter(nt=>Ye.includes(nt)))}catch{}be.length===0&&(be=J.map((ke,De)=>De));const ze=be[Math.floor(Math.random()*be.length)];re=J[ze]}else re=J[0];re&&(x(re.id),re.move&&wo(re.move.piece.type,!!re.move.captured,f))},800)),()=>{U.current&&clearTimeout(U.current)}},[S,h,d,f]);const Me=(G,Q,J)=>{if(J){J.comment||(J.comment=""),u(J),x(J.id);return}const{board:re,turn:be}=ir(G),ze={id:"root-"+Date.now(),parentId:null,move:null,boardState:re,children:[],comment:"",turn:be,selectedChildId:null,fen:G};let ke=ze,De=re,Ye=be;for(const nt of Q){const[ae,y]=nt.moveStr.split("-").map(Number),ie={r:Math.floor(ae/9),c:ae%9},de={r:Math.floor(y/9),c:y%9},$=De[ie.r][ie.c];if(!$)break;const Se=De[de.r][de.c],ye=De.map(Xe=>[...Xe]);ye[de.r][de.c]=$,ye[ie.r][ie.c]=null;const qe=Ye==="red"?"black":"red",Ze=Mr(ye,qe),Fe={id:"node-"+Date.now()+Math.random().toString().slice(2,6),parentId:ke.id,move:{from:ie,to:de,piece:$,captured:Se,notation:nt.notation},boardState:ye,children:[],comment:nt.comment||"",turn:qe,selectedChildId:null,fen:Ze};ke.children.push(Fe),ke.selectedChildId=Fe.id,ke=Fe,De=ye,Ye=qe}u(ze),x(ze.id)},Le=(G,Q)=>{if(S.active){const ke=me(h,d);if(!ke||!(S.side==="both"||ke.turn===S.side))return!1;const Ye=ke.children.find(nt=>{if(!nt.move)return!1;const ae=nt.move;return ae.from.r===G.from.r&&ae.from.c===G.from.c&&ae.to.r===G.to.r&&ae.to.c===G.to.c});if(Ye)return x(Ye.id),wo(G.piece.type,!!G.captured,f),j(nt=>nt+1),!0;{const nt=Ee(ke.id);return V(ae=>{const y=ae.findIndex(ie=>ie.nodeId===ke.id);if(y>=0){const ie=[...ae];return ie[y]={...ie[y],count:ie[y].count+1},ie}else{const ie=ke.children.map(de=>{var $;return(($=de.move)==null?void 0:$.notation)||""});return[...ae,{round:nt,nodeId:ke.id,correctNotations:ie,count:1}]}}),!1}}wo(G.piece.type,!!G.captured,f);const J=JSON.parse(JSON.stringify(d)),re=he(J,h);if(!re)return!1;const be=re.node,ze=be.children.find(ke=>{var De;return((De=ke.move)==null?void 0:De.notation)===G.notation});if(ze)be.selectedChildId=ze.id,u(J),x(ze.id);else{const ke=be.turn==="red"?"black":"red",De=Mr(Q,ke),Ye={id:Date.now().toString()+Math.random().toString().slice(2,6),parentId:be.id,move:G,boardState:Q,children:[],comment:"",turn:ke,selectedChildId:null,fen:De};be.children.push(Ye),be.selectedChildId=Ye.id,u(J),x(Ye.id)}return!0},_e=R.useCallback(()=>{const G=me(h,d);if(!G||G.children.length===0)return null;const Q=G.selectedChildId?G.children.find(J=>J.id===G.selectedChildId):G.children[0];return Q!=null&&Q.move?{from:Q.move.from,to:Q.move.to}:null},[h,d]),L=G=>{if(S.active)return;const Q=JSON.parse(JSON.stringify(d)),J=(be,ze)=>{if(be.id===ze)return[be];for(const ke of be.children){const De=J(ke,ze);if(De)return[be,...De]}return null},re=J(Q,G.id);if(re)for(let be=0;be<re.length-1;be++)re[be].selectedChildId=re[be+1].id;u(Q),x(G.id)},O=(G,Q)=>{const J=JSON.parse(JSON.stringify(d)),re=he(J,G);re&&(re.node.comment=Q,u(J))},P=G=>{const Q=JSON.parse(JSON.stringify(d));let J=0;G.forEach(({id:re,text:be})=>{const ze=he(Q,re);ze&&(ze.node.comment=be,J++)}),J>0&&u(Q)},p=()=>{if(h==="root"){g({show:!0,title:"",message:"",type:"error"});return}z(h)},z=G=>{if(G==="root")return;const Q=JSON.parse(JSON.stringify(d)),J=he(Q,G);if(!J||!J.parent)return;const{parent:re,index:be}=J;re.children.splice(be,1);let ze=re.id;if(re.selectedChildId===G)if(re.children.length>0){const De=Math.min(be,re.children.length-1),Ye=re.children[De];re.selectedChildId=Ye.id}else re.selectedChildId=null;me(h,Q)||(re.selectedChildId?ze=re.selectedChildId:ze=re.id,x(ze)),u(Q),g({show:!0,title:"",message:"",type:"success"})},F=(G,Q)=>{const J=JSON.parse(JSON.stringify(d)),re=he(J,G);if(re&&re.parent){const{parent:be,index:ze}=re,ke=be.children;Q==="up"&&ze>0?([ke[ze],ke[ze-1]]=[ke[ze-1],ke[ze]],u(J)):Q==="down"&&ze<ke.length-1&&([ke[ze],ke[ze+1]]=[ke[ze+1],ke[ze]],u(J))}},oe=()=>{if(h==="root"){g({show:!0,title:"",message:"",type:"error"});return}const G=JSON.parse(JSON.stringify(d)),Q=Ie.fen,J=Tu(Q),re=[],be=De=>{Tu(De.fen)===J&&re.push(De),De.children.forEach(be)};if(be(G),re.length<2){g({show:!0,title:"",message:"",type:"info"});return}const ze=[];re.forEach(De=>{No(ze,De.children,"temp-union-parent")});let ke=0;re.forEach(De=>{const Ye=No(De.children,ze,De.id);ke+=Ye}),ke>0?(u(G),g({show:!0,title:"",message:` ${re.length} 
 ${ke} ()`,type:"success"})):g({show:!0,title:"",message:` ${re.length} `,type:"info"})},ce=R.useCallback(G=>{if(S.active)return;if(G==="start"){x(d.id);return}const Q=me(h,d);if(Q){if(G==="prev")Q.parentId&&x(Q.parentId);else if(G==="next"){if(Q.children.length>0){const J=Q.selectedChildId||Q.children[0].id;x(J)}}else if(G==="end"){let J=Q;for(;J.children.length>0;){const re=J.selectedChildId?J.children.find(be=>be.id===J.selectedChildId):J.children[0];re?J=re:J=J.children[0]}x(J.id)}}},[h,d,S.active]),ue=R.useCallback(G=>{if(S.active)return;let Q=me(h,d);if(Q)if(G==="prev"){if(Q.parentId)Q=me(Q.parentId,d);else{g({show:!0,title:"",message:"",type:"info"});return}for(;Q&&Q.parentId;){const J=me(Q.parentId,d);if(!J)break;if(J.children.length>1){x(Q.id);return}Q=J}g({show:!0,title:"",message:"",type:"info"})}else{for(;Q.children.length>0;){if(Q.children.length>1){const re=Q.selectedChildId||Q.children[0].id;x(re);return}const J=Q.selectedChildId||Q.children[0].id;Q=Q.children.find(re=>re.id===J)||Q.children[0]}g({show:!0,title:"",message:"",type:"info"})}},[h,d,S.active]),Ae=R.useCallback(G=>{if(S.active)return;const Q=me(h,d);if(!Q||!Q.parentId)return;const J=me(Q.parentId,d);if(!J||J.children.length<=1)return;const re=J.children.findIndex(ze=>ze.id===Q.id);if(re===-1)return;let be=-1;if(G==="up"?re>0&&(be=re-1):re<J.children.length-1&&(be=re+1),be!==-1){const ze=J.children[be].id,ke=JSON.parse(JSON.stringify(d)),De=he(ke,J.id);De&&(De.node.selectedChildId=ze,u(ke),x(ze))}},[h,d,S.active]),Ce=R.useCallback(G=>{if(S.active)return;const J=(re=>{let be=[re],ze=re;for(;ze.children.length>0;){let ke=ze.selectedChildId?ze.children.find(De=>De.id===ze.selectedChildId):ze.children[0];ke||(ke=ze.children[0]),be.push(ke),ze=ke}return be})(d);G>=0&&G<J.length&&x(J[G].id)},[d,S.active]);return{currentNode:Ie,rootNode:d,activePath:H,addMove:Le,importGame:Me,jumpToMove:L,updateComment:O,batchUpdateComments:P,deleteCurrentMove:p,deleteNode:z,reorderChildren:F,linkMovesByFen:oe,navigate:ce,navigateVariation:ue,cycleVariation:Ae,jumpToStep:Ce,notification:v,closeNotification:ee,confirmState:M,showConfirm:W,closeConfirm:te,setRootNode:G=>{u(G),x(G.id)},memConfig:S,memErrors:X,memTotalSteps:I,memStartNodeId:Y,getHint:_e,showReport:B,startMemorization:G=>{D({...G,active:!0}),V([]),j(0),C(h)},stopMemorization:()=>{D(G=>({...G,active:!1})),b(!0)},setShowReport:b}},rh=({onPrev:f,onNext:c,onUp:o,onDown:d,onTabNext:u,onTabPrev:h})=>{R.useEffect(()=>{const x=v=>{const g=v.target;if(!(["INPUT","TEXTAREA","SELECT"].includes(g.tagName)||g.isContentEditable)){if(v.altKey){if(v.key==="ArrowUp"){h&&(v.preventDefault(),h());return}if(v.key==="ArrowDown"){u&&(v.preventDefault(),u());return}}switch(v.key){case"ArrowLeft":f&&(v.preventDefault(),f());break;case"ArrowRight":c&&(v.preventDefault(),c());break;case"ArrowUp":o&&(v.preventDefault(),o());break;case"ArrowDown":d&&(v.preventDefault(),d());break}}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[f,c,o,d,u,h])},lh={enableSound:!0,showPlayerNames:!0,showVariationArrows:!0,showCoords:!0,animationSpeed:300,boardSize:"large"},bo={title:"",event:"",date:new Date().toISOString().split("T")[0],result:"unknown",redName:"",blackName:""},ih=()=>{const[f,c]=R.useState(lh),[o,d]=R.useState(!0),{currentNode:u,rootNode:h,activePath:x,addMove:v,importGame:g,jumpToMove:M,updateComment:_,batchUpdateComments:S,deleteCurrentMove:D,deleteNode:X,reorderChildren:V,linkMovesByFen:I,navigate:j,navigateVariation:Y,cycleVariation:C,jumpToStep:B,notification:b,closeNotification:U,confirmState:ee,showConfirm:W,closeConfirm:te,setRootNode:me,memConfig:he,memErrors:ge,memTotalSteps:Ee,memStartNodeId:Ie,getHint:H,showReport:Me,startMemorization:Le,stopMemorization:_e,setShowReport:L}=nh(f.enableSound),[O,P]=R.useState([{id:"default-1",title:" 1",rootNode:{...h,id:"root-default"},currentNodeId:"root-default",metadata:{...bo},createdAt:Date.now(),colorTag:"none"}]),[p,z]=R.useState("default-1"),[F,oe]=R.useState(bo);R.useEffect(()=>{P(A=>A.map(se=>se.id===p?{...se,rootNode:h,currentNodeId:u.id,metadata:F}:se))},[h,u.id,F]);const ce=A=>{if(A===p)return;const se=O.find(le=>le.id===A);if(se){d(!1),me(se.rootNode);const le=(st,pt)=>{if(pt.id===st)return pt;for(const Ft of pt.children){const bt=le(st,Ft);if(bt)return bt}return null},Pe=le(se.currentNodeId,se.rootNode);z(A),oe(se.metadata),me(se.rootNode),setTimeout(()=>{Pe&&M(Pe)},0)}},ue=()=>{const A=`game-${Date.now()}`,se=Ir(),le={id:`root-${A}`,parentId:null,move:null,boardState:se,children:[],comment:"",turn:"red",selectedChildId:null,fen:"rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w - - 0 1"},Pe={id:A,title:` ${O.length+1}`,rootNode:le,currentNodeId:le.id,metadata:{...bo,title:` ${O.length+1}`},createdAt:Date.now(),colorTag:"none"};P(st=>[...st,Pe]),ce(A)},Ae=A=>{if(O.length<=1)return;const se=O.filter(le=>le.id!==A);P(se),p===A&&ce(se[se.length-1].id)},Ce=(A,se)=>{P(le=>le.map(Pe=>Pe.id===A?{...Pe,title:se}:Pe)),A===p&&oe(le=>({...le,title:se}))},Qe=(A,se)=>{const le=O.findIndex(st=>st.id===A);if(le===-1)return;const Pe=[...O];se==="up"&&le>0?[Pe[le],Pe[le-1]]=[Pe[le-1],Pe[le]]:se==="down"&&le<Pe.length-1&&([Pe[le],Pe[le+1]]=[Pe[le+1],Pe[le]]),P(Pe)},We=(A,se)=>{P(le=>le.map(Pe=>Pe.id===A?{...Pe,colorTag:se}:Pe))},[it,G]=R.useState("none"),[Q,J]=R.useState(!1),[re,be]=R.useState(!1),[ze,ke]=R.useState(!1),[De,Ye]=R.useState(!1),[nt,ae]=R.useState(!1),[y,ie]=R.useState(!1),[de,$]=R.useState(!1),[Se,ye]=R.useState(!1),[qe,Ze]=R.useState(!1),[Fe,Xe]=R.useState(null),[Ue,Ge]=R.useState(null),[rt,at]=R.useState([]),[Ct,et]=R.useState(!1),[wt,Gt]=R.useState(!1);rh({onPrev:()=>{he.active||(d(!1),j("prev"))},onNext:()=>{he.active||(d(!0),j("next"))},onUp:()=>{he.active||(d(!1),C("up"))},onDown:()=>{he.active||(d(!1),C("down"))},onTabPrev:()=>{const se=(O.findIndex(le=>le.id===p)-1+O.length)%O.length;ce(O[se].id)},onTabNext:()=>{const se=(O.findIndex(le=>le.id===p)+1)%O.length;ce(O[se].id)}});const xt=A=>W("",A,D),Pt=(A,se)=>W("",se,()=>X(A)),fe=A=>{const se=u.boardState,le=se[A.from.r][A.from.c];if(!le||le.color!==u.turn)return;const Pe=se[A.to.r][A.to.c],st=Tr(se,{...A,piece:le}),pt=se.map(Ft=>[...Ft]);pt[A.to.r][A.to.c]=le,pt[A.from.r][A.from.c]=null,d(!0),v({...A,piece:le,captured:Pe,notation:st},pt)},Oe=A=>{try{const{board:se,turn:le}=ir(A);me({id:"root-"+Date.now(),parentId:null,move:null,boardState:se,children:[],comment:"",turn:le,selectedChildId:null,fen:A}),Ye(!1)}catch{alert("FEN ")}},He=()=>{const A=H();A&&(Ge(A),setTimeout(()=>Ge(null),1500))},Be=x.findIndex(A=>A.id===u.id);return l.jsxs(l.Fragment,{children:[l.jsx(B0,{header:l.jsx(L0,{title:F.title,onOpenInfo:()=>et(!0),onOpenEdit:()=>Ye(!0),onOpenSettings:()=>ae(!0),onOpenImport:()=>ie(!0),onOpenExport:()=>$(!0),onOpenGif:()=>ye(!0),onOpenMemorize:()=>he.active?_e():Ze(!0),isMemorizing:he.active}),leftSidebar:l.jsxs(l.Fragment,{children:[l.jsx(J0,{tabs:O,activeTabId:p,onSwitch:ce,onAdd:ue,onDelete:Ae,onRename:Ce,onReorder:Qe,onColorChange:We}),l.jsx(Cu,{currentFen:u.fen,currentBoard:u.boardState,onMoveClick:fe,onOpenAnalysis:()=>ke(!0),isEnabled:wt,onToggleEnabled:Gt})]}),rightSidebar:he.active?l.jsxs("div",{className:"flex flex-col h-full bg-zinc-900 items-center justify-center text-zinc-500 gap-4 p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-900/20 flex items-center justify-center animate-pulse",children:l.jsx(Ci,{size:32,className:"text-amber-500"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-zinc-300",children:""}),l.jsx("p",{className:"text-sm mt-2",children:""})]})]}):l.jsx(Su,{movePath:x,currentNode:u,rootNode:h,onJumpToMove:A=>{d(!1),M(A)},onUpdateComment:_,onRequestDelete:xt,onRequestDeleteNode:Pt,onReorder:V,onLinkFen:I}),board:l.jsx(Hu,{onMoveMade:(A,se)=>{d(!0);const le=v(A,se);return!le&&he.active&&(Xe(A.to),setTimeout(()=>Xe(null),200)),le},currentBoard:u.boardState,currentTurn:u.turn,lastMove:u.move?{from:u.move.from,to:u.move.to}:null,isFlipped:Q,isMirrored:re,redName:F.redName,blackName:F.blackName,flashCoord:Fe,hintMove:Ue,currentNode:u,onNodeSelect:A=>{d(!1),M(A)},settings:f,shouldAnimate:o}),controls:he.active?l.jsxs("div",{className:"flex gap-4 p-4 bg-zinc-900 border-t border-zinc-800 justify-center",children:[l.jsxs("button",{onClick:He,className:"flex items-center gap-2 px-6 py-3 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg font-bold shadow-lg shadow-yellow-900/20 active:scale-95 transition-all",children:[l.jsx(p0,{size:20,fill:"currentColor"})," "]}),l.jsxs("button",{onClick:_e,className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-500 text-white rounded-lg font-bold shadow-lg shadow-red-900/20 active:scale-95 transition-all",children:[l.jsx($u,{size:20})," "]})]}):l.jsx($0,{onNavigate:A=>{d(A==="next"||A==="end"),j(A)},onNavigateVariation:A=>{d(!1),Y(A)},onJumpToStep:A=>{d(!1),B(A)},onFlip:()=>J(!Q),onMirror:()=>be(!re),currentIndex:Be!==-1?Be:0,totalSteps:x.length,disabled:he.active}),mobileTabs:l.jsxs("div",{className:"grid grid-cols-3 gap-2 h-full",children:[l.jsxs("button",{onClick:()=>G("moves"),className:"bg-zinc-800 border border-zinc-700 rounded-lg flex items-center justify-center gap-2 text-zinc-300 active:bg-zinc-700",children:[l.jsx(x0,{size:18})," ",l.jsx("span",{className:"text-xs font-bold",children:""})]}),l.jsxs("button",{onClick:()=>G("cloud"),className:"bg-zinc-800 border border-zinc-700 rounded-lg flex items-center justify-center gap-2 text-zinc-300 active:bg-zinc-700",children:[l.jsx(_r,{size:18})," ",l.jsx("span",{className:"text-xs font-bold",children:""})]}),l.jsxs("button",{onClick:()=>G("tabs"),className:"bg-zinc-800 border border-zinc-700 rounded-lg flex items-center justify-center gap-2 text-zinc-300 active:bg-zinc-700",children:[l.jsx(b0,{size:18})," ",l.jsxs("span",{className:"text-xs font-bold",children:[" (",O.length,")"]})]})]}),mobileOverlay:l.jsxs(l.Fragment,{children:[it==="tabs"&&l.jsx(Z0,{isOpen:!0,onClose:()=>G("none"),tabs:O,activeTabId:p,onSwitch:ce,onAdd:ue,onDelete:Ae}),(it==="moves"||it==="cloud")&&l.jsxs("div",{className:"fixed inset-0 z-[60] bg-zinc-950 flex flex-col xl:hidden",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 h-14 bg-zinc-900 border-b border-zinc-800 shrink-0",children:[l.jsxs("div",{className:"flex gap-2 bg-zinc-800 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>G("moves"),className:`px-4 py-1 rounded-md text-sm transition-all ${it==="moves"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:""}),l.jsx("button",{onClick:()=>G("cloud"),className:`px-4 py-1 rounded-md text-sm transition-all ${it==="cloud"?"bg-zinc-700 text-white":"text-zinc-400"}`,children:""})]}),l.jsx("button",{onClick:()=>G("none"),className:"w-8 h-8 flex items-center justify-center rounded-full bg-zinc-800 text-zinc-400",children:l.jsx(cn,{size:20})})]}),l.jsx("div",{className:"flex-1 overflow-hidden relative bg-zinc-950",children:it==="moves"?l.jsx(Su,{movePath:x,currentNode:u,rootNode:h,onJumpToMove:A=>{d(!1),M(A),G("none")},onUpdateComment:_,onRequestDelete:xt,onRequestDeleteNode:Pt,onReorder:V,onLinkFen:I}):l.jsx(Cu,{currentFen:u.fen,currentBoard:u.boardState,onMoveClick:A=>{fe(A),G("none")},onOpenAnalysis:()=>{ke(!0),G("none")},isEnabled:wt,onToggleEnabled:Gt})})]})]})}),l.jsx(V0,{isOpen:nt,onClose:()=>ae(!1),settings:f,onUpdate:c}),l.jsx(U0,{isOpen:Ct,onClose:()=>et(!1),metadata:F,onSave:A=>{oe(A),P(se=>se.map(le=>le.id===p?{...le,metadata:A,title:A.title||le.title}:le))}}),l.jsx(Q0,{isOpen:De,onClose:()=>Ye(!1),initialFen:u.fen,onConfirm:Oe,isFlippedInitial:Q}),l.jsx(W0,{isOpen:y,onClose:()=>ie(!1),onImport:A=>{if(g(A.fen,A.moves,A.root),A.header){const se={...F,title:A.header.Title||F.title,redName:A.header.Red||F.redName,blackName:A.header.Black||F.blackName};oe(se),P(le=>le.map(Pe=>Pe.id===p?{...Pe,metadata:se,title:se.title||Pe.title}:Pe))}}}),l.jsx(X0,{isOpen:de,onClose:()=>$(!1),rootNode:h,metadata:F}),l.jsx(eh,{isOpen:qe,onClose:()=>Ze(!1),onStart:Le}),l.jsx(th,{isOpen:Me,onClose:()=>L(!1),errors:ge,totalSteps:Ee,activePath:x,startNodeId:Ie,endNodeId:u.id}),l.jsx(Y0,{isOpen:Se,onClose:()=>ye(!1),activePath:x,rootNode:h,metadata:F}),ze&&l.jsx(O0,{onClose:()=>ke(!1),movePath:x,onJumpToStep:A=>{d(!1),B(A)},onBatchUpdateComments:S,results:rt,setResults:at}),b.show&&l.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-sm w-full",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[b.type==="success"?l.jsx(r0,{className:"text-green-500",size:28}):l.jsx(n0,{className:"text-red-500",size:28}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:b.title}),l.jsx("p",{className:"text-sm text-zinc-400",children:b.message})]})]}),l.jsx("button",{onClick:U,className:"w-full py-2 bg-white text-zinc-950 font-bold rounded-lg",children:""})]})}),ee.show&&l.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-sm w-full",children:[l.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[l.jsx(i0,{className:"text-amber-500",size:28}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold",children:ee.title}),l.jsx("p",{className:"text-sm text-zinc-400",children:ee.message})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:te,className:"flex-1 py-2 bg-zinc-800 rounded-lg",children:""}),l.jsx("button",{onClick:()=>{ee.onConfirm(),te()},className:"flex-1 py-2 bg-red-600 font-bold rounded-lg",children:""})]})]})})]})},Vu=document.getElementById("root");if(!Vu)throw new Error("Could not find root element to mount to");const sh=Xf.createRoot(Vu);sh.render(l.jsx(Ru.StrictMode,{children:l.jsx(ih,{})}));
